----------------------------------------------------------------------
Patch name: patch.goswin-changes
Author: Goswin Brederlow, submitted by BBD
Date: late 2000 some time

Detailed description:

When Goswin Brederlow checked in his version of Bochs into
SourceForge, he had already made some changes to the 3-25-2000
snapshot.  Some changes are general purpose, others might be specific 
to debian.  This patch (against the 3-25-2000 snapshot) includes all
his changes.  He checked in his modified version as CVS version 1.1,
and never made any further changes.

Since Bryce couldn't contact him in March or April 2001, we asked to be made
admins on the bochs project, and replaced his CVS tree with Bryce's, which
starts with the 3-25-2000 snapshot.  Some of these diffs should be applied to
the new CVS tree.  As of 5/3/2001 they have not been applied.

----------------

Apply patch to:
  bochs 3/25/2000 snapshot
Instructions:
  To patch, go to main bochs directory.
  Type "patch -p1 < THIS_PATCH_FILE".
----------------------------------------------------------------------
diff -crN clean-bochs-2000-03-25/AUTHORS bochs-goswin/AUTHORS
*** clean-bochs-2000-03-25/AUTHORS	Wed Dec 31 19:00:00 1969
--- bochs-goswin/AUTHORS	Mon Oct  9 22:56:14 2000
***************
*** 0 ****
--- 1 ----
+ Goswin Brederlow <goswin.brederlow@student.uni-tuebingen.de>
diff -crN clean-bochs-2000-03-25/ChangeLog bochs-goswin/ChangeLog
*** clean-bochs-2000-03-25/ChangeLog	Wed Dec 31 19:00:00 1969
--- bochs-goswin/ChangeLog	Mon Oct  9 22:56:14 2000
***************
*** 0 ****
--- 1 ----
+ foo
diff -crN clean-bochs-2000-03-25/INSTALL bochs-goswin/INSTALL
*** clean-bochs-2000-03-25/INSTALL	Wed Dec 31 19:00:00 1969
--- bochs-goswin/INSTALL	Mon Oct  9 22:56:14 2000
***************
*** 0 ****
--- 1 ----
+ foo
diff -crN clean-bochs-2000-03-25/Makefile.am bochs-goswin/Makefile.am
*** clean-bochs-2000-03-25/Makefile.am	Wed Dec 31 19:00:00 1969
--- bochs-goswin/Makefile.am	Mon Oct  9 22:56:14 2000
***************
*** 0 ****
--- 1,43 ----
+ SUBDIRS =	bios \
+ 		cpu \
+ 		debian \
+ 		docs-html \
+ 		font \
+ 		fpu \
+ 		gui \
+ 		instrument \
+ 		iodev \
+ 		memory \
+ 		misc
+ 
+ ## debug \
+ ## disasm \
+ ## dynamic \
+ 
+ INCLUDES = -I $(top_srcdir)/instrument/stubs
+ 
+ bin_PROGRAMS = bochs.bin
+ bin_SCRIPTS = bochs
+ sysconf_DATA = bochsrc
+ 
+ CLEANFILES = bochs
+ 
+ bochs_bin_SOURCES = main.cc load32bitOShack.cc state_file.cc pc_system.cc
+ 
+ bochs_bin_LDADD =	iodev/libiodev.a \
+ 		cpu/libcpu.a \
+ 		memory/libmemory.a \
+ 		gui/libgui.a \
+ 		fpu/libfpu.a
+ 
+ bochs_bin_DEPENDS =	iodev/libiodev.a \
+ 		cpu/libcpu.a \
+ 		memory/libmemory.a \
+ 		gui/libgui.a \
+ 		fpu/libfpu.a
+ 
+ bochs:
+ 	echo >bochs "#!/bin/sh"
+ 	echo >>bochs ""
+ 	echo >>bochs "xset fp+ $(prefix)/share/bochs"
+ 	echo >>bochs bochs.bin
diff -crN clean-bochs-2000-03-25/Makefile.in bochs-goswin/Makefile.in
*** clean-bochs-2000-03-25/Makefile.in	Sat Mar 25 22:47:45 2000
--- bochs-goswin/Makefile.in	Wed Dec 31 19:00:00 1969
***************
*** 1,254 ****
- # Copyright (C) 2000  MandrakeSoft S.A.
- #
- #   MandrakeSoft S.A.
- #   43, rue d'Aboukir
- #   75002 Paris - France
- #   http://www.linux-mandrake.com/
- #   http://www.mandrakesoft.com/
- #
- # This library is free software; you can redistribute it and/or
- # modify it under the terms of the GNU Lesser General Public
- # License as published by the Free Software Foundation; either
- # version 2 of the License, or (at your option) any later version.
- #
- # This library is distributed in the hope that it will be useful,
- # but WITHOUT ANY WARRANTY; without even the implied warranty of
- # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- # Lesser General Public License for more details.
- #
- # You should have received a copy of the GNU Lesser General Public
- # License along with this library; if not, write to the Free Software
- # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
- 
- 
- @SUFFIX_LINE@
- 
- 
- SHELL = /bin/sh
- 
- 
- @SET_MAKE@
- 
- CC = @CC@
- CXX = @CXX@
- CFLAGS = @CFLAGS@ $(MCH_CFLAGS) $(FLA_FLAGS)
- CXXFLAGS = @CXXFLAGS@ $(MCH_CFLAGS) $(FLA_FLAGS)
- 
- LDFLAGS = @LDFLAGS@
- LIBS = @LIBS@
- X_LIBS = @X_LIBS@
- X_PRE_LIBS = @X_PRE_LIBS@
- GUI_LINK_OPTS_X = $(X_LIBS) $(X_PRE_LIBS) -lX11
- GUI_LINK_OPTS_BEOS = -lbe
- GUI_LINK_OPTS_WIN32 = -luser32 -lgdi32 -lwinmm -lcomdlg32 -lcomctl32
- GUI_LINK_OPTS_WIN32_VCPP = user32.lib gdi32.lib winmm.lib \
-   comdlg32.lib comctl32.lib wsock32.lib
- GUI_LINK_OPTS_MACOS =
- GUI_LINK_OPTS_NOGUI =
- GUI_LINK_OPTS = @GUI_LINK_OPTS@
- RANLIB = @RANLIB@
- 
- BX_INCDIRS = -I. -I@INSTRUMENT_DIR@
- 
- MDEFINES = CC="$(CC)" CXX="$(CXX)" CFLAGS="$(CFLAGS)" CXXFLAGS="$(CXXFLAGS)" \
-   LDFLAGS="$(LDFLAGS)" LIBS="$(LIBS)" \
-   X_LIBS="$(X_LIBS)" X_PRE_LIBS="$(X_PRE_LIBS)" \
-   prefix="$(prefix)" exec_prefix="$(exec_prefix)" \
-   bindir="$(bindir)" infodir="$(infodir)"
- 
- #SUBDIRS = iodev debug
- 
- #all install uninstall: config.h#
- #        for subdir in $(SUBDIRS); do #
- #          echo making $@ in $$subdir; #
- #          (cd $$subdir && $(MAKE) $(MDEFINES) $@) || exit 1; #
- #        done#
- 
- 
- 
- # gnu flags for clean up
- #CFLAGS  = -ansi -O -g -Wunused -Wuninitialized
- 
- 
- NONINLINE_OBJS = \
- 	main.o \
- 	load32bitOShack.o \
- 	state_file.o \
- 	pc_system.o
- 
- EXTERN_ENVIRONMENT_OBJS = \
- 	main.o \
- 	load32bitOShack.o \
- 	state_file.o \
- 	pc_system.o
- 
- DEBUGGER_LIB   = debug/libdebug.a
- DISASM_LIB     = disasm/libdisasm.a
- DYNAMIC_LIB    = dynamic/libdynamic.a
- INSTRUMENT_LIB = @INSTRUMENT_DIR@/libinstrument.a
- FPU_LIB        = fpu/libfpu.a
- 
- BX_OBJS = @NONINLINE_VAR@
- 
- BX_INCLUDES = bochs.h config.h
- 
- 
- .@CPP_SUFFIX@.o:
- 	$(CXX) @DASH@c $(CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
- 
- 
- all: @PRIMARY_TARGET@
- 
- 
- @EXTERNAL_DEPENDENCY@
- 
- bochs@EXE@: @IODEV_LIB_VAR@ @DEBUGGER_VAR@ \
-            cpu/libcpu.a memory/libmemory.a gui/libgui.a \
-            @DISASM_VAR@ @INSTRUMENT_VAR@ @DYNAMIC_VAR@ $(BX_OBJS) \
-            $(SIMX86_OBJS) \
-            $(FPU_LIB)
- 	@LINK@ $(BX_OBJS) \
-                 $(SIMX86_OBJS) \
- 		iodev/libiodev.a \
- 		cpu/libcpu.a memory/libmemory.a gui/libgui.a \
- 		@DEBUGGER_VAR@ @DISASM_VAR@ @INSTRUMENT_VAR@ @DYNAMIC_VAR@ \
- 		$(FPU_LIB) \
- 		$(GUI_LINK_OPTS) \
- 		$(MCH_LINK_FLAGS) \
- 	        $(SIMX86_LINK_FLAGS)
- 
- 
- $(BX_OBJS): $(BX_INCLUDES)
- 
- 
- iodev/libiodev.a:
- 	cd iodev @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libiodev.a
- 	@CD_UP_ONE@
- 
- debug/libdebug.a:
- 	cd debug @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libdebug.a
- 	@CD_UP_ONE@
- 
- cpu/libcpu.a:
- 	cd cpu @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libcpu.a
- 	@CD_UP_ONE@
- 
- memory/libmemory.a:
- 	cd memory @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libmemory.a
- 	@CD_UP_ONE@
- 
- gui/libgui.a:
- 	cd gui @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libgui.a
- 	@CD_UP_ONE@
- 
- disasm/libdisasm.a:
- 	cd disasm @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libdisasm.a
- 	@CD_UP_ONE@
- 
- dynamic/libdynamic.a:
- 	cd dynamic @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libdynamic.a
- 	@CD_UP_ONE@
- 
- @INSTRUMENT_DIR@/libinstrument.a:
- 	cd @INSTRUMENT_DIR@ @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libinstrument.a
- 	@CD_UP_TWO@
- 
- fpu/libfpu.a:
- 	cd fpu @COMMAND_SEPARATOR@
- 	$(MAKE) $(MDEFINES) libfpu.a
- 	@CD_UP_ONE@
- 
- libbochs.a:
- 	-rm -f libbochs.a
- 	ar rv libbochs.a $(EXTERN_ENVIRONMENT_OBJS)
- 	$(RANLIB) libbochs.a
- 
- libbochs_cpu.a: @DEBUGGER_VAR@ $(BX_OBJS)
- 	-rm -f libbochs_cpu.a
- 	ar rv libbochs_cpu.a $(BX_OBJS)
- 	$(RANLIB) libbochs_cpu.a
- 
- clean:
- 	@RMCOMMAND@ *.o
- 	@RMCOMMAND@ *.a
- 	@RMCOMMAND@ bochs@EXE@
- 	@RMCOMMAND@ bochs.out
- 
- local-dist-clean: clean
- 	@RMCOMMAND@ config.h config.status config.log config.cache
- 
- all-clean: clean
- 	cd iodev @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd debug @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd cpu @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd memory @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd gui @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd disasm @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd @INSTRUMENT_DIR@ @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_TWO@
- 	cd misc @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd dynamic @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 	cd fpu @COMMAND_SEPARATOR@
- 	$(MAKE) clean
- 	@CD_UP_ONE@
- 
- dist-clean: local-dist-clean
- 	cd iodev @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd debug @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd bios @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd cpu @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd memory @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd gui @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd disasm @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd @INSTRUMENT_DIR@ @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_TWO@
- 	cd misc @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd dynamic @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	cd fpu @COMMAND_SEPARATOR@
- 	$(MAKE) dist-clean
- 	@CD_UP_ONE@
- 	@RMCOMMAND@ Makefile
--- 0 ----
diff -crN clean-bochs-2000-03-25/Makefile.in.upstream bochs-goswin/Makefile.in.upstream
*** clean-bochs-2000-03-25/Makefile.in.upstream	Wed Dec 31 19:00:00 1969
--- bochs-goswin/Makefile.in.upstream	Mon Oct  9 23:02:47 2000
***************
*** 0 ****
--- 1,254 ----
+ # Copyright (C) 2000  MandrakeSoft S.A.
+ #
+ #   MandrakeSoft S.A.
+ #   43, rue d'Aboukir
+ #   75002 Paris - France
+ #   http://www.linux-mandrake.com/
+ #   http://www.mandrakesoft.com/
+ #
+ # This library is free software; you can redistribute it and/or
+ # modify it under the terms of the GNU Lesser General Public
+ # License as published by the Free Software Foundation; either
+ # version 2 of the License, or (at your option) any later version.
+ #
+ # This library is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY; without even the implied warranty of
+ # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ # Lesser General Public License for more details.
+ #
+ # You should have received a copy of the GNU Lesser General Public
+ # License along with this library; if not, write to the Free Software
+ # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
+ 
+ 
+ @SUFFIX_LINE@
+ 
+ 
+ SHELL = /bin/sh
+ 
+ 
+ @SET_MAKE@
+ 
+ CC = @CC@
+ CXX = @CXX@
+ CFLAGS = @CFLAGS@ $(MCH_CFLAGS) $(FLA_FLAGS)
+ CXXFLAGS = @CXXFLAGS@ $(MCH_CFLAGS) $(FLA_FLAGS)
+ 
+ LDFLAGS = @LDFLAGS@
+ LIBS = @LIBS@
+ X_LIBS = @X_LIBS@
+ X_PRE_LIBS = @X_PRE_LIBS@
+ GUI_LINK_OPTS_X = $(X_LIBS) $(X_PRE_LIBS) -lX11
+ GUI_LINK_OPTS_BEOS = -lbe
+ GUI_LINK_OPTS_WIN32 = -luser32 -lgdi32 -lwinmm -lcomdlg32 -lcomctl32
+ GUI_LINK_OPTS_WIN32_VCPP = user32.lib gdi32.lib winmm.lib \
+   comdlg32.lib comctl32.lib wsock32.lib
+ GUI_LINK_OPTS_MACOS =
+ GUI_LINK_OPTS_NOGUI =
+ GUI_LINK_OPTS = @GUI_LINK_OPTS@
+ RANLIB = @RANLIB@
+ 
+ BX_INCDIRS = -I. -I@INSTRUMENT_DIR@
+ 
+ MDEFINES = CC="$(CC)" CXX="$(CXX)" CFLAGS="$(CFLAGS)" CXXFLAGS="$(CXXFLAGS)" \
+   LDFLAGS="$(LDFLAGS)" LIBS="$(LIBS)" \
+   X_LIBS="$(X_LIBS)" X_PRE_LIBS="$(X_PRE_LIBS)" \
+   prefix="$(prefix)" exec_prefix="$(exec_prefix)" \
+   bindir="$(bindir)" infodir="$(infodir)"
+ 
+ #SUBDIRS = iodev debug
+ 
+ #all install uninstall: config.h#
+ #        for subdir in $(SUBDIRS); do #
+ #          echo making $@ in $$subdir; #
+ #          (cd $$subdir && $(MAKE) $(MDEFINES) $@) || exit 1; #
+ #        done#
+ 
+ 
+ 
+ # gnu flags for clean up
+ #CFLAGS  = -ansi -O -g -Wunused -Wuninitialized
+ 
+ 
+ NONINLINE_OBJS = \
+ 	main.o \
+ 	load32bitOShack.o \
+ 	state_file.o \
+ 	pc_system.o
+ 
+ EXTERN_ENVIRONMENT_OBJS = \
+ 	main.o \
+ 	load32bitOShack.o \
+ 	state_file.o \
+ 	pc_system.o
+ 
+ DEBUGGER_LIB   = debug/libdebug.a
+ DISASM_LIB     = disasm/libdisasm.a
+ DYNAMIC_LIB    = dynamic/libdynamic.a
+ INSTRUMENT_LIB = @INSTRUMENT_DIR@/libinstrument.a
+ FPU_LIB        = fpu/libfpu.a
+ 
+ BX_OBJS = @NONINLINE_VAR@
+ 
+ BX_INCLUDES = bochs.h config.h
+ 
+ 
+ .@CPP_SUFFIX@.o:
+ 	$(CXX) @DASH@c $(CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
+ 
+ 
+ all: @PRIMARY_TARGET@
+ 
+ 
+ @EXTERNAL_DEPENDENCY@
+ 
+ bochs@EXE@: @IODEV_LIB_VAR@ @DEBUGGER_VAR@ \
+            cpu/libcpu.a memory/libmemory.a gui/libgui.a \
+            @DISASM_VAR@ @INSTRUMENT_VAR@ @DYNAMIC_VAR@ $(BX_OBJS) \
+            $(SIMX86_OBJS) \
+            $(FPU_LIB)
+ 	@LINK@ $(BX_OBJS) \
+                 $(SIMX86_OBJS) \
+ 		iodev/libiodev.a \
+ 		cpu/libcpu.a memory/libmemory.a gui/libgui.a \
+ 		@DEBUGGER_VAR@ @DISASM_VAR@ @INSTRUMENT_VAR@ @DYNAMIC_VAR@ \
+ 		$(FPU_LIB) \
+ 		$(GUI_LINK_OPTS) \
+ 		$(MCH_LINK_FLAGS) \
+ 	        $(SIMX86_LINK_FLAGS)
+ 
+ 
+ $(BX_OBJS): $(BX_INCLUDES)
+ 
+ 
+ iodev/libiodev.a:
+ 	cd iodev @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libiodev.a
+ 	@CD_UP_ONE@
+ 
+ debug/libdebug.a:
+ 	cd debug @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libdebug.a
+ 	@CD_UP_ONE@
+ 
+ cpu/libcpu.a:
+ 	cd cpu @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libcpu.a
+ 	@CD_UP_ONE@
+ 
+ memory/libmemory.a:
+ 	cd memory @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libmemory.a
+ 	@CD_UP_ONE@
+ 
+ gui/libgui.a:
+ 	cd gui @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libgui.a
+ 	@CD_UP_ONE@
+ 
+ disasm/libdisasm.a:
+ 	cd disasm @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libdisasm.a
+ 	@CD_UP_ONE@
+ 
+ dynamic/libdynamic.a:
+ 	cd dynamic @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libdynamic.a
+ 	@CD_UP_ONE@
+ 
+ @INSTRUMENT_DIR@/libinstrument.a:
+ 	cd @INSTRUMENT_DIR@ @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libinstrument.a
+ 	@CD_UP_TWO@
+ 
+ fpu/libfpu.a:
+ 	cd fpu @COMMAND_SEPARATOR@
+ 	$(MAKE) $(MDEFINES) libfpu.a
+ 	@CD_UP_ONE@
+ 
+ libbochs.a:
+ 	-rm -f libbochs.a
+ 	ar rv libbochs.a $(EXTERN_ENVIRONMENT_OBJS)
+ 	$(RANLIB) libbochs.a
+ 
+ libbochs_cpu.a: @DEBUGGER_VAR@ $(BX_OBJS)
+ 	-rm -f libbochs_cpu.a
+ 	ar rv libbochs_cpu.a $(BX_OBJS)
+ 	$(RANLIB) libbochs_cpu.a
+ 
+ clean:
+ 	@RMCOMMAND@ *.o
+ 	@RMCOMMAND@ *.a
+ 	@RMCOMMAND@ bochs@EXE@
+ 	@RMCOMMAND@ bochs.out
+ 
+ local-dist-clean: clean
+ 	@RMCOMMAND@ config.h config.status config.log config.cache
+ 
+ all-clean: clean
+ 	cd iodev @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd debug @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd cpu @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd memory @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd gui @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd disasm @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd @INSTRUMENT_DIR@ @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_TWO@
+ 	cd misc @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd dynamic @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 	cd fpu @COMMAND_SEPARATOR@
+ 	$(MAKE) clean
+ 	@CD_UP_ONE@
+ 
+ dist-clean: local-dist-clean
+ 	cd iodev @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd debug @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd bios @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd cpu @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd memory @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd gui @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd disasm @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd @INSTRUMENT_DIR@ @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_TWO@
+ 	cd misc @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd dynamic @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	cd fpu @COMMAND_SEPARATOR@
+ 	$(MAKE) dist-clean
+ 	@CD_UP_ONE@
+ 	@RMCOMMAND@ Makefile
diff -crN clean-bochs-2000-03-25/NEWS bochs-goswin/NEWS
*** clean-bochs-2000-03-25/NEWS	Wed Dec 31 19:00:00 1969
--- bochs-goswin/NEWS	Mon Oct  9 22:56:14 2000
***************
*** 0 ****
--- 1 ----
+ foo
Binary files clean-bochs-2000-03-25/bios/BIOS-bochs-990925a and bochs-goswin/bios/BIOS-bochs-990925a differ
diff -crN clean-bochs-2000-03-25/bios/Makefile.am bochs-goswin/bios/Makefile.am
*** clean-bochs-2000-03-25/bios/Makefile.am	Wed Dec 31 19:00:00 1969
--- bochs-goswin/bios/Makefile.am	Mon Oct  9 22:53:32 2000
***************
*** 0 ****
--- 1,40 ----
+ INCLUDES = -I .. -I $(top_srcdir)/iodev
+ 
+ .@CPP_SUFFIX@.o:
+ 	$(CXX) -c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(INCLUDES) @CXXFP@$< @OFP@$@
+ 
+ pkgdata_DATA = BIOS-bochs-990925a VGABIOS-elpin-2.20
+ 
+ all: 
+ 
+ bios: rombios.bin
+ 
+ clean:
+ 	@RMCOMMAND@ *.o
+ 	@RMCOMMAND@ *.a
+ 	@RMCOMMAND@ _rombios_.c
+ 
+ dist-clean: clean bios-clean
+ 	@RMCOMMAND@ Makefile
+ 	@RMCOMMAND@ usage
+ 
+ bios-clean:
+ 	@RMCOMMAND@ rombios.o
+ 	@RMCOMMAND@ *.s
+ 	@RMCOMMAND@ *.ld86
+ 	@RMCOMMAND@ rombios.bin
+ 	@RMCOMMAND@ temp.awk.*
+ 	@RMCOMMAND@ rombios.s.orig
+ 	@RMCOMMAND@ _rombios_.c
+ 
+ 
+ rombios.bin: rombios.o
+ 	ld86 -r -s -o rombios.ld86 -i -0 rombios.o
+ 	dd if=rombios.ld86 of=$@ ibs=32 skip=1
+ 	ls -l rombios.bin
+ 
+ rombios.o: rombios.c
+ 	gcc -E rombios.c | tools86 -E > _rombios_.c
+ 	bcc-cc1 -o rombios.s -c -D__i86__ -0 _rombios_.c
+ 	dataseghack
+ 	as86 rombios.s -o rombios.o -u -w -g -0 -j
diff -crN clean-bochs-2000-03-25/bios/Makefile.in bochs-goswin/bios/Makefile.in
*** clean-bochs-2000-03-25/bios/Makefile.in	Sat Mar 25 22:48:11 2000
--- bochs-goswin/bios/Makefile.in	Mon Oct  9 23:02:48 2000
***************
*** 1,53 ****
! # Copyright (C) 2000  MandrakeSoft S.A.
! #
! #   MandrakeSoft S.A.
! #   43, rue d'Aboukir
! #   75002 Paris - France
! #   http://www.linux-mandrake.com/
! #   http://www.mandrakesoft.com/
! #
! # This library is free software; you can redistribute it and/or
! # modify it under the terms of the GNU Lesser General Public
! # License as published by the Free Software Foundation; either
! # version 2 of the License, or (at your option) any later version.
! #
! # This library is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
! # Lesser General Public License for more details.
! #
! # You should have received a copy of the GNU Lesser General Public
! # License along with this library; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
! 
! # Makefile for the BIOS component of bochs
! 
! 
! @SUFFIX_LINE@
! 
! 
! SHELL = /bin/sh
! 
! @SET_MAKE@
  
  CXX = @CXX@
! CXXFLAGS = @CXXFLAGS@
! 
! LDFLAGS = @LDFLAGS@
! LIBS = @LIBS@
  RANLIB = @RANLIB@
! 
! BX_INCDIRS = -I.. -I../iodev
! LOCAL_CXXFLAGS =
! 
! #
! # -------- end configurable options --------------------------
! #
  
  
  .@CPP_SUFFIX@.o:
! 	$(CXX) -c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
  
  
  bios: rombios.bin
  
--- 1,237 ----
! # Makefile.in generated automatically by automake 1.4 from Makefile.am
  
+ # Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
+ # This Makefile.in is free software; the Free Software Foundation
+ # gives unlimited permission to copy and/or distribute it,
+ # with or without modifications, as long as this notice is preserved.
+ 
+ # This program is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+ # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ # PARTICULAR PURPOSE.
+ 
+ 
+ SHELL = @SHELL@
+ 
+ srcdir = @srcdir@
+ top_srcdir = @top_srcdir@
+ VPATH = @srcdir@
+ prefix = @prefix@
+ exec_prefix = @exec_prefix@
+ 
+ bindir = @bindir@
+ sbindir = @sbindir@
+ libexecdir = @libexecdir@
+ datadir = @datadir@
+ sysconfdir = @sysconfdir@
+ sharedstatedir = @sharedstatedir@
+ localstatedir = @localstatedir@
+ libdir = @libdir@
+ infodir = @infodir@
+ mandir = @mandir@
+ includedir = @includedir@
+ oldincludedir = /usr/include
+ 
+ DESTDIR =
+ 
+ pkgdatadir = $(datadir)/@PACKAGE@
+ pkglibdir = $(libdir)/@PACKAGE@
+ pkgincludedir = $(includedir)/@PACKAGE@
+ 
+ top_builddir = ..
+ 
+ ACLOCAL = @ACLOCAL@
+ AUTOCONF = @AUTOCONF@
+ AUTOMAKE = @AUTOMAKE@
+ AUTOHEADER = @AUTOHEADER@
+ 
+ INSTALL = @INSTALL@
+ INSTALL_PROGRAM = @INSTALL_PROGRAM@ $(AM_INSTALL_PROGRAM_FLAGS)
+ INSTALL_DATA = @INSTALL_DATA@
+ INSTALL_SCRIPT = @INSTALL_SCRIPT@
+ transform = @program_transform_name@
+ 
+ NORMAL_INSTALL = :
+ PRE_INSTALL = :
+ POST_INSTALL = :
+ NORMAL_UNINSTALL = :
+ PRE_UNINSTALL = :
+ POST_UNINSTALL = :
+ AS_DYNAMIC_INCS = @AS_DYNAMIC_INCS@
+ AS_DYNAMIC_OBJS = @AS_DYNAMIC_OBJS@
+ BX_LOADER_OBJS = @BX_LOADER_OBJS@
+ CC = @CC@
+ CDROM_OBJS = @CDROM_OBJS@
+ CD_UP_ONE = @CD_UP_ONE@
+ CD_UP_TWO = @CD_UP_TWO@
+ CFP = @CFP@
+ COMMAND_SEPARATOR = @COMMAND_SEPARATOR@
+ CPP_SUFFIX = @CPP_SUFFIX@
  CXX = @CXX@
! CXXFP = @CXXFP@
! DASH = @DASH@
! DEBUGGER_VAR = @DEBUGGER_VAR@
! DISASM_VAR = @DISASM_VAR@
! DYNAMIC_VAR = @DYNAMIC_VAR@
! EXE = @EXE@
! EXTERNAL_DEPENDENCY = @EXTERNAL_DEPENDENCY@
! FPU_GLUE_OBJ = @FPU_GLUE_OBJ@
! FPU_VAR = @FPU_VAR@
! GUI_LINK_OPTS = @GUI_LINK_OPTS@
! GUI_OBJS = @GUI_OBJS@
! INLINE_VAR = @INLINE_VAR@
! INSTRUMENT_DIR = @INSTRUMENT_DIR@
! INSTRUMENT_VAR = @INSTRUMENT_VAR@
! IODEV_LIB_VAR = @IODEV_LIB_VAR@
! LINK = @LINK@
! MAKEINFO = @MAKEINFO@
! MAKELIB = @MAKELIB@
! NE2K_OBJS = @NE2K_OBJS@
! NONINLINE_VAR = @NONINLINE_VAR@
! OFP = @OFP@
! PACKAGE = @PACKAGE@
! PCI_OBJ = @PCI_OBJ@
! PRIMARY_TARGET = @PRIMARY_TARGET@
  RANLIB = @RANLIB@
! RMCOMMAND = @RMCOMMAND@
! SB16_OBJS = @SB16_OBJS@
! SLASH = @SLASH@
! SUFFIX_LINE = @SUFFIX_LINE@
! VERSION = @VERSION@
! VIDEO_OBJS = @VIDEO_OBJS@
! 
! INCLUDES = -I .. -I $(top_srcdir)/iodev
! 
! pkgdata_DATA = BIOS-bochs-990925a VGABIOS-elpin-2.20
! mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
! CONFIG_CLEAN_FILES = 
! DATA =  $(pkgdata_DATA)
! 
! DIST_COMMON =  Makefile.am Makefile.in
! 
! 
! DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)
! 
! TAR = tar
! GZIP_ENV = --best
! all: all-redirect
! .SUFFIXES:
! $(srcdir)/Makefile.in: Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) 
! 	cd $(top_srcdir) && $(AUTOMAKE) --gnu bios/Makefile
! 
! Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status $(BUILT_SOURCES)
! 	cd $(top_builddir) \
! 	  && CONFIG_FILES=$(subdir)/$@ CONFIG_HEADERS= $(SHELL) ./config.status
! 
! 
! install-pkgdataDATA: $(pkgdata_DATA)
! 	@$(NORMAL_INSTALL)
! 	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)
! 	@list='$(pkgdata_DATA)'; for p in $$list; do \
! 	  if test -f $(srcdir)/$$p; then \
! 	    echo " $(INSTALL_DATA) $(srcdir)/$$p $(DESTDIR)$(pkgdatadir)/$$p"; \
! 	    $(INSTALL_DATA) $(srcdir)/$$p $(DESTDIR)$(pkgdatadir)/$$p; \
! 	  else if test -f $$p; then \
! 	    echo " $(INSTALL_DATA) $$p $(DESTDIR)$(pkgdatadir)/$$p"; \
! 	    $(INSTALL_DATA) $$p $(DESTDIR)$(pkgdatadir)/$$p; \
! 	  fi; fi; \
! 	done
! 
! uninstall-pkgdataDATA:
! 	@$(NORMAL_UNINSTALL)
! 	list='$(pkgdata_DATA)'; for p in $$list; do \
! 	  rm -f $(DESTDIR)$(pkgdatadir)/$$p; \
! 	done
! tags: TAGS
! TAGS:
! 
! 
! distdir = $(top_builddir)/$(PACKAGE)-$(VERSION)/$(subdir)
! 
! subdir = bios
! 
! distdir: $(DISTFILES)
! 	here=`cd $(top_builddir) && pwd`; \
! 	top_distdir=`cd $(top_distdir) && pwd`; \
! 	distdir=`cd $(distdir) && pwd`; \
! 	cd $(top_srcdir) \
! 	  && $(AUTOMAKE) --include-deps --build-dir=$$here --srcdir-name=$(top_srcdir) --output-dir=$$top_distdir --gnu bios/Makefile
! 	@for file in $(DISTFILES); do \
! 	  d=$(srcdir); \
! 	  if test -d $$d/$$file; then \
! 	    cp -pr $$d/$$file $(distdir)/$$file; \
! 	  else \
! 	    test -f $(distdir)/$$file \
! 	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
! 	    || cp -p $$d/$$file $(distdir)/$$file || :; \
! 	  fi; \
! 	done
! info-am:
! info: info-am
! dvi-am:
! dvi: dvi-am
! check-am: all-am
! check: check-am
! installcheck-am:
! installcheck: installcheck-am
! install-exec-am:
! install-exec: install-exec-am
! 
! install-data-am: install-pkgdataDATA
! install-data: install-data-am
! 
! install-am: all-am
! 	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
! install: install-am
! uninstall-am: uninstall-pkgdataDATA
! uninstall: uninstall-am
! all-am: Makefile $(DATA)
! all-redirect: all-am
! install-strip:
! 	$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install
! installdirs:
! 	$(mkinstalldirs)  $(DESTDIR)$(pkgdatadir)
! 
! 
! mostlyclean-generic:
! 
! clean-generic:
! 
! distclean-generic:
! 	-rm -f Makefile $(CONFIG_CLEAN_FILES)
! 	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
! 
! maintainer-clean-generic:
! mostlyclean-am:  mostlyclean-generic
! 
! mostlyclean: mostlyclean-am
! 
! clean-am:  clean-generic mostlyclean-am
! 
! clean: clean-am
! 
! distclean-am:  distclean-generic clean-am
! 
! distclean: distclean-am
! 
! maintainer-clean-am:  maintainer-clean-generic distclean-am
! 	@echo "This command is intended for maintainers to use;"
! 	@echo "it deletes files that may require special tools to rebuild."
! 
! maintainer-clean: maintainer-clean-am
! 
! .PHONY: uninstall-pkgdataDATA install-pkgdataDATA tags distdir info-am \
! info dvi-am dvi check check-am installcheck-am installcheck \
! install-exec-am install-exec install-data-am install-data install-am \
! install uninstall-am uninstall all-redirect all-am all installdirs \
! mostlyclean-generic distclean-generic clean-generic \
! maintainer-clean-generic clean mostlyclean distclean maintainer-clean
  
  
  .@CPP_SUFFIX@.o:
! 	$(CXX) -c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(INCLUDES) @CXXFP@$< @OFP@$@
  
+ all: 
  
  bios: rombios.bin
  
***************
*** 69,75 ****
  	@RMCOMMAND@ rombios.s.orig
  	@RMCOMMAND@ _rombios_.c
  
- 
  rombios.bin: rombios.o
  	ld86 -r -s -o rombios.ld86 -i -0 rombios.o
  	dd if=rombios.ld86 of=$@ ibs=32 skip=1
--- 253,258 ----
***************
*** 80,82 ****
--- 263,269 ----
  	bcc-cc1 -o rombios.s -c -D__i86__ -0 _rombios_.c
  	dataseghack
  	as86 rombios.s -o rombios.o -u -w -g -0 -j
+ 
+ # Tell versions [3.59,3.63) of GNU make to not export all variables.
+ # Otherwise a system limit (for SysV at least) may be exceeded.
+ .NOEXPORT:
Binary files clean-bochs-2000-03-25/bios/VGABIOS-elpin-2.20 and bochs-goswin/bios/VGABIOS-elpin-2.20 differ
diff -crN clean-bochs-2000-03-25/bios/VGABIOS-elpin-LICENSE bochs-goswin/bios/VGABIOS-elpin-LICENSE
*** clean-bochs-2000-03-25/bios/VGABIOS-elpin-LICENSE	Sat Mar 25 23:15:21 2000
--- bochs-goswin/bios/VGABIOS-elpin-LICENSE	Wed Dec 31 19:00:00 1969
***************
*** 1,22 ****
- I now have a permanent licensing agreement with Elpin Systems (http://www.elpin.com)
- to use and distribute this binary VGA BIOS with and *only* with Bochs.
- 
- You may NOT use this version of their VGA BIOS for any purposes
- other than within the Bochs x86 emulator, without the permission of
- Elpin Systems.
- 
- From what I've seen from Elpin Systems, their code is very
- accurate, and I highly recommend them if you're looking
- for precise (S)VGA emulation.  Also they have entertainment
- software.  An excerpt from their Web site:
- 
-       Elpin Systems is a manufacturer of software located in San Jose,
-     California. The Elpin Systems Entertainment Division is committed to
-       developing and delivering quality Windows applications into the
-                   productivity and entertainment markets.
- 
-    The Systems Division has developed a line of VGA development tools and
-     products, including the "VGA Core Test Suite", the "VGA Core Sample
-                     Implementation", and the "VGA BIOS".
- 
- -Kevin Lawton
--- 0 ----
diff -crN clean-bochs-2000-03-25/bochs.h bochs-goswin/bochs.h
*** clean-bochs-2000-03-25/bochs.h	Sat Mar 25 22:24:57 2000
--- bochs-goswin/bochs.h	Mon Oct  9 22:53:32 2000
***************
*** 24,29 ****
--- 24,36 ----
  #ifndef BX_BOCHS_H
  #  define BX_BOCHS_H 1
  
+ #define _GNU_SOURCE 1 
+ #define _LARGEFILE_SOURCE 1
+ #define _LARGEFILE64_SOURCE 1
+ #define _FILE_OFFSET_BITS 64
+ 
+ #include <features.h>
+ 
  extern "C" {
  #include <stdarg.h>
  #include <stdio.h>
diff -crN clean-bochs-2000-03-25/bochsrc bochs-goswin/bochsrc
*** clean-bochs-2000-03-25/bochsrc	Wed Dec 31 19:00:00 1969
--- bochs-goswin/bochsrc	Mon Oct  9 22:56:14 2000
***************
*** 0 ****
--- 1,294 ----
+ #megs: 64
+ megs: 32
+ #megs: 16
+ #megs: 8
+ boot: a
+ vgaromimage: bios/VGABIOS-elpin-2.20
+ vgaromimage: /usr/share/bochs/VGABIOS-elpin-2.20
+ 
+ # You many now use double quotes around pathnames, in case
+ # your pathname includes spaces.
+ 
+ # For Macintosh, use the style of pathnames in the following
+ # examples.  Leave only one of each directive uncommented,
+ # if any.
+ 
+ #vgaromimage: :bios:VGABIOS-elpin-2.20
+ #romimage: file=:bios:BIOS-bochs-981222a, address=0xf0000
+ #floppya: 1_44=[fd:], status=inserted
+ #diskc: file=big.img, cyl=900, heads=15, spt=17
+ 
+ #time0: 938581955
+ 
+ #diskc: file=../46M.win95, cyl=940, heads=6, spt=17
+ #diskc: file=../112M.bogus, cyl=900, heads=15, spt=17
+ #diskc: file=../112M.test, cyl=900, heads=15, spt=17
+ #diskc: file=../46M.idsoftware, cyl=940, heads=6, spt=17
+ #diskc: file=../30M.dos622, cyl=615, heads=6, spt=17
+ #diskc: file=../30M.minix2.0, cyl=615, heads=6, spt=17
+ #diskc: file=../30M.minix-1.7.4, cyl=615, heads=6, spt=17
+ #diskc: file=../62M, cyl=940, heads=8, spt=17
+ #diskc: file=../62M.new, cyl=940, heads=8, spt=17
+ 
+ #diskc: file=../585M, cyl=1162, heads=16, spt=63
+ #diskc: file=../528M, cyl=1024, heads=16, spt=63
+ 
+ #diskc: file=../62M.980115, cyl=940, heads=8, spt=17
+ #diskc: file="../10M.vga", cyl=306, heads=4, spt=17
+ #diskc: file=../10M.dos622, cyl=306, heads=4, spt=17
+ #diskc: file=../30M.freebsd, cyl=615, heads=6, spt=17
+ #diskc: file=../126M.freeBSD_2.2.8, cyl=256, heads=16, spt=63
+ 
+ #diskc: file=../30M.validate, cyl=615, heads=6, spt=17
+ #diskc: file="../10M.fpu", cyl=306, heads=4, spt=17
+ 
+ #diskc: file=../472.ws, cyl=1000, heads=15, spt=63
+ #diskc: file=../504M.linux, cyl=1024, heads=16, spt=63
+ #diskc: file=../126M.linux, cyl=256, heads=16, spt=63
+ #diskc: file=../10M.win31, cyl=306, heads=4, spt=17
+ #diskc: file=../rrrr, cyl=1, heads=2, spt=18
+ #diskc: file=../483M.NT40, cyl=1024, heads=15, spt=63
+ 
+ #cdromd: dev=/dev/cdrom, status=inserted
+ #cdromd: dev=/dev/cdrom, status=ejected
+ 
+ 
+ #floppya: 1_44=/vol/dev/aliases/floppy0, status=inserted
+ 
+ #floppya: 1_44=../1.44, status=inserted
+ #floppya: 1_44=../1.44.freebsd, status=inserted
+ #floppya: 720k=../720k.dos33, status=inserted
+ 
+ floppya: 1_44=/usr/share/bochs/demodisk.img, status=inserted
+ #floppyb: 1_44=../1.44b, status=inserted
+ #floppya: 1_44=/dev/fd0, status=inserted
+ #floppyb: 1_44=../1.44b, status=inserted
+ 
+ #floppyb: 1_44=../1.680
+ #floppya: 1_44=../1.44.yodlowsk
+ #floppya: 1_2=../1.2
+ #floppyb: 1_44=../1.680
+ 
+ #romimage: file=bios/BIOS-bochs-990925a, address=0xf0000
+ romimage: file=/usr/share/bochs/BIOS-bochs-990925a, address=0xf0000
+ 
+ #romimage: file=bios/rombios.bin, address=0xf0000
+ #romimage: file=../cbios961203
+ #romimage: file=../r980820.rom, address=0xe0000
+ #romimage: file=bios/BIOS-bochs-990907a, address=0xf0000
+ #romimage: file=/home/kpl/floating_point/bios/rombios.bin, address=0xf0000
+ #romimage: file=bios/BIOS-bochs-990218a, address=0xf0000
+ #romimage: file=../dttest.bin, address=0xf0000
+ 
+ #romimage: ../cbios961112
+ #vgaromimage: ../vgacbios961111
+ #romimage: ../cbios961203
+ 
+ #log: /dev/null
+ #log: ./bochs.out
+ log: /dev/tty
+ keyboard_serial_delay: 200
+ floppy_command_delay: 500
+ #ips:  1500000
+ #ips:  5000000
+ 
+ vga_update_interval: 300000
+ 
+ ips:  1000000
+ #ips:   750000
+ 
+ # using for Winstone '98 tests
+ #vga_update_interval:  100000
+ #ips: 40000000
+ 
+ mouse: enabled=0
+ private_colormap: enabled=0
+ i440fxsupport: enabled=0
+ newharddrivesupport: enabled=1
+ #cmosimage: pathname
+ 
+ #=======================================================================
+ # ROMIMAGE:
+ # You now need to load a ROM BIOS into F0000-FFFFF.  I've wiped
+ # out most of the BIOS hooks, and replace them with real BIOS
+ # support.  Normally, you can use a precompiled BIOS in the bios/
+ # directory, named BIOS-bochs-yymmdd.  Use the latest one in there.
+ #=======================================================================
+ #romimage: bios/BIOS-bochs-970717a
+ 
+ #=======================================================================
+ # MEGS
+ # set this to the default number of Megabytes of memory you want
+ # to emulate.  You may also pass the '-megs xyz' option to bochs
+ #=======================================================================
+ #megs: 8
+ 
+ #=======================================================================
+ # VGAROMIMAGE
+ # You now need to load a VGA ROM BIOS into C0000.
+ #=======================================================================
+ #vgaromimage: bios/VGABIOS-elpin-2.20
+ 
+ #=======================================================================
+ # FLOPPYA:
+ # Point this to pathname of floppy image file or device
+ # This should be of a bootable floppy(image/device) if you're booting from 'a'.
+ # You can set the initial status of the media to 'ejected' or 'inserted'.
+ #   floppya: 2_88=path, status=ejected             (2.88M 3.5" floppy)
+ #   floppya: 1_44=path, status=inserted            (1.44M 3.5" floppy)
+ #   floppya: 1_2=path, status=ejected              (1.2M  5.25" floppy)
+ #   floppya: 720k=path, status=inserted            (720K  3.5" floppy)
+ #=======================================================================
+ #floppya: file=../144
+ #floppya: file=/dev/fd0
+ #floppya: 1_44=/dev/fd0H1440
+ #floppya: 1_2=../1_2
+ 
+ #=======================================================================
+ # FLOPPYB:
+ # See FLOPPYA above
+ #=======================================================================
+ 
+ #=======================================================================
+ # DISKC: file=, cyl=, heads=, spt=
+ # Point this at a 10M, 20M, or 30M hard disk image file.
+ # Read INSTALL to create one.
+ # Examples:
+ #   diskc: file=10M.sample, cyl=306, heads=4, spt=17
+ #   diskc: file=20M.sample, cyl=615, heads=4, spt=17
+ #   diskc: file=30M.sample, cyl=615, heads=6, spt=17
+ #   diskc: file=46M.sample, cyl=940, heads=6, spt=17
+ #   diskc: file=62M.sample, cyl=940, heads=8, spt=17
+ #   diskc: file=112M.sample, cyl=900, heads=15, spt=17
+ #   diskc: file=483M.sample, cyl=1024, heads=15, spt=63
+ #=======================================================================
+ 
+ #=======================================================================
+ # BOOT:
+ # This defines your boot drive.  You can either boot from 'a' or 'c'.
+ # Examples:
+ #   boot: c
+ #   boot: a
+ #=======================================================================
+ 
+ #=======================================================================
+ # LOG:
+ # Give the path of the log file you'd like Bochs debug and misc. verbage
+ # to be written to.  If you really don't want it, make it /dev/null. :^(
+ #
+ # Examples:
+ #   log: ./bochs.out
+ #   log: /dev/tty
+ #=======================================================================
+ 
+ #=======================================================================
+ # SB16:
+ # This defines the SB16 sound emulation. It can have several of the
+ # following properties.
+ # All properties are in the format sb16: property=value
+ # midi: The filename is where the midi data is sent. This can be a
+ #       device or just a file if you want to record the midi data.
+ # midimode:
+ #      0=no data
+ #      1=output to device (system dependent. midi denotes the device driver)
+ #      2=SMF file output, including headers
+ #      3=output the midi data stream to the file (no midi headers and no
+ #        delta times, just command and data bytes)
+ # wave: This is the device/file where wave output is stored
+ # wavemode:
+ #      0=no data
+ #      1=output to device (system dependent. wave denotes the device driver)
+ #      2=VOC file output, incl. headers
+ #      3=output the raw wave stream to the file
+ # log:  The file to write the sb16 emulator messages to.
+ # loglevel:
+ #      0=no log
+ #      1=only midi program and bank changes
+ #      2=severe errors
+ #      3=all errors
+ #      4=all errors plus all port accesses
+ #      5=all errors and port accesses plus a lot of extra info
+ # dmatimer:
+ #      microseconds per second for a DMA cycle.  Make it smaller to fix
+ #      non-continous sound.  750000 is usually a good value.  This needs a
+ #      reasonably correct setting for IPS.
+ #
+ # For an example look at the next line:
+ #=======================================================================
+ 
+ #sb16: midimode=1, midi=/dev/midi00, wavemode=1, wave=/dev/dsp, loglevel=2, log=sb16.log, dmatimer=600000
+ 
+ #=======================================================================
+ # VGA_UPDATE_INTERVAL:
+ # Video memory is scanned for updates and screen updated every so many
+ # virtual seconds.  The default is 300000, about 3Hz.  This is generally
+ # plenty.  Keep in mind that you must tweak the 'ips:' directive
+ # to be as close to the number of emulated instructions-per-second
+ # your workstation can do, for this to be accurate.
+ #
+ # Examples:
+ #   vga_update_interval: 250000
+ #=======================================================================
+ 
+ #=======================================================================
+ # KEYBOARD_SERIAL_DELAY:
+ # Approximate time in microseconds that it takes one character to
+ # be transfered from the keyboard to controller over the serial path.
+ # Examples:
+ #   keyboard_serial_delay: 200
+ #=======================================================================
+ 
+ #=======================================================================
+ # FLOPPY_COMMAND_DELAY:
+ # Time in microseconds to wait before completing some floppy commands
+ # such as read/write/seek/etc, which normally have a delay associated.
+ # I had this hardwired to 50,000 before.
+ #
+ # Examples:
+ #   floppy_command_delay: 50000
+ #=======================================================================
+ 
+ #=======================================================================
+ # IPS:
+ # Emulated Instructions Per Second.  This is the number of IPS that bochs
+ # is capable of running on your machine.  Read the note in config.h
+ # on how to find this.  Make sure to recompile after.
+ #
+ # Examples:
+ #
+ # machine                                         Mips
+ # ________________________________________________________________
+ # 400Mhz Pentium II with Linux 2.0.36/egcs-1.0.3  1 to 1.8Mips
+ # 166Mhz 64bit Sparc with Solaris 2.x             approx 0.75 Mips
+ # 200Mhz Pentium with Linux 2.x                   approx 0.5 Mips
+ #=======================================================================
+ 
+ #=======================================================================
+ # mouse: Not used in any of the GUI specific modules, but the option
+ #        bx_options.mouse_enabled is set to this value.  The idea,
+ #        is that the GUI code should not generate mouse events when
+ #        not enabled.  The hardware emualation itself is not disabled
+ #        by this.  This is to facilitate deterministic runs of bochs.
+ #
+ # Examples:
+ #   mouse: enabled=1
+ #   mouse: enabled=0
+ #=======================================================================
+ 
+ #=======================================================================
+ # private_colormap: Request that the GUI create and use it's own
+ #                   non-shared colormap.  This colormap will be used
+ #                   when in the bochs window.  If not enabled, a
+ #                   shared colormap scheme may be used.  Not implemented
+ #                   on all GUI's.
+ #
+ # Examples:
+ #   private_colormap: enabled=1
+ #   private_colormap: enabled=0
+ #=======================================================================
+ 
+ # magic_break
+ # ne2k
+ 
+ #load32bitOSImage: os=nullkernel, path=../kernel.img, iolog=../vga_io.log
+ #load32bitOSImage: os=linux, path=../linux.img, iolog=../vga_io.log, initrd=../initrd.img
diff -crN clean-bochs-2000-03-25/config.h.in bochs-goswin/config.h.in
*** clean-bochs-2000-03-25/config.h.in	Tue Jan  4 15:35:34 2000
--- bochs-goswin/config.h.in	Mon Oct  9 22:56:14 2000
***************
*** 15,26 ****
  //     EMail:    kevin@bochs.com
  
  
! #ifdef _BX_CONFIG_H_
! #else
  #define _BX_CONFIG_H_ 1
  
- 
- 
  ///////////////////////////////////////////////////////////////////
  // USER CONFIGURABLE OPTIONS : EDIT ONLY OPTIONS IN THIS SECTION //
  ///////////////////////////////////////////////////////////////////
--- 15,23 ----
  //     EMail:    kevin@bochs.com
  
  
! #ifndef _BX_CONFIG_H_
  #define _BX_CONFIG_H_ 1
  
  ///////////////////////////////////////////////////////////////////
  // USER CONFIGURABLE OPTIONS : EDIT ONLY OPTIONS IN THIS SECTION //
  ///////////////////////////////////////////////////////////////////
***************
*** 246,252 ****
  // END OF USER CONFIGURABLE OPTIONS : DON'T EDIT ANYTHING BELOW !!! //
  // THIS IS GENERATED BY THE ./configure SCRIPT                      //
  //////////////////////////////////////////////////////////////////////
- 
  
  #define BX_WITH_X11 0
  #define BX_WITH_BEOS 0
--- 243,248 ----
diff -crN clean-bochs-2000-03-25/configure bochs-goswin/configure
*** clean-bochs-2000-03-25/configure	Tue Jan  4 14:15:30 2000
--- bochs-goswin/configure	Wed Dec 31 19:00:00 1969
***************
*** 1,3562 ****
- #! /bin/sh
- 
- # Guess values for system-dependent variables and create Makefiles.
- # Generated automatically using autoconf version 2.12 
- # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
- #
- # This configure script is free software; the Free Software Foundation
- # gives unlimited permission to copy, distribute and modify it.
- 
- # Defaults:
- ac_help=
- ac_default_prefix=/usr/local
- # Any additions from configure.in:
- ac_help="$ac_help
-   --with-x                use the X Window System"
- ac_help="$ac_help
-   --enable-cpu-level                select cpu level (3,4,5)"
- ac_help="$ac_help
-   --enable-dynamic                  enable dynamic translation support"
- ac_help="$ac_help
-   --enable-ne2000                   enable limited ne2000 support"
- ac_help="$ac_help
-   --enable-pci                      enable limited i440FX PCI support"
- ac_help="$ac_help
-   --enable-port-e9-hack             writes to port e9 go to console"
- ac_help="$ac_help
-   --enable-cpp                      use .cpp as C++ suffix"
- ac_help="$ac_help
-   --enable-debugger                 compile in support for Bochs internal debugger"
- ac_help="$ac_help
-   --enable-disasm                   compile in support for disassembler"
- ac_help="$ac_help
-   --enable-loader                   support calling external loader from debugger"
- ac_help="$ac_help
-   --enable-instrumentation          compile in support for instrumentation"
- ac_help="$ac_help
-   --enable-simid=0 or 1             CPU simulator ID if using more than one"
- ac_help="$ac_help
-   --enable-num-sim=1 or 2           number of CPU simulators"
- ac_help="$ac_help
-   --enable-time0=n                  start at n instead of using time()"
- ac_help="$ac_help
-   --enable-vga                      use VGA emulation"
- ac_help="$ac_help
-   --enable-fpu                      pass dir of external FPU emulation"
- ac_help="$ac_help
-   --enable-x86-debugger             x86 debugger support"
- ac_help="$ac_help
-   --enable-cdrom                    CDROM support"
- ac_help="$ac_help
-   --enable-sb16                     Sound Blaster 16 Support"
- ac_help="$ac_help
-   --enable-hga-dumps=Nmicroseconds  copy memory to HGA video buffer every N useconds"
- ac_help="$ac_help
-   --enable-external-device-models   use external hardware device models"
- ac_help="$ac_help
-   --enable-external-cpu-memory      use external CPU+memory simulation environment"
- ac_help="$ac_help
-   --with-x11                        use X11 GUI"
- ac_help="$ac_help
-   --with-beos                       use BeOS GUI"
- ac_help="$ac_help
-   --with-win32                      use Win32 GUI"
- ac_help="$ac_help
-   --with-win32-vcpp                 use Win32 GUI/Visual C++ environment"
- ac_help="$ac_help
-   --with-macos                      use Macintosh/CodeWarrior environment"
- ac_help="$ac_help
-   --with-nogui                      no native GUI, just use blank stubs"
- 
- # Initialize some variables set by options.
- # The variables have the same names as the options, with
- # dashes changed to underlines.
- build=NONE
- cache_file=./config.cache
- exec_prefix=NONE
- host=NONE
- no_create=
- nonopt=NONE
- no_recursion=
- prefix=NONE
- program_prefix=NONE
- program_suffix=NONE
- program_transform_name=s,x,x,
- silent=
- site=
- srcdir=
- target=NONE
- verbose=
- x_includes=NONE
- x_libraries=NONE
- bindir='${exec_prefix}/bin'
- sbindir='${exec_prefix}/sbin'
- libexecdir='${exec_prefix}/libexec'
- datadir='${prefix}/share'
- sysconfdir='${prefix}/etc'
- sharedstatedir='${prefix}/com'
- localstatedir='${prefix}/var'
- libdir='${exec_prefix}/lib'
- includedir='${prefix}/include'
- oldincludedir='/usr/include'
- infodir='${prefix}/info'
- mandir='${prefix}/man'
- 
- # Initialize some other variables.
- subdirs=
- MFLAGS= MAKEFLAGS=
- # Maximum number of lines to put in a shell here document.
- ac_max_here_lines=12
- 
- ac_prev=
- for ac_option
- do
- 
-   # If the previous option needs an argument, assign it.
-   if test -n "$ac_prev"; then
-     eval "$ac_prev=\$ac_option"
-     ac_prev=
-     continue
-   fi
- 
-   case "$ac_option" in
-   -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
-   *) ac_optarg= ;;
-   esac
- 
-   # Accept the important Cygnus configure options, so we can diagnose typos.
- 
-   case "$ac_option" in
- 
-   -bindir | --bindir | --bindi | --bind | --bin | --bi)
-     ac_prev=bindir ;;
-   -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
-     bindir="$ac_optarg" ;;
- 
-   -build | --build | --buil | --bui | --bu)
-     ac_prev=build ;;
-   -build=* | --build=* | --buil=* | --bui=* | --bu=*)
-     build="$ac_optarg" ;;
- 
-   -cache-file | --cache-file | --cache-fil | --cache-fi \
-   | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
-     ac_prev=cache_file ;;
-   -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
-   | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
-     cache_file="$ac_optarg" ;;
- 
-   -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
-     ac_prev=datadir ;;
-   -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
-   | --da=*)
-     datadir="$ac_optarg" ;;
- 
-   -disable-* | --disable-*)
-     ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
-     # Reject names that are not valid shell variable names.
-     if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
-       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
-     fi
-     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
-     eval "enable_${ac_feature}=no" ;;
- 
-   -enable-* | --enable-*)
-     ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
-     # Reject names that are not valid shell variable names.
-     if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
-       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
-     fi
-     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
-     case "$ac_option" in
-       *=*) ;;
-       *) ac_optarg=yes ;;
-     esac
-     eval "enable_${ac_feature}='$ac_optarg'" ;;
- 
-   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
-   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
-   | --exec | --exe | --ex)
-     ac_prev=exec_prefix ;;
-   -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
-   | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
-   | --exec=* | --exe=* | --ex=*)
-     exec_prefix="$ac_optarg" ;;
- 
-   -gas | --gas | --ga | --g)
-     # Obsolete; use --with-gas.
-     with_gas=yes ;;
- 
-   -help | --help | --hel | --he)
-     # Omit some internal or obsolete options to make the list less imposing.
-     # This message is too long to be a string in the A/UX 3.1 sh.
-     cat << EOF
- Usage: configure [options] [host]
- Options: [defaults in brackets after descriptions]
- Configuration:
-   --cache-file=FILE       cache test results in FILE
-   --help                  print this message
-   --no-create             do not create output files
-   --quiet, --silent       do not print \`checking...' messages
-   --version               print the version of autoconf that created configure
- Directory and file names:
-   --prefix=PREFIX         install architecture-independent files in PREFIX
-                           [$ac_default_prefix]
-   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
-                           [same as prefix]
-   --bindir=DIR            user executables in DIR [EPREFIX/bin]
-   --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
-   --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
-   --datadir=DIR           read-only architecture-independent data in DIR
-                           [PREFIX/share]
-   --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
-   --sharedstatedir=DIR    modifiable architecture-independent data in DIR
-                           [PREFIX/com]
-   --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
-   --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
-   --includedir=DIR        C header files in DIR [PREFIX/include]
-   --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
-   --infodir=DIR           info documentation in DIR [PREFIX/info]
-   --mandir=DIR            man documentation in DIR [PREFIX/man]
-   --srcdir=DIR            find the sources in DIR [configure dir or ..]
-   --program-prefix=PREFIX prepend PREFIX to installed program names
-   --program-suffix=SUFFIX append SUFFIX to installed program names
-   --program-transform-name=PROGRAM
-                           run sed PROGRAM on installed program names
- EOF
-     cat << EOF
- Host type:
-   --build=BUILD           configure for building on BUILD [BUILD=HOST]
-   --host=HOST             configure for HOST [guessed]
-   --target=TARGET         configure for TARGET [TARGET=HOST]
- Features and packages:
-   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
-   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
-   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
-   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
-   --x-includes=DIR        X include files are in DIR
-   --x-libraries=DIR       X library files are in DIR
- EOF
-     if test -n "$ac_help"; then
-       echo "--enable and --with options recognized:$ac_help"
-     fi
-     exit 0 ;;
- 
-   -host | --host | --hos | --ho)
-     ac_prev=host ;;
-   -host=* | --host=* | --hos=* | --ho=*)
-     host="$ac_optarg" ;;
- 
-   -includedir | --includedir | --includedi | --included | --include \
-   | --includ | --inclu | --incl | --inc)
-     ac_prev=includedir ;;
-   -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
-   | --includ=* | --inclu=* | --incl=* | --inc=*)
-     includedir="$ac_optarg" ;;
- 
-   -infodir | --infodir | --infodi | --infod | --info | --inf)
-     ac_prev=infodir ;;
-   -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
-     infodir="$ac_optarg" ;;
- 
-   -libdir | --libdir | --libdi | --libd)
-     ac_prev=libdir ;;
-   -libdir=* | --libdir=* | --libdi=* | --libd=*)
-     libdir="$ac_optarg" ;;
- 
-   -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
-   | --libexe | --libex | --libe)
-     ac_prev=libexecdir ;;
-   -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
-   | --libexe=* | --libex=* | --libe=*)
-     libexecdir="$ac_optarg" ;;
- 
-   -localstatedir | --localstatedir | --localstatedi | --localstated \
-   | --localstate | --localstat | --localsta | --localst \
-   | --locals | --local | --loca | --loc | --lo)
-     ac_prev=localstatedir ;;
-   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
-   | --localstate=* | --localstat=* | --localsta=* | --localst=* \
-   | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
-     localstatedir="$ac_optarg" ;;
- 
-   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
-     ac_prev=mandir ;;
-   -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
-     mandir="$ac_optarg" ;;
- 
-   -nfp | --nfp | --nf)
-     # Obsolete; use --without-fp.
-     with_fp=no ;;
- 
-   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
-   | --no-cr | --no-c)
-     no_create=yes ;;
- 
-   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
-   | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
-     no_recursion=yes ;;
- 
-   -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
-   | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
-   | --oldin | --oldi | --old | --ol | --o)
-     ac_prev=oldincludedir ;;
-   -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
-   | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
-   | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
-     oldincludedir="$ac_optarg" ;;
- 
-   -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
-     ac_prev=prefix ;;
-   -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
-     prefix="$ac_optarg" ;;
- 
-   -program-prefix | --program-prefix | --program-prefi | --program-pref \
-   | --program-pre | --program-pr | --program-p)
-     ac_prev=program_prefix ;;
-   -program-prefix=* | --program-prefix=* | --program-prefi=* \
-   | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
-     program_prefix="$ac_optarg" ;;
- 
-   -program-suffix | --program-suffix | --program-suffi | --program-suff \
-   | --program-suf | --program-su | --program-s)
-     ac_prev=program_suffix ;;
-   -program-suffix=* | --program-suffix=* | --program-suffi=* \
-   | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
-     program_suffix="$ac_optarg" ;;
- 
-   -program-transform-name | --program-transform-name \
-   | --program-transform-nam | --program-transform-na \
-   | --program-transform-n | --program-transform- \
-   | --program-transform | --program-transfor \
-   | --program-transfo | --program-transf \
-   | --program-trans | --program-tran \
-   | --progr-tra | --program-tr | --program-t)
-     ac_prev=program_transform_name ;;
-   -program-transform-name=* | --program-transform-name=* \
-   | --program-transform-nam=* | --program-transform-na=* \
-   | --program-transform-n=* | --program-transform-=* \
-   | --program-transform=* | --program-transfor=* \
-   | --program-transfo=* | --program-transf=* \
-   | --program-trans=* | --program-tran=* \
-   | --progr-tra=* | --program-tr=* | --program-t=*)
-     program_transform_name="$ac_optarg" ;;
- 
-   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
-   | -silent | --silent | --silen | --sile | --sil)
-     silent=yes ;;
- 
-   -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
-     ac_prev=sbindir ;;
-   -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
-   | --sbi=* | --sb=*)
-     sbindir="$ac_optarg" ;;
- 
-   -sharedstatedir | --sharedstatedir | --sharedstatedi \
-   | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
-   | --sharedst | --shareds | --shared | --share | --shar \
-   | --sha | --sh)
-     ac_prev=sharedstatedir ;;
-   -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
-   | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
-   | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
-   | --sha=* | --sh=*)
-     sharedstatedir="$ac_optarg" ;;
- 
-   -site | --site | --sit)
-     ac_prev=site ;;
-   -site=* | --site=* | --sit=*)
-     site="$ac_optarg" ;;
- 
-   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
-     ac_prev=srcdir ;;
-   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
-     srcdir="$ac_optarg" ;;
- 
-   -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
-   | --syscon | --sysco | --sysc | --sys | --sy)
-     ac_prev=sysconfdir ;;
-   -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
-   | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
-     sysconfdir="$ac_optarg" ;;
- 
-   -target | --target | --targe | --targ | --tar | --ta | --t)
-     ac_prev=target ;;
-   -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
-     target="$ac_optarg" ;;
- 
-   -v | -verbose | --verbose | --verbos | --verbo | --verb)
-     verbose=yes ;;
- 
-   -version | --version | --versio | --versi | --vers)
-     echo "configure generated by autoconf version 2.12"
-     exit 0 ;;
- 
-   -with-* | --with-*)
-     ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
-     # Reject names that are not valid shell variable names.
-     if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
-       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
-     fi
-     ac_package=`echo $ac_package| sed 's/-/_/g'`
-     case "$ac_option" in
-       *=*) ;;
-       *) ac_optarg=yes ;;
-     esac
-     eval "with_${ac_package}='$ac_optarg'" ;;
- 
-   -without-* | --without-*)
-     ac_package=`echo $ac_option|sed -e 's/-*without-//'`
-     # Reject names that are not valid shell variable names.
-     if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
-       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
-     fi
-     ac_package=`echo $ac_package| sed 's/-/_/g'`
-     eval "with_${ac_package}=no" ;;
- 
-   --x)
-     # Obsolete; use --with-x.
-     with_x=yes ;;
- 
-   -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
-   | --x-incl | --x-inc | --x-in | --x-i)
-     ac_prev=x_includes ;;
-   -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
-   | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
-     x_includes="$ac_optarg" ;;
- 
-   -x-libraries | --x-libraries | --x-librarie | --x-librari \
-   | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
-     ac_prev=x_libraries ;;
-   -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
-   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
-     x_libraries="$ac_optarg" ;;
- 
-   -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
-     ;;
- 
-   *)
-     if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
-       echo "configure: warning: $ac_option: invalid host type" 1>&2
-     fi
-     if test "x$nonopt" != xNONE; then
-       { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
-     fi
-     nonopt="$ac_option"
-     ;;
- 
-   esac
- done
- 
- if test -n "$ac_prev"; then
-   { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
- fi
- 
- trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
- 
- # File descriptor usage:
- # 0 standard input
- # 1 file creation
- # 2 errors and warnings
- # 3 some systems may open it to /dev/tty
- # 4 used on the Kubota Titan
- # 6 checking for... messages and results
- # 5 compiler messages saved in config.log
- if test "$silent" = yes; then
-   exec 6>/dev/null
- else
-   exec 6>&1
- fi
- exec 5>./config.log
- 
- echo "\
- This file contains any messages produced by compilers while
- running configure, to aid debugging if configure makes a mistake.
- " 1>&5
- 
- # Strip out --no-create and --no-recursion so they do not pile up.
- # Also quote any args containing shell metacharacters.
- ac_configure_args=
- for ac_arg
- do
-   case "$ac_arg" in
-   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
-   | --no-cr | --no-c) ;;
-   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
-   | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
-   *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
-   ac_configure_args="$ac_configure_args '$ac_arg'" ;;
-   *) ac_configure_args="$ac_configure_args $ac_arg" ;;
-   esac
- done
- 
- # NLS nuisances.
- # Only set these to C if already set.  These must not be set unconditionally
- # because not all systems understand e.g. LANG=C (notably SCO).
- # Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
- # Non-C LC_CTYPE values break the ctype check.
- if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
- if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
- if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
- if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
- 
- # confdefs.h avoids OS command line length limits that DEFS can exceed.
- rm -rf conftest* confdefs.h
- # AIX cpp loses on an empty file, so make sure it contains at least a newline.
- echo > confdefs.h
- 
- # A filename unique to this package, relative to the directory that
- # configure is in, which we can look for to find out if srcdir is correct.
- ac_unique_file=bochs.h
- 
- # Find the source files, if location was not specified.
- if test -z "$srcdir"; then
-   ac_srcdir_defaulted=yes
-   # Try the directory containing this script, then its parent.
-   ac_prog=$0
-   ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
-   test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
-   srcdir=$ac_confdir
-   if test ! -r $srcdir/$ac_unique_file; then
-     srcdir=..
-   fi
- else
-   ac_srcdir_defaulted=no
- fi
- if test ! -r $srcdir/$ac_unique_file; then
-   if test "$ac_srcdir_defaulted" = yes; then
-     { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
-   else
-     { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
-   fi
- fi
- srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
- 
- # Prefer explicitly selected file to automatically selected ones.
- if test -z "$CONFIG_SITE"; then
-   if test "x$prefix" != xNONE; then
-     CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
-   else
-     CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
-   fi
- fi
- for ac_site_file in $CONFIG_SITE; do
-   if test -r "$ac_site_file"; then
-     echo "loading site script $ac_site_file"
-     . "$ac_site_file"
-   fi
- done
- 
- if test -r "$cache_file"; then
-   echo "loading cache $cache_file"
-   . $cache_file
- else
-   echo "creating cache $cache_file"
-   > $cache_file
- fi
- 
- ac_ext=c
- # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
- ac_cpp='$CPP $CPPFLAGS'
- ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
- ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
- cross_compiling=$ac_cv_prog_cc_cross
- 
- if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
-   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
-   if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
-     ac_n= ac_c='
- ' ac_t='	'
-   else
-     ac_n=-n ac_c= ac_t=
-   fi
- else
-   ac_n= ac_c='\c' ac_t=
- fi
- 
- 
- 
- 
- 
- 
- 
- # Extract the first word of "gcc", so it can be a program name with args.
- set dummy gcc; ac_word=$2
- echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
- echo "configure:586: checking for $ac_word" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test -n "$CC"; then
-   ac_cv_prog_CC="$CC" # Let the user override the test.
- else
-   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
-   for ac_dir in $PATH; do
-     test -z "$ac_dir" && ac_dir=.
-     if test -f $ac_dir/$ac_word; then
-       ac_cv_prog_CC="gcc"
-       break
-     fi
-   done
-   IFS="$ac_save_ifs"
- fi
- fi
- CC="$ac_cv_prog_CC"
- if test -n "$CC"; then
-   echo "$ac_t""$CC" 1>&6
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
- if test -z "$CC"; then
-   # Extract the first word of "cc", so it can be a program name with args.
- set dummy cc; ac_word=$2
- echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
- echo "configure:615: checking for $ac_word" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test -n "$CC"; then
-   ac_cv_prog_CC="$CC" # Let the user override the test.
- else
-   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
-   ac_prog_rejected=no
-   for ac_dir in $PATH; do
-     test -z "$ac_dir" && ac_dir=.
-     if test -f $ac_dir/$ac_word; then
-       if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
-         ac_prog_rejected=yes
- 	continue
-       fi
-       ac_cv_prog_CC="cc"
-       break
-     fi
-   done
-   IFS="$ac_save_ifs"
- if test $ac_prog_rejected = yes; then
-   # We found a bogon in the path, so make sure we never use it.
-   set dummy $ac_cv_prog_CC
-   shift
-   if test $# -gt 0; then
-     # We chose a different compiler from the bogus one.
-     # However, it has the same basename, so the bogon will be chosen
-     # first if we set CC to just the basename; use the full file name.
-     shift
-     set dummy "$ac_dir/$ac_word" "$@"
-     shift
-     ac_cv_prog_CC="$@"
-   fi
- fi
- fi
- fi
- CC="$ac_cv_prog_CC"
- if test -n "$CC"; then
-   echo "$ac_t""$CC" 1>&6
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-   test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
- fi
- 
- echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
- echo "configure:663: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
- 
- ac_ext=c
- # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
- ac_cpp='$CPP $CPPFLAGS'
- ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
- ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
- cross_compiling=$ac_cv_prog_cc_cross
- 
- cat > conftest.$ac_ext <<EOF
- #line 673 "configure"
- #include "confdefs.h"
- main(){return(0);}
- EOF
- if { (eval echo configure:677: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   ac_cv_prog_cc_works=yes
-   # If we can't run a trivial program, we are probably using a cross compiler.
-   if (./conftest; exit) 2>/dev/null; then
-     ac_cv_prog_cc_cross=no
-   else
-     ac_cv_prog_cc_cross=yes
-   fi
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   ac_cv_prog_cc_works=no
- fi
- rm -fr conftest*
- 
- echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
- if test $ac_cv_prog_cc_works = no; then
-   { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
- fi
- echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
- echo "configure:697: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
- echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
- cross_compiling=$ac_cv_prog_cc_cross
- 
- echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
- echo "configure:702: checking whether we are using GNU C" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.c <<EOF
- #ifdef __GNUC__
-   yes;
- #endif
- EOF
- if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:711: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
-   ac_cv_prog_gcc=yes
- else
-   ac_cv_prog_gcc=no
- fi
- fi
- 
- echo "$ac_t""$ac_cv_prog_gcc" 1>&6
- 
- if test $ac_cv_prog_gcc = yes; then
-   GCC=yes
-   ac_test_CFLAGS="${CFLAGS+set}"
-   ac_save_CFLAGS="$CFLAGS"
-   CFLAGS=
-   echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
- echo "configure:726: checking whether ${CC-cc} accepts -g" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   echo 'void f(){}' > conftest.c
- if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
-   ac_cv_prog_cc_g=yes
- else
-   ac_cv_prog_cc_g=no
- fi
- rm -f conftest*
- 
- fi
- 
- echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
-   if test "$ac_test_CFLAGS" = set; then
-     CFLAGS="$ac_save_CFLAGS"
-   elif test $ac_cv_prog_cc_g = yes; then
-     CFLAGS="-g -O2"
-   else
-     CFLAGS="-O2"
-   fi
- else
-   GCC=
-   test "${CFLAGS+set}" = set || CFLAGS="-g"
- fi
- 
- for ac_prog in $CCC c++ g++ gcc CC cxx cc++
- do
- # Extract the first word of "$ac_prog", so it can be a program name with args.
- set dummy $ac_prog; ac_word=$2
- echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
- echo "configure:758: checking for $ac_word" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_CXX'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test -n "$CXX"; then
-   ac_cv_prog_CXX="$CXX" # Let the user override the test.
- else
-   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
-   for ac_dir in $PATH; do
-     test -z "$ac_dir" && ac_dir=.
-     if test -f $ac_dir/$ac_word; then
-       ac_cv_prog_CXX="$ac_prog"
-       break
-     fi
-   done
-   IFS="$ac_save_ifs"
- fi
- fi
- CXX="$ac_cv_prog_CXX"
- if test -n "$CXX"; then
-   echo "$ac_t""$CXX" 1>&6
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
- test -n "$CXX" && break
- done
- test -n "$CXX" || CXX="gcc"
- 
- 
- echo $ac_n "checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) works""... $ac_c" 1>&6
- echo "configure:789: checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) works" >&5
- 
- ac_ext=C
- # CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
- ac_cpp='$CXXCPP $CPPFLAGS'
- ac_compile='${CXX-g++} -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
- ac_link='${CXX-g++} -o conftest $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
- cross_compiling=$ac_cv_prog_cxx_cross
- 
- cat > conftest.$ac_ext <<EOF
- #line 799 "configure"
- #include "confdefs.h"
- main(){return(0);}
- EOF
- if { (eval echo configure:803: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   ac_cv_prog_cxx_works=yes
-   # If we can't run a trivial program, we are probably using a cross compiler.
-   if (./conftest; exit) 2>/dev/null; then
-     ac_cv_prog_cxx_cross=no
-   else
-     ac_cv_prog_cxx_cross=yes
-   fi
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   ac_cv_prog_cxx_works=no
- fi
- rm -fr conftest*
- ac_ext=c
- # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
- ac_cpp='$CPP $CPPFLAGS'
- ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
- ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
- cross_compiling=$ac_cv_prog_cc_cross
- 
- echo "$ac_t""$ac_cv_prog_cxx_works" 1>&6
- if test $ac_cv_prog_cxx_works = no; then
-   { echo "configure: error: installation or configuration problem: C++ compiler cannot create executables." 1>&2; exit 1; }
- fi
- echo $ac_n "checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
- echo "configure:829: checking whether the C++ compiler ($CXX $CXXFLAGS $LDFLAGS) is a cross-compiler" >&5
- echo "$ac_t""$ac_cv_prog_cxx_cross" 1>&6
- cross_compiling=$ac_cv_prog_cxx_cross
- 
- echo $ac_n "checking whether we are using GNU C++""... $ac_c" 1>&6
- echo "configure:834: checking whether we are using GNU C++" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_gxx'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.C <<EOF
- #ifdef __GNUC__
-   yes;
- #endif
- EOF
- if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:843: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
-   ac_cv_prog_gxx=yes
- else
-   ac_cv_prog_gxx=no
- fi
- fi
- 
- echo "$ac_t""$ac_cv_prog_gxx" 1>&6
- 
- if test $ac_cv_prog_gxx = yes; then
-   GXX=yes
-   ac_test_CXXFLAGS="${CXXFLAGS+set}"
-   ac_save_CXXFLAGS="$CXXFLAGS"
-   CXXFLAGS=
-   echo $ac_n "checking whether ${CXX-g++} accepts -g""... $ac_c" 1>&6
- echo "configure:858: checking whether ${CXX-g++} accepts -g" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_cxx_g'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   echo 'void f(){}' > conftest.cc
- if test -z "`${CXX-g++} -g -c conftest.cc 2>&1`"; then
-   ac_cv_prog_cxx_g=yes
- else
-   ac_cv_prog_cxx_g=no
- fi
- rm -f conftest*
- 
- fi
- 
- echo "$ac_t""$ac_cv_prog_cxx_g" 1>&6
-   if test "$ac_test_CXXFLAGS" = set; then
-     CXXFLAGS="$ac_save_CXXFLAGS"
-   elif test $ac_cv_prog_cxx_g = yes; then
-     CXXFLAGS="-g -O2"
-   else
-     CXXFLAGS="-O2"
-   fi
- else
-   GXX=
-   test "${CXXFLAGS+set}" = set || CXXFLAGS="-g"
- fi
- 
- echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
- echo "configure:886: checking whether ${MAKE-make} sets \${MAKE}" >&5
- set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftestmake <<\EOF
- all:
- 	@echo 'ac_maketemp="${MAKE}"'
- EOF
- # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
- eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
- if test -n "$ac_maketemp"; then
-   eval ac_cv_prog_make_${ac_make}_set=yes
- else
-   eval ac_cv_prog_make_${ac_make}_set=no
- fi
- rm -f conftestmake
- fi
- if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   SET_MAKE=
- else
-   echo "$ac_t""no" 1>&6
-   SET_MAKE="MAKE=${MAKE-make}"
- fi
- 
- # Extract the first word of "ranlib", so it can be a program name with args.
- set dummy ranlib; ac_word=$2
- echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
- echo "configure:915: checking for $ac_word" >&5
- if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test -n "$RANLIB"; then
-   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
- else
-   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
-   for ac_dir in $PATH; do
-     test -z "$ac_dir" && ac_dir=.
-     if test -f $ac_dir/$ac_word; then
-       ac_cv_prog_RANLIB="ranlib"
-       break
-     fi
-   done
-   IFS="$ac_save_ifs"
-   test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
- fi
- fi
- RANLIB="$ac_cv_prog_RANLIB"
- if test -n "$RANLIB"; then
-   echo "$ac_t""$RANLIB" 1>&6
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
- 
- echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
- echo "configure:943: checking how to run the C preprocessor" >&5
- # On Suns, sometimes $CPP names a directory.
- if test -n "$CPP" && test -d "$CPP"; then
-   CPP=
- fi
- if test -z "$CPP"; then
- if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-     # This must be in double quotes, not single quotes, because CPP may get
-   # substituted into the Makefile and "${CC-cc}" will confuse make.
-   CPP="${CC-cc} -E"
-   # On the NeXT, cc -E runs the code through the compiler's parser,
-   # not just through cpp.
-   cat > conftest.$ac_ext <<EOF
- #line 958 "configure"
- #include "confdefs.h"
- #include <assert.h>
- Syntax Error
- EOF
- ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
- { (eval echo configure:964: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
- ac_err=`grep -v '^ *+' conftest.out`
- if test -z "$ac_err"; then
-   :
- else
-   echo "$ac_err" >&5
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   CPP="${CC-cc} -E -traditional-cpp"
-   cat > conftest.$ac_ext <<EOF
- #line 975 "configure"
- #include "confdefs.h"
- #include <assert.h>
- Syntax Error
- EOF
- ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
- { (eval echo configure:981: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
- ac_err=`grep -v '^ *+' conftest.out`
- if test -z "$ac_err"; then
-   :
- else
-   echo "$ac_err" >&5
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   CPP=/lib/cpp
- fi
- rm -f conftest*
- fi
- rm -f conftest*
-   ac_cv_prog_CPP="$CPP"
- fi
-   CPP="$ac_cv_prog_CPP"
- else
-   ac_cv_prog_CPP="$CPP"
- fi
- echo "$ac_t""$CPP" 1>&6
- 
- # If we find X, set shell vars x_includes and x_libraries to the
- # paths, otherwise set no_x=yes.
- # Uses ac_ vars as temps to allow command line to override cache and checks.
- # --without-x overrides everything else, but does not touch the cache.
- echo $ac_n "checking for X""... $ac_c" 1>&6
- echo "configure:1008: checking for X" >&5
- 
- # Check whether --with-x or --without-x was given.
- if test "${with_x+set}" = set; then
-   withval="$with_x"
-   :
- fi
- 
- # $have_x is `yes', `no', `disabled', or empty when we do not yet know.
- if test "x$with_x" = xno; then
-   # The user explicitly disabled X.
-   have_x=disabled
- else
-   if test "x$x_includes" != xNONE && test "x$x_libraries" != xNONE; then
-     # Both variables are already set.
-     have_x=yes
-   else
- if eval "test \"`echo '$''{'ac_cv_have_x'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   # One or both of the vars are not set, and there is no cached value.
- ac_x_includes=NO ac_x_libraries=NO
- rm -fr conftestdir
- if mkdir conftestdir; then
-   cd conftestdir
-   # Make sure to not put "make" in the Imakefile rules, since we grep it out.
-   cat > Imakefile <<'EOF'
- acfindx:
- 	@echo 'ac_im_incroot="${INCROOT}"; ac_im_usrlibdir="${USRLIBDIR}"; ac_im_libdir="${LIBDIR}"'
- EOF
-   if (xmkmf) >/dev/null 2>/dev/null && test -f Makefile; then
-     # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-     eval `${MAKE-make} acfindx 2>/dev/null | grep -v make`
-     # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
-     for ac_extension in a so sl; do
-       if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
-         test -f $ac_im_libdir/libX11.$ac_extension; then
-         ac_im_usrlibdir=$ac_im_libdir; break
-       fi
-     done
-     # Screen out bogus values from the imake configuration.  They are
-     # bogus both because they are the default anyway, and because
-     # using them would break gcc on systems where it needs fixed includes.
-     case "$ac_im_incroot" in
- 	/usr/include) ;;
- 	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes="$ac_im_incroot" ;;
-     esac
-     case "$ac_im_usrlibdir" in
- 	/usr/lib | /lib) ;;
- 	*) test -d "$ac_im_usrlibdir" && ac_x_libraries="$ac_im_usrlibdir" ;;
-     esac
-   fi
-   cd ..
-   rm -fr conftestdir
- fi
- 
- if test "$ac_x_includes" = NO; then
-   # Guess where to find include files, by looking for this one X11 .h file.
-   test -z "$x_direct_test_include" && x_direct_test_include=X11/Intrinsic.h
- 
-   # First, try using that file with no special directory specified.
- cat > conftest.$ac_ext <<EOF
- #line 1070 "configure"
- #include "confdefs.h"
- #include <$x_direct_test_include>
- EOF
- ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
- { (eval echo configure:1075: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
- ac_err=`grep -v '^ *+' conftest.out`
- if test -z "$ac_err"; then
-   rm -rf conftest*
-   # We can compile using X headers with no special include directory.
- ac_x_includes=
- else
-   echo "$ac_err" >&5
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   # Look for the header file in a standard set of common directories.
- # Check X11 before X11Rn because it is often a symlink to the current release.
-   for ac_dir in               \
-     /usr/X11/include          \
-     /usr/X11R6/include        \
-     /usr/X11R5/include        \
-     /usr/X11R4/include        \
-                               \
-     /usr/include/X11          \
-     /usr/include/X11R6        \
-     /usr/include/X11R5        \
-     /usr/include/X11R4        \
-                               \
-     /usr/local/X11/include    \
-     /usr/local/X11R6/include  \
-     /usr/local/X11R5/include  \
-     /usr/local/X11R4/include  \
-                               \
-     /usr/local/include/X11    \
-     /usr/local/include/X11R6  \
-     /usr/local/include/X11R5  \
-     /usr/local/include/X11R4  \
-                               \
-     /usr/X386/include         \
-     /usr/x386/include         \
-     /usr/XFree86/include/X11  \
-                               \
-     /usr/include              \
-     /usr/local/include        \
-     /usr/unsupported/include  \
-     /usr/athena/include       \
-     /usr/local/x11r5/include  \
-     /usr/lpp/Xamples/include  \
-                               \
-     /usr/openwin/include      \
-     /usr/openwin/share/include \
-     ; \
-   do
-     if test -r "$ac_dir/$x_direct_test_include"; then
-       ac_x_includes=$ac_dir
-       break
-     fi
-   done
- fi
- rm -f conftest*
- fi # $ac_x_includes = NO
- 
- if test "$ac_x_libraries" = NO; then
-   # Check for the libraries.
- 
-   test -z "$x_direct_test_library" && x_direct_test_library=Xt
-   test -z "$x_direct_test_function" && x_direct_test_function=XtMalloc
- 
-   # See if we find them without any special options.
-   # Don't add to $LIBS permanently.
-   ac_save_LIBS="$LIBS"
-   LIBS="-l$x_direct_test_library $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1144 "configure"
- #include "confdefs.h"
- 
- int main() {
- ${x_direct_test_function}()
- ; return 0; }
- EOF
- if { (eval echo configure:1151: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   LIBS="$ac_save_LIBS"
- # We can link X programs with no special library path.
- ac_x_libraries=
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   LIBS="$ac_save_LIBS"
- # First see if replacing the include by lib works.
- # Check X11 before X11Rn because it is often a symlink to the current release.
- for ac_dir in `echo "$ac_x_includes" | sed s/include/lib/` \
-     /usr/X11/lib          \
-     /usr/X11R6/lib        \
-     /usr/X11R5/lib        \
-     /usr/X11R4/lib        \
-                           \
-     /usr/lib/X11          \
-     /usr/lib/X11R6        \
-     /usr/lib/X11R5        \
-     /usr/lib/X11R4        \
-                           \
-     /usr/local/X11/lib    \
-     /usr/local/X11R6/lib  \
-     /usr/local/X11R5/lib  \
-     /usr/local/X11R4/lib  \
-                           \
-     /usr/local/lib/X11    \
-     /usr/local/lib/X11R6  \
-     /usr/local/lib/X11R5  \
-     /usr/local/lib/X11R4  \
-                           \
-     /usr/X386/lib         \
-     /usr/x386/lib         \
-     /usr/XFree86/lib/X11  \
-                           \
-     /usr/lib              \
-     /usr/local/lib        \
-     /usr/unsupported/lib  \
-     /usr/athena/lib       \
-     /usr/local/x11r5/lib  \
-     /usr/lpp/Xamples/lib  \
-     /lib/usr/lib/X11	  \
-                           \
-     /usr/openwin/lib      \
-     /usr/openwin/share/lib \
-     ; \
- do
-   for ac_extension in a so sl; do
-     if test -r $ac_dir/lib${x_direct_test_library}.$ac_extension; then
-       ac_x_libraries=$ac_dir
-       break 2
-     fi
-   done
- done
- fi
- rm -f conftest*
- fi # $ac_x_libraries = NO
- 
- if test "$ac_x_includes" = NO || test "$ac_x_libraries" = NO; then
-   # Didn't find X anywhere.  Cache the known absence of X.
-   ac_cv_have_x="have_x=no"
- else
-   # Record where we found X for the cache.
-   ac_cv_have_x="have_x=yes \
- 	        ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
- fi
- fi
-   fi
-   eval "$ac_cv_have_x"
- fi # $with_x != no
- 
- if test "$have_x" != yes; then
-   echo "$ac_t""$have_x" 1>&6
-   no_x=yes
- else
-   # If each of the values was on the command line, it overrides each guess.
-   test "x$x_includes" = xNONE && x_includes=$ac_x_includes
-   test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
-   # Update the cache value to reflect the command line values.
-   ac_cv_have_x="have_x=yes \
- 		ac_x_includes=$x_includes ac_x_libraries=$x_libraries"
-   echo "$ac_t""libraries $x_libraries, headers $x_includes" 1>&6
- fi
- 
- if test "$no_x" = yes; then
-   # Not all programs may use this symbol, but it does not hurt to define it.
-   cat >> confdefs.h <<\EOF
- #define X_DISPLAY_MISSING 1
- EOF
- 
-   X_CFLAGS= X_PRE_LIBS= X_LIBS= X_EXTRA_LIBS=
- else
-   if test -n "$x_includes"; then
-     X_CFLAGS="$X_CFLAGS -I$x_includes"
-   fi
- 
-   # It would also be nice to do this for all -L options, not just this one.
-   if test -n "$x_libraries"; then
-     X_LIBS="$X_LIBS -L$x_libraries"
-     # For Solaris; some versions of Sun CC require a space after -R and
-     # others require no space.  Words are not sufficient . . . .
-     case "`(uname -sr) 2>/dev/null`" in
-     "SunOS 5"*)
-       echo $ac_n "checking whether -R must be followed by a space""... $ac_c" 1>&6
- echo "configure:1257: checking whether -R must be followed by a space" >&5
-       ac_xsave_LIBS="$LIBS"; LIBS="$LIBS -R$x_libraries"
-       cat > conftest.$ac_ext <<EOF
- #line 1260 "configure"
- #include "confdefs.h"
- 
- int main() {
- 
- ; return 0; }
- EOF
- if { (eval echo configure:1267: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   ac_R_nospace=yes
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   ac_R_nospace=no
- fi
- rm -f conftest*
-       if test $ac_R_nospace = yes; then
- 	echo "$ac_t""no" 1>&6
- 	X_LIBS="$X_LIBS -R$x_libraries"
-       else
- 	LIBS="$ac_xsave_LIBS -R $x_libraries"
- 	cat > conftest.$ac_ext <<EOF
- #line 1283 "configure"
- #include "confdefs.h"
- 
- int main() {
- 
- ; return 0; }
- EOF
- if { (eval echo configure:1290: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   ac_R_space=yes
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   ac_R_space=no
- fi
- rm -f conftest*
- 	if test $ac_R_space = yes; then
- 	  echo "$ac_t""yes" 1>&6
- 	  X_LIBS="$X_LIBS -R $x_libraries"
- 	else
- 	  echo "$ac_t""neither works" 1>&6
- 	fi
-       fi
-       LIBS="$ac_xsave_LIBS"
-     esac
-   fi
- 
-   # Check for system-dependent libraries X programs must link with.
-   # Do this before checking for the system-independent R6 libraries
-   # (-lICE), since we may need -lsocket or whatever for X linking.
- 
-   if test "$ISC" = yes; then
-     X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl_s -linet"
-   else
-     # Martyn.Johnson@cl.cam.ac.uk says this is needed for Ultrix, if the X
-     # libraries were built with DECnet support.  And karl@cs.umb.edu says
-     # the Alpha needs dnet_stub (dnet does not exist).
-     echo $ac_n "checking for dnet_ntoa in -ldnet""... $ac_c" 1>&6
- echo "configure:1322: checking for dnet_ntoa in -ldnet" >&5
- ac_lib_var=`echo dnet'_'dnet_ntoa | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-ldnet  $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1330 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char dnet_ntoa();
- 
- int main() {
- dnet_ntoa()
- ; return 0; }
- EOF
- if { (eval echo configure:1341: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     if test $ac_cv_lib_dnet_dnet_ntoa = no; then
-       echo $ac_n "checking for dnet_ntoa in -ldnet_stub""... $ac_c" 1>&6
- echo "configure:1363: checking for dnet_ntoa in -ldnet_stub" >&5
- ac_lib_var=`echo dnet_stub'_'dnet_ntoa | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-ldnet_stub  $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1371 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char dnet_ntoa();
- 
- int main() {
- dnet_ntoa()
- ; return 0; }
- EOF
- if { (eval echo configure:1382: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet_stub"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     fi
- 
-     # msh@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
-     # to get the SysV transport functions.
-     # chad@anasazi.com says the Pyramis MIS-ES running DC/OSx (SVR4)
-     # needs -lnsl.
-     # The nsl library prevents programs from opening the X display
-     # on Irix 5.2, according to dickey@clark.net.
-     echo $ac_n "checking for gethostbyname""... $ac_c" 1>&6
- echo "configure:1411: checking for gethostbyname" >&5
- if eval "test \"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.$ac_ext <<EOF
- #line 1416 "configure"
- #include "confdefs.h"
- /* System header to define __stub macros and hopefully few prototypes,
-     which can conflict with char gethostbyname(); below.  */
- #include <assert.h>
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char gethostbyname();
- 
- int main() {
- 
- /* The GNU C library defines this for functions which it implements
-     to always fail with ENOSYS.  Some functions are actually named
-     something starting with __ and the normal name is an alias.  */
- #if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
- choke me
- #else
- gethostbyname();
- #endif
- 
- ; return 0; }
- EOF
- if { (eval echo configure:1439: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_func_gethostbyname=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_func_gethostbyname=no"
- fi
- rm -f conftest*
- fi
- 
- if eval "test \"`echo '$ac_cv_func_'gethostbyname`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   :
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     if test $ac_cv_func_gethostbyname = no; then
-       echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
- echo "configure:1460: checking for gethostbyname in -lnsl" >&5
- ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-lnsl  $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1468 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char gethostbyname();
- 
- int main() {
- gethostbyname()
- ; return 0; }
- EOF
- if { (eval echo configure:1479: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     fi
- 
-     # lieder@skyler.mavd.honeywell.com says without -lsocket,
-     # socket/setsockopt and other routines are undefined under SCO ODT
-     # 2.0.  But -lsocket is broken on IRIX 5.2 (and is not necessary
-     # on later versions), says simon@lia.di.epfl.ch: it contains
-     # gethostby* variants that don't use the nameserver (or something).
-     # -lsocket must be given before -lnsl if both are needed.
-     # We assume that if connect needs -lnsl, so does gethostbyname.
-     echo $ac_n "checking for connect""... $ac_c" 1>&6
- echo "configure:1509: checking for connect" >&5
- if eval "test \"`echo '$''{'ac_cv_func_connect'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.$ac_ext <<EOF
- #line 1514 "configure"
- #include "confdefs.h"
- /* System header to define __stub macros and hopefully few prototypes,
-     which can conflict with char connect(); below.  */
- #include <assert.h>
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char connect();
- 
- int main() {
- 
- /* The GNU C library defines this for functions which it implements
-     to always fail with ENOSYS.  Some functions are actually named
-     something starting with __ and the normal name is an alias.  */
- #if defined (__stub_connect) || defined (__stub___connect)
- choke me
- #else
- connect();
- #endif
- 
- ; return 0; }
- EOF
- if { (eval echo configure:1537: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_func_connect=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_func_connect=no"
- fi
- rm -f conftest*
- fi
- 
- if eval "test \"`echo '$ac_cv_func_'connect`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   :
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     if test $ac_cv_func_connect = no; then
-       echo $ac_n "checking for connect in -lsocket""... $ac_c" 1>&6
- echo "configure:1558: checking for connect in -lsocket" >&5
- ac_lib_var=`echo socket'_'connect | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-lsocket $X_EXTRA_LIBS $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1566 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char connect();
- 
- int main() {
- connect()
- ; return 0; }
- EOF
- if { (eval echo configure:1577: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_EXTRA_LIBS="-lsocket $X_EXTRA_LIBS"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     fi
- 
-     # gomez@mi.uni-erlangen.de says -lposix is necessary on A/UX.
-     echo $ac_n "checking for remove""... $ac_c" 1>&6
- echo "configure:1601: checking for remove" >&5
- if eval "test \"`echo '$''{'ac_cv_func_remove'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.$ac_ext <<EOF
- #line 1606 "configure"
- #include "confdefs.h"
- /* System header to define __stub macros and hopefully few prototypes,
-     which can conflict with char remove(); below.  */
- #include <assert.h>
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char remove();
- 
- int main() {
- 
- /* The GNU C library defines this for functions which it implements
-     to always fail with ENOSYS.  Some functions are actually named
-     something starting with __ and the normal name is an alias.  */
- #if defined (__stub_remove) || defined (__stub___remove)
- choke me
- #else
- remove();
- #endif
- 
- ; return 0; }
- EOF
- if { (eval echo configure:1629: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_func_remove=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_func_remove=no"
- fi
- rm -f conftest*
- fi
- 
- if eval "test \"`echo '$ac_cv_func_'remove`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   :
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     if test $ac_cv_func_remove = no; then
-       echo $ac_n "checking for remove in -lposix""... $ac_c" 1>&6
- echo "configure:1650: checking for remove in -lposix" >&5
- ac_lib_var=`echo posix'_'remove | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-lposix  $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1658 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char remove();
- 
- int main() {
- remove()
- ; return 0; }
- EOF
- if { (eval echo configure:1669: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_EXTRA_LIBS="$X_EXTRA_LIBS -lposix"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     fi
- 
-     # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.
-     echo $ac_n "checking for shmat""... $ac_c" 1>&6
- echo "configure:1693: checking for shmat" >&5
- if eval "test \"`echo '$''{'ac_cv_func_shmat'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.$ac_ext <<EOF
- #line 1698 "configure"
- #include "confdefs.h"
- /* System header to define __stub macros and hopefully few prototypes,
-     which can conflict with char shmat(); below.  */
- #include <assert.h>
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char shmat();
- 
- int main() {
- 
- /* The GNU C library defines this for functions which it implements
-     to always fail with ENOSYS.  Some functions are actually named
-     something starting with __ and the normal name is an alias.  */
- #if defined (__stub_shmat) || defined (__stub___shmat)
- choke me
- #else
- shmat();
- #endif
- 
- ; return 0; }
- EOF
- if { (eval echo configure:1721: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_func_shmat=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_func_shmat=no"
- fi
- rm -f conftest*
- fi
- 
- if eval "test \"`echo '$ac_cv_func_'shmat`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   :
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     if test $ac_cv_func_shmat = no; then
-       echo $ac_n "checking for shmat in -lipc""... $ac_c" 1>&6
- echo "configure:1742: checking for shmat in -lipc" >&5
- ac_lib_var=`echo ipc'_'shmat | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-lipc  $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1750 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char shmat();
- 
- int main() {
- shmat()
- ; return 0; }
- EOF
- if { (eval echo configure:1761: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-     fi
-   fi
- 
-   # Check for libraries that X11R6 Xt/Xaw programs need.
-   ac_save_LDFLAGS="$LDFLAGS"
-   test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
-   # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
-   # check for ICE first), but we must link in the order -lSM -lICE or
-   # we get undefined symbols.  So assume we have SM if we have ICE.
-   # These have to be linked with before -lX11, unlike the other
-   # libraries we check for below, so use a different variable.
-   #  --interran@uluru.Stanford.EDU, kb@cs.umb.edu.
-   echo $ac_n "checking for IceConnectionNumber in -lICE""... $ac_c" 1>&6
- echo "configure:1794: checking for IceConnectionNumber in -lICE" >&5
- ac_lib_var=`echo ICE'_'IceConnectionNumber | sed 'y%./+-%__p_%'`
- if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_save_LIBS="$LIBS"
- LIBS="-lICE  $LIBS"
- cat > conftest.$ac_ext <<EOF
- #line 1802 "configure"
- #include "confdefs.h"
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char IceConnectionNumber();
- 
- int main() {
- IceConnectionNumber()
- ; return 0; }
- EOF
- if { (eval echo configure:1813: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_lib_$ac_lib_var=no"
- fi
- rm -f conftest*
- LIBS="$ac_save_LIBS"
- 
- fi
- if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-   X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
- else
-   echo "$ac_t""no" 1>&6
- fi
- 
-   LDFLAGS="$ac_save_LDFLAGS"
- 
- fi
- 
- 
- echo $ac_n "checking whether byte ordering is bigendian""... $ac_c" 1>&6
- echo "configure:1839: checking whether byte ordering is bigendian" >&5
- if eval "test \"`echo '$''{'ac_cv_c_bigendian'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_cv_c_bigendian=unknown
- # See if sys/param.h defines the BYTE_ORDER macro.
- cat > conftest.$ac_ext <<EOF
- #line 1846 "configure"
- #include "confdefs.h"
- #include <sys/types.h>
- #include <sys/param.h>
- int main() {
- 
- #if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN
-  bogus endian macros
- #endif
- ; return 0; }
- EOF
- if { (eval echo configure:1857: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
-   rm -rf conftest*
-   # It does; now see whether it defined to BIG_ENDIAN or not.
- cat > conftest.$ac_ext <<EOF
- #line 1861 "configure"
- #include "confdefs.h"
- #include <sys/types.h>
- #include <sys/param.h>
- int main() {
- 
- #if BYTE_ORDER != BIG_ENDIAN
-  not big endian
- #endif
- ; return 0; }
- EOF
- if { (eval echo configure:1872: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
-   rm -rf conftest*
-   ac_cv_c_bigendian=yes
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   ac_cv_c_bigendian=no
- fi
- rm -f conftest*
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
- fi
- rm -f conftest*
- if test $ac_cv_c_bigendian = unknown; then
- if test "$cross_compiling" = yes; then
-     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
- else
-   cat > conftest.$ac_ext <<EOF
- #line 1892 "configure"
- #include "confdefs.h"
- main () {
-   /* Are we little or big endian?  From Harbison&Steele.  */
-   union
-   {
-     long l;
-     char c[sizeof (long)];
-   } u;
-   u.l = 1;
-   exit (u.c[sizeof (long) - 1] == 1);
- }
- EOF
- if { (eval echo configure:1905: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
- then
-   ac_cv_c_bigendian=no
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -fr conftest*
-   ac_cv_c_bigendian=yes
- fi
- rm -fr conftest*
- fi
- 
- fi
- fi
- 
- echo "$ac_t""$ac_cv_c_bigendian" 1>&6
- if test $ac_cv_c_bigendian = yes; then
-   cat >> confdefs.h <<\EOF
- #define WORDS_BIGENDIAN 1
- EOF
- 
- fi
- 
- echo $ac_n "checking for inline""... $ac_c" 1>&6
- echo "configure:1929: checking for inline" >&5
- if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   ac_cv_c_inline=no
- for ac_kw in inline __inline__ __inline; do
-   cat > conftest.$ac_ext <<EOF
- #line 1936 "configure"
- #include "confdefs.h"
- 
- int main() {
- } $ac_kw foo() {
- ; return 0; }
- EOF
- if { (eval echo configure:1943: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
-   rm -rf conftest*
-   ac_cv_c_inline=$ac_kw; break
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
- fi
- rm -f conftest*
- done
- 
- fi
- 
- echo "$ac_t""$ac_cv_c_inline" 1>&6
- case "$ac_cv_c_inline" in
-   inline | yes) ;;
-   no) cat >> confdefs.h <<\EOF
- #define inline 
- EOF
-  ;;
-   *)  cat >> confdefs.h <<EOF
- #define inline $ac_cv_c_inline
- EOF
-  ;;
- esac
- 
- echo $ac_n "checking size of unsigned char""... $ac_c" 1>&6
- echo "configure:1969: checking size of unsigned char" >&5
- if eval "test \"`echo '$''{'ac_cv_sizeof_unsigned_char'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test "$cross_compiling" = yes; then
-     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
- else
-   cat > conftest.$ac_ext <<EOF
- #line 1977 "configure"
- #include "confdefs.h"
- #include <stdio.h>
- main()
- {
-   FILE *f=fopen("conftestval", "w");
-   if (!f) exit(1);
-   fprintf(f, "%d\n", sizeof(unsigned char));
-   exit(0);
- }
- EOF
- if { (eval echo configure:1988: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
- then
-   ac_cv_sizeof_unsigned_char=`cat conftestval`
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -fr conftest*
-   ac_cv_sizeof_unsigned_char=0
- fi
- rm -fr conftest*
- fi
- 
- fi
- echo "$ac_t""$ac_cv_sizeof_unsigned_char" 1>&6
- cat >> confdefs.h <<EOF
- #define SIZEOF_UNSIGNED_CHAR $ac_cv_sizeof_unsigned_char
- EOF
- 
- 
- echo $ac_n "checking size of unsigned short""... $ac_c" 1>&6
- echo "configure:2008: checking size of unsigned short" >&5
- if eval "test \"`echo '$''{'ac_cv_sizeof_unsigned_short'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test "$cross_compiling" = yes; then
-     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
- else
-   cat > conftest.$ac_ext <<EOF
- #line 2016 "configure"
- #include "confdefs.h"
- #include <stdio.h>
- main()
- {
-   FILE *f=fopen("conftestval", "w");
-   if (!f) exit(1);
-   fprintf(f, "%d\n", sizeof(unsigned short));
-   exit(0);
- }
- EOF
- if { (eval echo configure:2027: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
- then
-   ac_cv_sizeof_unsigned_short=`cat conftestval`
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -fr conftest*
-   ac_cv_sizeof_unsigned_short=0
- fi
- rm -fr conftest*
- fi
- 
- fi
- echo "$ac_t""$ac_cv_sizeof_unsigned_short" 1>&6
- cat >> confdefs.h <<EOF
- #define SIZEOF_UNSIGNED_SHORT $ac_cv_sizeof_unsigned_short
- EOF
- 
- 
- echo $ac_n "checking size of unsigned int""... $ac_c" 1>&6
- echo "configure:2047: checking size of unsigned int" >&5
- if eval "test \"`echo '$''{'ac_cv_sizeof_unsigned_int'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test "$cross_compiling" = yes; then
-     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
- else
-   cat > conftest.$ac_ext <<EOF
- #line 2055 "configure"
- #include "confdefs.h"
- #include <stdio.h>
- main()
- {
-   FILE *f=fopen("conftestval", "w");
-   if (!f) exit(1);
-   fprintf(f, "%d\n", sizeof(unsigned int));
-   exit(0);
- }
- EOF
- if { (eval echo configure:2066: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
- then
-   ac_cv_sizeof_unsigned_int=`cat conftestval`
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -fr conftest*
-   ac_cv_sizeof_unsigned_int=0
- fi
- rm -fr conftest*
- fi
- 
- fi
- echo "$ac_t""$ac_cv_sizeof_unsigned_int" 1>&6
- cat >> confdefs.h <<EOF
- #define SIZEOF_UNSIGNED_INT $ac_cv_sizeof_unsigned_int
- EOF
- 
- 
- echo $ac_n "checking size of unsigned long""... $ac_c" 1>&6
- echo "configure:2086: checking size of unsigned long" >&5
- if eval "test \"`echo '$''{'ac_cv_sizeof_unsigned_long'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test "$cross_compiling" = yes; then
-     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
- else
-   cat > conftest.$ac_ext <<EOF
- #line 2094 "configure"
- #include "confdefs.h"
- #include <stdio.h>
- main()
- {
-   FILE *f=fopen("conftestval", "w");
-   if (!f) exit(1);
-   fprintf(f, "%d\n", sizeof(unsigned long));
-   exit(0);
- }
- EOF
- if { (eval echo configure:2105: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
- then
-   ac_cv_sizeof_unsigned_long=`cat conftestval`
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -fr conftest*
-   ac_cv_sizeof_unsigned_long=0
- fi
- rm -fr conftest*
- fi
- 
- fi
- echo "$ac_t""$ac_cv_sizeof_unsigned_long" 1>&6
- cat >> confdefs.h <<EOF
- #define SIZEOF_UNSIGNED_LONG $ac_cv_sizeof_unsigned_long
- EOF
- 
- 
- echo $ac_n "checking size of unsigned long long""... $ac_c" 1>&6
- echo "configure:2125: checking size of unsigned long long" >&5
- if eval "test \"`echo '$''{'ac_cv_sizeof_unsigned_long_long'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   if test "$cross_compiling" = yes; then
-     { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
- else
-   cat > conftest.$ac_ext <<EOF
- #line 2133 "configure"
- #include "confdefs.h"
- #include <stdio.h>
- main()
- {
-   FILE *f=fopen("conftestval", "w");
-   if (!f) exit(1);
-   fprintf(f, "%d\n", sizeof(unsigned long long));
-   exit(0);
- }
- EOF
- if { (eval echo configure:2144: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
- then
-   ac_cv_sizeof_unsigned_long_long=`cat conftestval`
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -fr conftest*
-   ac_cv_sizeof_unsigned_long_long=0
- fi
- rm -fr conftest*
- fi
- 
- fi
- echo "$ac_t""$ac_cv_sizeof_unsigned_long_long" 1>&6
- cat >> confdefs.h <<EOF
- #define SIZEOF_UNSIGNED_LONG_LONG $ac_cv_sizeof_unsigned_long_long
- EOF
- 
- 
- for ac_func in select
- do
- echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
- echo "configure:2166: checking for $ac_func" >&5
- if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
-   echo $ac_n "(cached) $ac_c" 1>&6
- else
-   cat > conftest.$ac_ext <<EOF
- #line 2171 "configure"
- #include "confdefs.h"
- /* System header to define __stub macros and hopefully few prototypes,
-     which can conflict with char $ac_func(); below.  */
- #include <assert.h>
- /* Override any gcc2 internal prototype to avoid an error.  */
- /* We use char because int might match the return type of a gcc2
-     builtin and then its argument prototype would still apply.  */
- char $ac_func();
- 
- int main() {
- 
- /* The GNU C library defines this for functions which it implements
-     to always fail with ENOSYS.  Some functions are actually named
-     something starting with __ and the normal name is an alias.  */
- #if defined (__stub_$ac_func) || defined (__stub___$ac_func)
- choke me
- #else
- $ac_func();
- #endif
- 
- ; return 0; }
- EOF
- if { (eval echo configure:2194: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
-   rm -rf conftest*
-   eval "ac_cv_func_$ac_func=yes"
- else
-   echo "configure: failed program was:" >&5
-   cat conftest.$ac_ext >&5
-   rm -rf conftest*
-   eval "ac_cv_func_$ac_func=no"
- fi
- rm -f conftest*
- fi
- 
- if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
-   echo "$ac_t""yes" 1>&6
-     ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
-   cat >> confdefs.h <<EOF
- #define $ac_tr_func 1
- EOF
-  cat >> confdefs.h <<\EOF
- #define BX_HAVE_SELECT 1
- EOF
- 
- else
-   echo "$ac_t""no" 1>&6
- fi
- done
- 
- 
- 
- echo $ac_n "checking for cpu level""... $ac_c" 1>&6
- echo "configure:2224: checking for cpu level" >&5
- # Check whether --enable-cpu-level or --disable-cpu-level was given.
- if test "${enable_cpu_level+set}" = set; then
-   enableval="$enable_cpu_level"
-   case "$enableval" in
-      3)
-        echo "$ac_t""3" 1>&6
-        cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL 3
- EOF
- 
-        cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL_HACKED 3
- EOF
- 
-        ;;
-      4)
-        echo "$ac_t""4" 1>&6
-        cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL 4
- EOF
- 
-        cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL_HACKED 4
- EOF
- 
-        ;;
-      5)
-        echo "$ac_t""5" 1>&6
-        cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL 5
- EOF
- 
-        cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL_HACKED 5
- EOF
- 
-        ;;
-      *)
-        echo " "
-        echo "ERROR: you must supply a valid CPU level to --enable-cpu-level"
-        exit 1
-        ;;
-    esac
-   
- else
-   
-    echo "$ac_t""5" 1>&6
-    cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL 5
- EOF
- 
-    cat >> confdefs.h <<\EOF
- #define BX_CPU_LEVEL_HACKED 5
- EOF
- 
-   
-   
- fi
- 
- 
- 
- echo $ac_n "checking for dynamic translation support""... $ac_c" 1>&6
- echo "configure:2287: checking for dynamic translation support" >&5
- # Check whether --enable-dynamic or --disable-dynamic was given.
- if test "${enable_dynamic+set}" = set; then
-   enableval="$enable_dynamic"
-   if test "$enableval" = no; then
-      echo "$ac_t""no" 1>&6
-      cat >> confdefs.h <<\EOF
- #define BX_DYNAMIC_TRANSLATION 0
- EOF
- 
-      DYNAMIC_VAR=''
-      AS_DYNAMIC_OBJS=''
-      AS_DYNAMIC_INCS=''
-    else
-      if test "$enableval" = yes; then
-        echo " "
-        echo \!\!\!Error\!\!\!
-        echo "You must specify a CPU type to dynamic-translation option"
-        echo \!\!\!Error\!\!\!
-        exit 1
-      fi
-      case "$enableval" in
-        i386)
-          cat >> confdefs.h <<\EOF
- #define BX_DYNAMIC_CPU_I386 1
- EOF
- 
-          AS_DYNAMIC_OBJS='$(X86_OBJS)'
-          AS_DYNAMIC_INCS='$(X86_H)'
-          ;;
-        sparc)
-          cat >> confdefs.h <<\EOF
- #define BX_DYNAMIC_CPU_SPARC 1
- EOF
- 
-          AS_DYNAMIC_OBJS='$(SPARC_OBJS).o'
-          AS_DYNAMIC_INCS='$(SPARC_H)'
-          ;;
-        *)
-          echo " "
-          echo \!\!\!Error\!\!\!
-          echo "Sorry, dynamic translation is not yet available on your platform"
-          echo \!\!\!Error\!\!\!
-          AS_DYNAMIC_OBJS=''
-          AS_DYNAMIC_INCS=''
-          exit 1 ;;
-      esac
-      echo "$ac_t""yes" 1>&6
-      cat >> confdefs.h <<\EOF
- #define BX_DYNAMIC_TRANSLATION 1
- EOF
- 
-      DYNAMIC_VAR='$(DYNAMIC_LIB)'
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DYNAMIC_TRANSLATION 0
- EOF
- 
-     DYNAMIC_VAR=''
-     AS_DYNAMIC_OBJS=''
-     AS_DYNAMIC_INCS=''
-     
-   
- fi
- 
- 
- 
- 
- 
- echo $ac_n "checking for NE2000 support""... $ac_c" 1>&6
- echo "configure:2360: checking for NE2000 support" >&5
- # Check whether --enable-ne2000 or --disable-ne2000 was given.
- if test "${enable_ne2000+set}" = set; then
-   enableval="$enable_ne2000"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_NE2K_SUPPORT 1
- EOF
- 
-     NE2K_OBJS='ne2k.o eth.o eth_fbsd.o eth_null.o'
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_NE2K_SUPPORT 0
- EOF
- 
-     NE2K_OBJS=''
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_NE2K_SUPPORT 0
- EOF
- 
-     NE2K_OBJS=''
-     
-   
- fi
- 
- 
- 
- 
- echo $ac_n "checking for i440FX PCI support""... $ac_c" 1>&6
- echo "configure:2395: checking for i440FX PCI support" >&5
- # Check whether --enable-pci or --disable-pci was given.
- if test "${enable_pci+set}" = set; then
-   enableval="$enable_pci"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_PCI_SUPPORT 1
- EOF
- 
-     PCI_OBJ='pci.o'
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_PCI_SUPPORT 0
- EOF
- 
-     PCI_OBJ=''
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_PCI_SUPPORT 0
- EOF
- 
-     PCI_OBJ=''
-     
-   
- fi
- 
- 
- 
- 
- echo $ac_n "checking for port e9 hack""... $ac_c" 1>&6
- echo "configure:2430: checking for port e9 hack" >&5
- # Check whether --enable-port-e9-hack or --disable-port-e9-hack was given.
- if test "${enable_port_e9_hack+set}" = set; then
-   enableval="$enable_port_e9_hack"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_PORT_E9_HACK 1
- EOF
- 
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_PORT_E9_HACK 0
- EOF
- 
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_PORT_E9_HACK 0
- EOF
- 
-     
-   
- fi
- 
- 
- 
- echo $ac_n "checking for use of .cpp as suffix""... $ac_c" 1>&6
- echo "configure:2461: checking for use of .cpp as suffix" >&5
- # Check whether --enable-cpp or --disable-cpp was given.
- if test "${enable_cpp+set}" = set; then
-   enableval="$enable_cpp"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     SUFFIX_LINE='.SUFFIXES: .cpp'
-     CPP_SUFFIX='cpp'
-    else
-     echo "$ac_t""no" 1>&6
-     SUFFIX_LINE='.SUFFIXES: .cc'
-     CPP_SUFFIX='cc'
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     SUFFIX_LINE='.SUFFIXES: .cc'
-     CPP_SUFFIX='cc'
-     
-   
- fi
- 
- 
- 
- 
- if test "$enable_cpp" = yes; then
-   echo "moving .cc source files to .cpp"
-   sourcefiles=`find . -name "*.cc" -print`
-   if test "$sourcefiles" != ""; then
-     for ccname in $sourcefiles
-     do
-       cppname=`echo $ccname | sed -e "s/\.cc$/.cpp/"`
-       echo "mv $ccname $cppname"
-       mv   $ccname $cppname
-     done
-   else
-     echo "no more .cc source files to rename"
-   fi
- fi
- 
- 
- echo $ac_n "checking for Bochs internal debugger support""... $ac_c" 1>&6
- echo "configure:2503: checking for Bochs internal debugger support" >&5
- # Check whether --enable-debugger or --disable-debugger was given.
- if test "${enable_debugger+set}" = set; then
-   enableval="$enable_debugger"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DEBUGGER 1
- EOF
- 
-     DEBUGGER_VAR='$(DEBUGGER_LIB)'
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DEBUGGER 0
- EOF
- 
-     DEBUGGER_VAR=''
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DEBUGGER 0
- EOF
- 
-     DEBUGGER_VAR=''
-     
-   
- fi
- 
- 
- 
- echo $ac_n "checking for disassembler support""... $ac_c" 1>&6
- echo "configure:2537: checking for disassembler support" >&5
- # Check whether --enable-disasm or --disable-disasm was given.
- if test "${enable_disasm+set}" = set; then
-   enableval="$enable_disasm"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DISASM 1
- EOF
- 
-     DISASM_VAR='$(DISASM_LIB)'
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DISASM 0
- EOF
- 
-     DISASM_VAR=''
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_DISASM 0
- EOF
- 
-     DISASM_VAR=''
-     
-   
- fi
- 
- 
- 
- echo $ac_n "checking for loader support""... $ac_c" 1>&6
- echo "configure:2571: checking for loader support" >&5
- # Check whether --enable-loader or --disable-loader was given.
- if test "${enable_loader+set}" = set; then
-   enableval="$enable_loader"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_USE_LOADER 1
- EOF
- 
-     BX_LOADER_OBJS='bx_loader.o loader.o'
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_USE_LOADER 0
- EOF
- 
-     BX_LOADER_OBJS=''
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_USE_LOADER 0
- EOF
- 
-     BX_LOADER_OBJS=''
-     
-   
- fi
- 
- 
- 
- 
- 
- INSTRUMENT_DIR='instrument/stubs'
- 
- echo $ac_n "checking for instrumentation support""... $ac_c" 1>&6
- echo "configure:2609: checking for instrumentation support" >&5
- # Check whether --enable-instrumentation or --disable-instrumentation was given.
- if test "${enable_instrumentation+set}" = set; then
-   enableval="$enable_instrumentation"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_INSTRUMENTATION 1
- EOF
- 
-     INSTRUMENT_VAR='$(INSTRUMENT_LIB)'
-    elif test "$enableval" = no; then
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_INSTRUMENTATION 0
- EOF
- 
-     INSTRUMENT_VAR=''
-    else
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_INSTRUMENTATION 1
- EOF
- 
-     INSTRUMENT_DIR=$enableval
-     INSTRUMENT_VAR='$(INSTRUMENT_LIB)'
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_INSTRUMENTATION 0
- EOF
- 
-     INSTRUMENT_VAR=''
-     
-   
- fi
- 
- 
- 
- 
- # Check whether --enable-simid or --disable-simid was given.
- if test "${enable_simid+set}" = set; then
-   enableval="$enable_simid"
-   if test "$enableval" = yes; then
-     cat >> confdefs.h <<\EOF
- #define BX_SIM_ID 0
- EOF
- 
-    elif test "$enableval" = no; then
-     cat >> confdefs.h <<\EOF
- #define BX_SIM_ID 0
- EOF
- 
-    else
-     cat >> confdefs.h <<EOF
- #define BX_SIM_ID $enableval
- EOF
- 
-    fi
- else
-   
-     cat >> confdefs.h <<\EOF
- #define BX_SIM_ID 0
- EOF
- 
-     
-   
- fi
- 
- 
- # Check whether --enable-num-sim or --disable-num-sim was given.
- if test "${enable_num_sim+set}" = set; then
-   enableval="$enable_num_sim"
-   if test "$enableval" = yes; then
-     cat >> confdefs.h <<\EOF
- #define BX_NUM_SIMULATORS 1
- EOF
- 
-    elif test "$enableval" = no; then
-     cat >> confdefs.h <<\EOF
- #define BX_NUM_SIMULATORS 1
- EOF
- 
-    else
-     cat >> confdefs.h <<EOF
- #define BX_NUM_SIMULATORS $enableval
- EOF
- 
-    fi
- else
-   
-     cat >> confdefs.h <<\EOF
- #define BX_NUM_SIMULATORS 1
- EOF
- 
-     
-   
- fi
- 
- 
- # Check whether --enable-time0 or --disable-time0 was given.
- if test "${enable_time0+set}" = set; then
-   enableval="$enable_time0"
-   if test "$enableval" = yes; then
-     cat >> confdefs.h <<\EOF
- #define BX_USE_SPECIFIED_TIME0 917385580
- EOF
- 
-    elif test "$enableval" = no; then
-     cat >> confdefs.h <<\EOF
- #define BX_USE_SPECIFIED_TIME0 0
- EOF
- 
-    else
-     cat >> confdefs.h <<EOF
- #define BX_USE_SPECIFIED_TIME0 $enableval
- EOF
- 
-    fi
- else
-   
-     cat >> confdefs.h <<\EOF
- #define BX_USE_SPECIFIED_TIME0 0
- EOF
- 
-     
-   
- fi
- 
- 
- 
- 
- echo $ac_n "checking for VGA emulation""... $ac_c" 1>&6
- echo "configure:2744: checking for VGA emulation" >&5
- # Check whether --enable-vga or --disable-vga was given.
- if test "${enable_vga+set}" = set; then
-   enableval="$enable_vga"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_VGA 1
- EOF
- 
-     VIDEO_OBJS='$(VIDEO_OBJS_VGA)'
-    else
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_VGA 0
- EOF
- 
-     VIDEO_OBJS='$(VIDEO_OBJS_HGA)'
-    fi
- else
-   
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_VGA 1
- EOF
- 
-     VIDEO_OBJS='$(VIDEO_OBJS_VGA)'
-     
-   
- fi
- 
- 
- 
- echo $ac_n "checking for FPU emulation""... $ac_c" 1>&6
- echo "configure:2778: checking for FPU emulation" >&5
- FPU_VAR=''
- FPU_GLUE_OBJ=''
- # Check whether --enable-fpu or --disable-fpu was given.
- if test "${enable_fpu+set}" = set; then
-   enableval="$enable_fpu"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_FPU 1
- EOF
- 
-     FPU_VAR='$(FPU_LIB)'
-     FPU_GLUE_OBJ='$(FPU_GLUE_OBJ)'
-    elif test "$enableval" = no; then
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_FPU 0
- EOF
- 
-    else
-     echo " "
-     echo "ERROR: --enable-fpu does not accept a path"
-     exit 1
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_FPU 0
- EOF
- 
-     
-   
- fi
- 
- 
- 
- 
- 
- 
- echo $ac_n "checking for x86 debugger support""... $ac_c" 1>&6
- echo "configure:2820: checking for x86 debugger support" >&5
- # Check whether --enable-x86-debugger or --disable-x86-debugger was given.
- if test "${enable_x86_debugger+set}" = set; then
-   enableval="$enable_x86_debugger"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_X86_DEBUGGER 1
- EOF
- 
-    elif test "$enableval" = no; then
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_X86_DEBUGGER 0
- EOF
- 
-    else
-     echo "$ac_t""yes" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_X86_DEBUGGER 1
- EOF
- 
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     cat >> confdefs.h <<\EOF
- #define BX_X86_DEBUGGER 0
- EOF
- 
-     
-   
- fi
- 
- 
- echo $ac_n "checking for CDROM support""... $ac_c" 1>&6
- echo "configure:2856: checking for CDROM support" >&5
- # Check whether --enable-cdrom or --disable-cdrom was given.
- if test "${enable_cdrom+set}" = set; then
-   enableval="$enable_cdrom"
-   if test "$enableval" = yes; then
-     echo "$ac_t""yes" 1>&6
-     CDROM_OBJS='cdrom.o'
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_CDROM 1
- EOF
- 
-    elif test "$enableval" = no; then
-     echo "$ac_t""no" 1>&6
-     CDROM_OBJS=''
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_CDROM 0
- EOF
- 
-    else
-     echo "$ac_t""yes" 1>&6
-     CDROM_OBJS='cdrom.o'
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_CDROM 1
- EOF
- 
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     CDROM_OBJS=''
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_CDROM 0
- EOF
- 
-     
-   
- fi
- 
- 
- 
- 
- echo $ac_n "checking for Sound Blaster 16 support""... $ac_c" 1>&6
- echo "configure:2898: checking for Sound Blaster 16 support" >&5
- # Check whether --enable-sb16 or --disable-sb16 was given.
- if test "${enable_sb16+set}" = set; then
-   enableval="$enable_sb16"
-   if test "$enableval" = no; then
-      echo "$ac_t""no" 1>&6
-      SB16_OBJS=''
-      cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_SB16 0
- EOF
- 
-    else
-      case "$enableval" in
-        dummy)
-          SB16_OBJS='$(SB16_DUMMY_OBJS)'
-          cat >> confdefs.h <<\EOF
- #define BX_SOUND_OUTPUT_C bx_sound_output_c
- EOF
- 
-          echo "$ac_t""dummy" 1>&6
-          ;;
-        linux)
-          SB16_OBJS='$(SB16_LINUX_OBJS)'
-          cat >> confdefs.h <<\EOF
- #define BX_SOUND_OUTPUT_C bx_sound_linux_c
- EOF
- 
-          echo "$ac_t""linux" 1>&6
-          ;;
-        win)
-          SB16_OBJS='$(SB16_WIN_OBJS)'
-          cat >> confdefs.h <<\EOF
- #define BX_SOUND_OUTPUT_C bx_sound_windows_c
- EOF
- 
-          echo "$ac_t""win" 1>&6
-          ;;
-        *)
-          echo " "
-          echo \!\!\!Error\!\!\!
-          echo "You must pass one of dummy, linux, win to --enable-sb16"
-          exit 1 ;;
-      esac
-      cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_SB16 1
- EOF
- 
-    fi
- else
-   
-     echo "$ac_t""no" 1>&6
-     SB16_OBJS=''
-     cat >> confdefs.h <<\EOF
- #define BX_SUPPORT_SB16 0
- EOF
- 
-     
-   
- fi
- 
- 
- 
- 
- # Check whether --enable-hga-dumps or --disable-hga-dumps was given.
- if test "${enable_hga_dumps+set}" = set; then
-   enableval="$enable_hga_dumps"
-   cat >> confdefs.h <<EOF
- #define BX_EMULATE_HGA_DUMPS $enableval
- EOF
- 
- fi
- 
- 
- PRIMARY_TARGET='bochs'
- 
- # Check whether --enable-external-device-models or --disable-external-device-models was given.
- if test "${enable_external_device_models+set}" = set; then
-   enableval="$enable_external_device_models"
-   
-     cat >> confdefs.h <<\EOF
- #define BX_PROVIDE_DEVICE_MODELS 0
- EOF
- 
-     IODEV_LIB_VAR=''
-     PRIMARY_TARGET='libbochs_cpu.a'
-     
- else
-   
-     cat >> confdefs.h <<\EOF
- #define BX_PROVIDE_DEVICE_MODELS 1
- EOF
- 
-     IODEV_LIB_VAR='iodev/libiodev.a'
-     
-   
- fi
- 
- 
- 
- # Check whether --enable-external-cpu-memory or --disable-external-cpu-memory was given.
- if test "${enable_external_cpu_memory+set}" = set; then
-   enableval="$enable_external_cpu_memory"
-   
-     cat >> confdefs.h <<\EOF
- #define BX_PROVIDE_CPU_MEMORY 0
- EOF
- 
-     NONINLINE_VAR='$(EXTERN_ENVIRONMENT_OBJS)'
-     INLINE_VAR=''
-     PRIMARY_TARGET='libbochs.a'
-     EXTERNAL_DEPENDENCY='libbochs.a: iodev/libiodev.a $(EXTERN_ENVIRONMENT_OBJS)'
-     
- else
-   
-     cat >> confdefs.h <<\EOF
- #define BX_PROVIDE_CPU_MEMORY 1
- EOF
- 
-     NONINLINE_VAR='$(NONINLINE_OBJS)'
-     
-   
- fi
- 
- 
- 
- 
- 
- 
- # Check whether --with-x11 or --without-x11 was given.
- if test "${with_x11+set}" = set; then
-   withval="$with_x11"
-   :
- fi
- 
- 
- # Check whether --with-beos or --without-beos was given.
- if test "${with_beos+set}" = set; then
-   withval="$with_beos"
-   :
- fi
- 
- 
- # Check whether --with-win32 or --without-win32 was given.
- if test "${with_win32+set}" = set; then
-   withval="$with_win32"
-   :
- fi
- 
- 
- # Check whether --with-win32-vcpp or --without-win32-vcpp was given.
- if test "${with_win32_vcpp+set}" = set; then
-   withval="$with_win32_vcpp"
-   :
- fi
- 
- 
- # Check whether --with-macos or --without-macos was given.
- if test "${with_macos+set}" = set; then
-   withval="$with_macos"
-   :
- fi
- 
- 
- # Check whether --with-nogui or --without-nogui was given.
- if test "${with_nogui+set}" = set; then
-   withval="$with_nogui"
-   :
- fi
- 
- 
- if (test "$with_x11" != yes) && \
-    (test "$with_beos" != yes) && \
-    (test "$with_win32" != yes) && \
-    (test "$with_nogui" != yes) && \
-    (test "$with_win32_vcpp" != yes) && \
-    (test "$with_macos" != yes); then
-   with_x11=yes
- fi
- 
- DASH="-"
- SLASH="/"
- CXXFP=""
- CFP=""
- OFP="-o "
- MAKELIB="ar rv \$@"
- RMCOMMAND="rm -f "
- LINK="\$(CXX) -o \$@ \$(CXXFLAGS)"
- EXE=""
- COMMAND_SEPARATOR="&& \\"
- CD_UP_ONE="echo done"
- CD_UP_TWO="echo done"
- 
- if test "$with_x11" = yes; then
-   cat >> confdefs.h <<\EOF
- #define BX_WITH_X11 1
- EOF
- 
-   GUI_OBJS='$(GUI_OBJS_X11)'
-   GUI_LINK_OPTS='$(GUI_LINK_OPTS_X)'
- elif test "$with_win32" = yes; then
-   cat >> confdefs.h <<\EOF
- #define BX_WITH_WIN32 1
- EOF
- 
-   GUI_OBJS='$(GUI_OBJS_WIN32)'
-   GUI_LINK_OPTS='$(GUI_LINK_OPTS_WIN32)'
- elif test "$with_beos" = yes; then
-   cat >> confdefs.h <<\EOF
- #define BX_WITH_BEOS 1
- EOF
- 
-   GUI_OBJS='$(GUI_OBJS_BEOS)'
-   GUI_LINK_OPTS='$(GUI_LINK_OPTS_BEOS)'
- elif test "$with_win32_vcpp" = yes; then
-   cat >> confdefs.h <<\EOF
- #define BX_WITH_WIN32 1
- EOF
- 
-   GUI_OBJS='$(GUI_OBJS_WIN32)'
-   GUI_LINK_OPTS='$(GUI_LINK_OPTS_WIN32_VCPP)'
- 
-   CC="cl"
-   CFLAGS="/nologo /G6 /MT /W3 /GX /O2 /DNDEBUG /DWIN32 /D_WINDOWS"
-   CXX="$CC"
-   CXXFLAGS="$CFLAGS"
-   DASH="/"
-   SLASH="\\"
-   CXXFP="/Tp"
-   CFP="/Tc"
-   OFP="/Fo"
-   MAKELIB="lib.exe /nologo /subsystem:console /machine:I386 /verbose /out:\$@"
-   RMCOMMAND="-del"
-   RANLIB="echo"
-   LINK="link /nologo /subsystem:console /incremental:no /machine:I386 /out:\$@ BINMODE.OBJ"
-   EXE=".exe"
-   PRIMARY_TARGET="bochs.exe"
-   COMMAND_SEPARATOR=""
-   CD_UP_ONE="cd .."
-   CD_UP_TWO="cd ..\.."
- elif test "$with_macos" = yes; then
-   cat >> confdefs.h <<\EOF
- #define BX_WITH_MACOS 1
- EOF
- 
-   GUI_OBJS='$(GUI_OBJS_MACOS)'
-   GUI_LINK_OPTS='$(GUI_LINK_OPTS_MACOS)'
- else
-   cat >> confdefs.h <<\EOF
- #define BX_WITH_NOGUI 1
- EOF
- 
-   GUI_OBJS='$(GUI_OBJS_NOGUI)'
-   GUI_LINK_OPTS='$(GUI_LINK_OPTS_NOGUI)'
- fi
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- trap '' 1 2 15
- cat > confcache <<\EOF
- # This file is a shell script that caches the results of configure
- # tests run on this system so they can be shared between configure
- # scripts and configure runs.  It is not useful on other systems.
- # If it contains results you don't want to keep, you may remove or edit it.
- #
- # By default, configure uses ./config.cache as the cache file,
- # creating it if it does not exist already.  You can give configure
- # the --cache-file=FILE option to use a different cache file; that is
- # what configure does when it calls configure scripts in
- # subdirectories, so they share the cache.
- # Giving --cache-file=/dev/null disables caching, for debugging configure.
- # config.status only pays attention to the cache file if you give it the
- # --recheck option to rerun configure.
- #
- EOF
- # The following way of writing the cache mishandles newlines in values,
- # but we know of no workaround that is simple, portable, and efficient.
- # So, don't put newlines in cache variables' values.
- # Ultrix sh set writes to stderr and can't be redirected directly,
- # and sets the high bit in the cache file unless we assign to the vars.
- (set) 2>&1 |
-   case `(ac_space=' '; set) 2>&1` in
-   *ac_space=\ *)
-     # `set' does not quote correctly, so add quotes (double-quote substitution
-     # turns \\\\ into \\, and sed turns \\ into \).
-     sed -n \
-       -e "s/'/'\\\\''/g" \
-       -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
-     ;;
-   *)
-     # `set' quotes correctly as required by POSIX, so do not add quotes.
-     sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
-     ;;
-   esac >> confcache
- if cmp -s $cache_file confcache; then
-   :
- else
-   if test -w $cache_file; then
-     echo "updating cache $cache_file"
-     cat confcache > $cache_file
-   else
-     echo "not updating unwritable cache $cache_file"
-   fi
- fi
- rm -f confcache
- 
- trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
- 
- test "x$prefix" = xNONE && prefix=$ac_default_prefix
- # Let make expand exec_prefix.
- test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
- 
- # Any assignment to VPATH causes Sun make to only execute
- # the first set of double-colon rules, so remove it if not needed.
- # If there is a colon in the path, we need to keep it.
- if test "x$srcdir" = x.; then
-   ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
- fi
- 
- trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15
- 
- DEFS=-DHAVE_CONFIG_H
- 
- # Without the "./", some shells look in PATH for config.status.
- : ${CONFIG_STATUS=./config.status}
- 
- echo creating $CONFIG_STATUS
- rm -f $CONFIG_STATUS
- cat > $CONFIG_STATUS <<EOF
- #! /bin/sh
- # Generated automatically by configure.
- # Run this file to recreate the current configuration.
- # This directory was configured as follows,
- # on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
- #
- # $0 $ac_configure_args
- #
- # Compiler output produced by configure, useful for debugging
- # configure, is in ./config.log if it exists.
- 
- ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
- for ac_option
- do
-   case "\$ac_option" in
-   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
-     echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
-     exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
-   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
-     echo "$CONFIG_STATUS generated by autoconf version 2.12"
-     exit 0 ;;
-   -help | --help | --hel | --he | --h)
-     echo "\$ac_cs_usage"; exit 0 ;;
-   *) echo "\$ac_cs_usage"; exit 1 ;;
-   esac
- done
- 
- ac_given_srcdir=$srcdir
- 
- trap 'rm -fr `echo "Makefile iodev/Makefile debug/Makefile bios/Makefile \
-          cpu/Makefile memory/Makefile gui/Makefile disasm/Makefile \
-          ${INSTRUMENT_DIR}/Makefile misc/Makefile dynamic/Makefile \
-          fpu/Makefile config.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
- EOF
- cat >> $CONFIG_STATUS <<EOF
- 
- # Protect against being on the right side of a sed subst in config.status.
- sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
-  s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
- $ac_vpsub
- $extrasub
- s%@CFLAGS@%$CFLAGS%g
- s%@CPPFLAGS@%$CPPFLAGS%g
- s%@CXXFLAGS@%$CXXFLAGS%g
- s%@DEFS@%$DEFS%g
- s%@LDFLAGS@%$LDFLAGS%g
- s%@LIBS@%$LIBS%g
- s%@exec_prefix@%$exec_prefix%g
- s%@prefix@%$prefix%g
- s%@program_transform_name@%$program_transform_name%g
- s%@bindir@%$bindir%g
- s%@sbindir@%$sbindir%g
- s%@libexecdir@%$libexecdir%g
- s%@datadir@%$datadir%g
- s%@sysconfdir@%$sysconfdir%g
- s%@sharedstatedir@%$sharedstatedir%g
- s%@localstatedir@%$localstatedir%g
- s%@libdir@%$libdir%g
- s%@includedir@%$includedir%g
- s%@oldincludedir@%$oldincludedir%g
- s%@infodir@%$infodir%g
- s%@mandir@%$mandir%g
- s%@CC@%$CC%g
- s%@CXX@%$CXX%g
- s%@SET_MAKE@%$SET_MAKE%g
- s%@RANLIB@%$RANLIB%g
- s%@CPP@%$CPP%g
- s%@X_CFLAGS@%$X_CFLAGS%g
- s%@X_PRE_LIBS@%$X_PRE_LIBS%g
- s%@X_LIBS@%$X_LIBS%g
- s%@X_EXTRA_LIBS@%$X_EXTRA_LIBS%g
- s%@DYNAMIC_VAR@%$DYNAMIC_VAR%g
- s%@AS_DYNAMIC_OBJS@%$AS_DYNAMIC_OBJS%g
- s%@AS_DYNAMIC_INCS@%$AS_DYNAMIC_INCS%g
- s%@NE2K_OBJS@%$NE2K_OBJS%g
- s%@PCI_OBJ@%$PCI_OBJ%g
- s%@SUFFIX_LINE@%$SUFFIX_LINE%g
- s%@CPP_SUFFIX@%$CPP_SUFFIX%g
- s%@DEBUGGER_VAR@%$DEBUGGER_VAR%g
- s%@DISASM_VAR@%$DISASM_VAR%g
- s%@BX_LOADER_OBJS@%$BX_LOADER_OBJS%g
- s%@INSTRUMENT_DIR@%$INSTRUMENT_DIR%g
- s%@INSTRUMENT_VAR@%$INSTRUMENT_VAR%g
- s%@VIDEO_OBJS@%$VIDEO_OBJS%g
- s%@FPU_VAR@%$FPU_VAR%g
- s%@FPU_GLUE_OBJ@%$FPU_GLUE_OBJ%g
- s%@CDROM_OBJS@%$CDROM_OBJS%g
- s%@SB16_OBJS@%$SB16_OBJS%g
- s%@IODEV_LIB_VAR@%$IODEV_LIB_VAR%g
- s%@NONINLINE_VAR@%$NONINLINE_VAR%g
- s%@INLINE_VAR@%$INLINE_VAR%g
- s%@EXTERNAL_DEPENDENCY@%$EXTERNAL_DEPENDENCY%g
- s%@GUI_OBJS@%$GUI_OBJS%g
- s%@GUI_LINK_OPTS@%$GUI_LINK_OPTS%g
- s%@DASH@%$DASH%g
- s%@SLASH@%$SLASH%g
- s%@CXXFP@%$CXXFP%g
- s%@CFP@%$CFP%g
- s%@OFP@%$OFP%g
- s%@MAKELIB@%$MAKELIB%g
- s%@RMCOMMAND@%$RMCOMMAND%g
- s%@LINK@%$LINK%g
- s%@EXE@%$EXE%g
- s%@PRIMARY_TARGET@%$PRIMARY_TARGET%g
- s%@COMMAND_SEPARATOR@%$COMMAND_SEPARATOR%g
- s%@CD_UP_ONE@%$CD_UP_ONE%g
- s%@CD_UP_TWO@%$CD_UP_TWO%g
- 
- CEOF
- EOF
- 
- cat >> $CONFIG_STATUS <<\EOF
- 
- # Split the substitutions into bite-sized pieces for seds with
- # small command number limits, like on Digital OSF/1 and HP-UX.
- ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
- ac_file=1 # Number of current file.
- ac_beg=1 # First line for current file.
- ac_end=$ac_max_sed_cmds # Line after last line for current file.
- ac_more_lines=:
- ac_sed_cmds=""
- while $ac_more_lines; do
-   if test $ac_beg -gt 1; then
-     sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
-   else
-     sed "${ac_end}q" conftest.subs > conftest.s$ac_file
-   fi
-   if test ! -s conftest.s$ac_file; then
-     ac_more_lines=false
-     rm -f conftest.s$ac_file
-   else
-     if test -z "$ac_sed_cmds"; then
-       ac_sed_cmds="sed -f conftest.s$ac_file"
-     else
-       ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
-     fi
-     ac_file=`expr $ac_file + 1`
-     ac_beg=$ac_end
-     ac_end=`expr $ac_end + $ac_max_sed_cmds`
-   fi
- done
- if test -z "$ac_sed_cmds"; then
-   ac_sed_cmds=cat
- fi
- EOF
- 
- cat >> $CONFIG_STATUS <<EOF
- 
- CONFIG_FILES=\${CONFIG_FILES-"Makefile iodev/Makefile debug/Makefile bios/Makefile \
-          cpu/Makefile memory/Makefile gui/Makefile disasm/Makefile \
-          ${INSTRUMENT_DIR}/Makefile misc/Makefile dynamic/Makefile \
-          fpu/Makefile"}
- EOF
- cat >> $CONFIG_STATUS <<\EOF
- for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
-   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
-   case "$ac_file" in
-   *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
-        ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
-   *) ac_file_in="${ac_file}.in" ;;
-   esac
- 
-   # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
- 
-   # Remove last slash and all that follows it.  Not all systems have dirname.
-   ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
-   if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
-     # The file is in a subdirectory.
-     test ! -d "$ac_dir" && mkdir "$ac_dir"
-     ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
-     # A "../" for each directory in $ac_dir_suffix.
-     ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
-   else
-     ac_dir_suffix= ac_dots=
-   fi
- 
-   case "$ac_given_srcdir" in
-   .)  srcdir=.
-       if test -z "$ac_dots"; then top_srcdir=.
-       else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
-   /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
-   *) # Relative path.
-     srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
-     top_srcdir="$ac_dots$ac_given_srcdir" ;;
-   esac
- 
- 
-   echo creating "$ac_file"
-   rm -f "$ac_file"
-   configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
-   case "$ac_file" in
-   *Makefile*) ac_comsub="1i\\
- # $configure_input" ;;
-   *) ac_comsub= ;;
-   esac
- 
-   ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
-   sed -e "$ac_comsub
- s%@configure_input@%$configure_input%g
- s%@srcdir@%$srcdir%g
- s%@top_srcdir@%$top_srcdir%g
- " $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
- fi; done
- rm -f conftest.s*
- 
- # These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
- # NAME is the cpp macro being defined and VALUE is the value it is being given.
- #
- # ac_d sets the value in "#define NAME VALUE" lines.
- ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
- ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
- ac_dC='\3'
- ac_dD='%g'
- # ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
- ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
- ac_uB='\([ 	]\)%\1#\2define\3'
- ac_uC=' '
- ac_uD='\4%g'
- # ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
- ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
- ac_eB='$%\1#\2define\3'
- ac_eC=' '
- ac_eD='%g'
- 
- if test "${CONFIG_HEADERS+set}" != set; then
- EOF
- cat >> $CONFIG_STATUS <<EOF
-   CONFIG_HEADERS="config.h"
- EOF
- cat >> $CONFIG_STATUS <<\EOF
- fi
- for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
-   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
-   case "$ac_file" in
-   *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
-        ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
-   *) ac_file_in="${ac_file}.in" ;;
-   esac
- 
-   echo creating $ac_file
- 
-   rm -f conftest.frag conftest.in conftest.out
-   ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
-   cat $ac_file_inputs > conftest.in
- 
- EOF
- 
- # Transform confdefs.h into a sed script conftest.vals that substitutes
- # the proper values into config.h.in to produce config.h.  And first:
- # Protect against being on the right side of a sed subst in config.status.
- # Protect against being in an unquoted here document in config.status.
- rm -f conftest.vals
- cat > conftest.hdr <<\EOF
- s/[\\&%]/\\&/g
- s%[\\$`]%\\&%g
- s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
- s%ac_d%ac_u%gp
- s%ac_u%ac_e%gp
- EOF
- sed -n -f conftest.hdr confdefs.h > conftest.vals
- rm -f conftest.hdr
- 
- # This sed command replaces #undef with comments.  This is necessary, for
- # example, in the case of _POSIX_SOURCE, which is predefined and required
- # on some systems where configure will not decide to define it.
- cat >> conftest.vals <<\EOF
- s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
- EOF
- 
- # Break up conftest.vals because some shells have a limit on
- # the size of here documents, and old seds have small limits too.
- 
- rm -f conftest.tail
- while :
- do
-   ac_lines=`grep -c . conftest.vals`
-   # grep -c gives empty output for an empty file on some AIX systems.
-   if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
-   # Write a limited-size here document to conftest.frag.
-   echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
-   sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
-   echo 'CEOF
-   sed -f conftest.frag conftest.in > conftest.out
-   rm -f conftest.in
-   mv conftest.out conftest.in
- ' >> $CONFIG_STATUS
-   sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
-   rm -f conftest.vals
-   mv conftest.tail conftest.vals
- done
- rm -f conftest.vals
- 
- cat >> $CONFIG_STATUS <<\EOF
-   rm -f conftest.frag conftest.h
-   echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
-   cat conftest.in >> conftest.h
-   rm -f conftest.in
-   if cmp -s $ac_file conftest.h 2>/dev/null; then
-     echo "$ac_file is unchanged"
-     rm -f conftest.h
-   else
-     # Remove last slash and all that follows it.  Not all systems have dirname.
-       ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
-       if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
-       # The file is in a subdirectory.
-       test ! -d "$ac_dir" && mkdir "$ac_dir"
-     fi
-     rm -f $ac_file
-     mv conftest.h $ac_file
-   fi
- fi; done
- 
- EOF
- cat >> $CONFIG_STATUS <<EOF
- 
- EOF
- cat >> $CONFIG_STATUS <<\EOF
- 
- exit 0
- EOF
- chmod +x $CONFIG_STATUS
- rm -fr confdefs* $ac_clean_files
- test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
- 
--- 0 ----
diff -crN clean-bochs-2000-03-25/configure.in bochs-goswin/configure.in
*** clean-bochs-2000-03-25/configure.in	Tue Jan  4 14:15:25 2000
--- bochs-goswin/configure.in	Mon Oct  9 22:56:14 2000
***************
*** 1,8 ****
  dnl // Process this file with autoconf to produce a configure script.
  
- AC_PREREQ(2.4)
  AC_INIT(bochs.h)
! AC_CONFIG_HEADER(config.h)
  
  changequote(<<, >>)
  changequote([, ])
--- 1,10 ----
  dnl // Process this file with autoconf to produce a configure script.
  
  AC_INIT(bochs.h)
! 
! AM_INIT_AUTOMAKE(bochs, 2000-0325a)
! 
! dnl AM_CONFIG_HEADER(config.h)
  
  changequote(<<, >>)
  changequote([, ])
***************
*** 23,29 ****
  AC_CHECK_SIZEOF(unsigned long long)
  AC_CHECK_FUNCS(select, AC_DEFINE(BX_HAVE_SELECT))
  
- 
  AC_MSG_CHECKING(for cpu level)
  AC_ARG_ENABLE(cpu-level,
    [  --enable-cpu-level                select cpu level (3,4,5)],
--- 25,30 ----
***************
*** 574,579 ****
--- 575,585 ----
    AC_DEFINE(BX_WITH_X11, 1)
    GUI_OBJS='$(GUI_OBJS_X11)'
    GUI_LINK_OPTS='$(GUI_LINK_OPTS_X)'
+   AC_CHECK_LIB(X11, XOpenDisplay,
+   	X_LIBS="-lX11 $X_LIBS",
+         AC_MSG_ERROR("Need X11"),
+         $X_PRE_LIBS $X_LIBS $X_EXTRA_LIBS)
+ 
  elif test "$with_win32" = yes; then
    AC_DEFINE(BX_WITH_WIN32, 1)
    GUI_OBJS='$(GUI_OBJS_WIN32)'
***************
*** 630,637 ****
  AC_SUBST(CD_UP_ONE)
  AC_SUBST(CD_UP_TWO)
  
  
! AC_OUTPUT(Makefile iodev/Makefile debug/Makefile bios/Makefile \
!          cpu/Makefile memory/Makefile gui/Makefile disasm/Makefile \
!          ${INSTRUMENT_DIR}/Makefile misc/Makefile dynamic/Makefile \
!          fpu/Makefile)
--- 636,659 ----
  AC_SUBST(CD_UP_ONE)
  AC_SUBST(CD_UP_TWO)
  
+ LIBS="$X_PRE_LIBS $X_LIBS $X_EXTRA_LIBS $LIBS"
  
! AC_OUTPUT(Makefile \
! 	bios/Makefile \
!  	cpu/Makefile \
! 	debian/Makefile \
! 	debug/Makefile \
! 	disasm/Makefile \
! 	docs-html/Makefile \
! 	dynamic/Makefile \
! 	font/Makefile \
! 	fpu/Makefile \
! 	gui/Makefile \
! 	instrument/Makefile \
! 	instrument/example0/Makefile \
! 	instrument/stubs/Makefile \
! dnl 	${INSTRUMENT_DIR}/Makefile \
! 	iodev/Makefile \
! 	memory/Makefile \
! 	misc/Makefile \
! )
diff -crN clean-bochs-2000-03-25/cpu/Makefile.in bochs-goswin/cpu/Makefile.in
*** clean-bochs-2000-03-25/cpu/Makefile.in	Sat Mar 25 22:48:21 2000
--- bochs-goswin/cpu/Makefile.in	Wed Dec 31 19:00:00 1969
***************
*** 1,110 ****
- # Copyright (C) 2000  MandrakeSoft S.A.
- #
- #   MandrakeSoft S.A.
- #   43, rue d'Aboukir
- #   75002 Paris - France
- #   http://www.linux-mandrake.com/
- #   http://www.mandrakesoft.com/
- #
- # This library is free software; you can redistribute it and/or
- # modify it under the terms of the GNU Lesser General Public
- # License as published by the Free Software Foundation; either
- # version 2 of the License, or (at your option) any later version.
- #
- # This library is distributed in the hope that it will be useful,
- # but WITHOUT ANY WARRANTY; without even the implied warranty of
- # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- # Lesser General Public License for more details.
- #
- # You should have received a copy of the GNU Lesser General Public
- # License along with this library; if not, write to the Free Software
- # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
- 
- 
- @SUFFIX_LINE@
- 
- 
- SHELL = /bin/sh
- 
- @SET_MAKE@
- 
- CXX = @CXX@
- CXXFLAGS = @CXXFLAGS@
- 
- LDFLAGS = @LDFLAGS@
- LIBS = @LIBS@
- X_LIBS = @X_LIBS@
- X_PRE_LIBS = @X_PRE_LIBS@
- RANLIB = @RANLIB@
- 
- 
- 
- BX_INCDIRS = -I.. -I../@INSTRUMENT_DIR@
- 
- OBJS = \
- 	init.o \
- 	access.o \
- 	cpu.o resolve32.o fetchdecode.o \
- 	exception.o \
- 	ctrl_xfer_pro.o \
- 	flag_ctrl_pro.o \
- 	io_pro.o \
- 	protect_ctrl_pro.o \
- 	segment_ctrl_pro.o \
- 	stack_pro.o \
- 	lazy_flags.o \
- 	paging.o \
- 	vm8086.o \
- 	tasking.o \
- 	debugstuff.o \
- 	arith32.o \
- 	mult32.o \
- 	data_xfer32.o \
- 	logical32.o \
- 	ctrl_xfer32.o \
- 	stack32.o \
- 	shift32.o \
- 	arith8.o \
- 	mult8.o \
- 	data_xfer8.o \
- 	logical8.o \
- 	ctrl_xfer8.o \
- 	shift8.o \
- 	resolve16.o \
- 	arith16.o \
- 	mult16.o \
- 	data_xfer16.o \
- 	logical16.o \
- 	ctrl_xfer16.o \
- 	stack16.o \
- 	shift16.o \
- 	bit.o \
- 	flag_ctrl.o \
- 	io.o \
- 	proc_ctrl.o \
- 	protect_ctrl.o \
- 	segment_ctrl.o \
- 	soft_int.o \
- 	string.o \
- 	bcd.o
- 
- BX_INCLUDES = ../bochs.h ../config.h
- 
- 
- .@CPP_SUFFIX@.o:
- 	$(CXX) @DASH@c $(CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
- 
- 
- libcpu.a: $(OBJS)
- 	@RMCOMMAND@ libcpu.a
- 	@MAKELIB@ $(OBJS)
- 	$(RANLIB) libcpu.a
- 
- $(OBJS): $(BX_INCLUDES)
- 
- clean:
- 	@RMCOMMAND@ *.o
- 	@RMCOMMAND@ *.a
- 
- dist-clean: clean
- 	@RMCOMMAND@ Makefile
--- 0 ----
diff -crN clean-bochs-2000-03-25/debian/Makefile.am bochs-goswin/debian/Makefile.am
*** clean-bochs-2000-03-25/debian/Makefile.am	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/Makefile.am	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1 ----
+ #
diff -crN clean-bochs-2000-03-25/debian/README.debian bochs-goswin/debian/README.debian
*** clean-bochs-2000-03-25/debian/README.debian	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/README.debian	Mon Oct  9 23:24:55 2000
***************
*** 0 ****
--- 1,11 ----
+ Bochs for Debian
+ ----------------------
+ 
+ Bochs is a portable x86 PC emulation software package that emulates
+ enough of the x86 CPU, related AT hardware, and BIOS to run Linux,
+ BSD, Minix 2.0, and other OS's, all on your workstation.
+ 
+ Bochs was commercial software until MandrakeSoft bought it for Linux
+ and made it Free Software on March 22nd 2000 under the LPGL.
+ 
+ Goswin Brederlow <goswin.brederlow@student.uni-tuebingen.de>, Fri, 11 Aug 2000 00:25:12 +0200
diff -crN clean-bochs-2000-03-25/debian/changelog bochs-goswin/debian/changelog
*** clean-bochs-2000-03-25/debian/changelog	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/changelog	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1,29 ----
+ bochs (2000.0325a-3) unstable; urgency=low
+ 
+   * debian/control: description starts no more with package name
+   * debian/conffiles: bochsrc added
+   * bochs.h: 64 Bit seek support aktivated
+   * harddrv.*: off64_t used for 64 Bit seeking
+   * keyboard.cc: io write to mouse just a warning, no more panic
+ 
+  -- Goswin Brederlow <goswin.brederlow@student.uni-tuebingen.de>  Mon, 14 Aug 2000 04:24:17 +0200
+ 
+ bochs (2000.0325a-2) unstable; urgency=low
+ 
+   * debian/rules: mv docs-html /usr/share/doc/bochs/ 
+   * main.cc: added 2.88MB disk support
+   * main.cc: added /etc/bochsrc support
+   * bochsrc: created and adapted to demodisk.ing
+   * iodev/floppy.c: open floppy RO if RW fails
+ 
+  -- Goswin Brederlow <goswin.brederlow@student.uni-tuebingen.de>  Sat, 12 Aug 2000 21:09:12 +0200
+ 
+ bochs (2000.0325a-1) unstable; urgency=low
+ 
+   * Packaging up bochs
+ 
+  -- Goswin Brederlow <goswin.brederlow@student.uni-tuebingen.de>  Fri, 11 Aug 2000 00:25:12 +0200
+ 
+ Local variables:
+ mode: debian-changelog
+ End:
diff -crN clean-bochs-2000-03-25/debian/conffiles bochs-goswin/debian/conffiles
*** clean-bochs-2000-03-25/debian/conffiles	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/conffiles	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1 ----
+ /etc/bochsrc
diff -crN clean-bochs-2000-03-25/debian/control bochs-goswin/debian/control
*** clean-bochs-2000-03-25/debian/control	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/control	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1,13 ----
+ Source: bochs
+ Section: otherosfs
+ Priority: optional
+ Maintainer: Goswin Brederlow <goswin.brederlow@student.uni-tuebingen.de>
+ Standards-Version: 3.1.1
+ 
+ Package: bochs
+ Architecture: any
+ Depends: ${shlibs:Depends}
+ Description: A portable x86 PC emulation software package that
+  emulates enough of the x86 CPU, related AT hardware, and BIOS to
+  run Linux, BSD, Minix 2.0, and other OS's, all on your workstation.
+ 
diff -crN clean-bochs-2000-03-25/debian/copyright bochs-goswin/debian/copyright
*** clean-bochs-2000-03-25/debian/copyright	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/copyright	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1,11 ----
+ This package was debianized by Goswin Brederlow
+ <goswin.brederlow@student.uni-tuebingen.de> on
+ Fri, 11 Aug 2000 00:25:12 +0200. 
+ 
+ It was downloaded from ftp://bochs.com/pub/ .
+ 
+ Bochs was commercial software until MandrakeSoft bought it for Linux
+ and made it Free Software on March 22nd 2000 under the LPGL.
+ 
+ It may be redistributed under the terms of the GNU LGPL, Version 2 or
+ later, found on Debian systems in the file /usr/share/common-licenses/LGPL-2.
diff -crN clean-bochs-2000-03-25/debian/dirs bochs-goswin/debian/dirs
*** clean-bochs-2000-03-25/debian/dirs	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/dirs	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1 ----
+ usr/bin
diff -crN clean-bochs-2000-03-25/debian/files bochs-goswin/debian/files
*** clean-bochs-2000-03-25/debian/files	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/files	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1 ----
+ bochs_2000.0325a-3_alpha.deb otherosfs optional
diff -crN clean-bochs-2000-03-25/debian/menu bochs-goswin/debian/menu
*** clean-bochs-2000-03-25/debian/menu	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/menu	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1,2 ----
+ ?package(bochs):needs=X11 section=Apps/Emulators\
+   title="bochs" command="/usr/bin/bochs"
diff -crN clean-bochs-2000-03-25/debian/rules bochs-goswin/debian/rules
*** clean-bochs-2000-03-25/debian/rules	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/rules	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1,56 ----
+ #!/usr/bin/make -f
+ # Made with the aid of debmake, by Christoph Lameter,
+ # based on the sample debian/rules file for GNU hello by Ian Jackson.
+ 
+ package=bochs
+ 
+ build:
+ 	$(checkdir)
+ 	./configure --prefix=/usr
+ 	$(MAKE) CFLAGS="-O2 -g -Wall"
+ 	touch build
+ 
+ clean:
+ 	$(checkdir)
+ 	-rm -f build
+ 	-$(MAKE) distclean
+ 	-rm -f `find . -name "*~"`
+ 	-rm -rf debian/tmp debian/files* core debian/substvars
+ 
+ binary-indep: checkroot build
+ 	$(checkdir)
+ # There are no architecture-independent files to be uploaded
+ # generated by this package.  If there were any they would be
+ # made here.
+ 
+ binary-arch: checkroot build
+ 	$(checkdir)
+ 	-rm -rf debian/tmp
+ 	install -d debian/tmp
+ 	cd debian/tmp && install -d `cat ../dirs`
+ 	$(MAKE) install prefix=`pwd`/debian/tmp/usr
+ 	mv debian/tmp/usr/etc debian/tmp/
+ 	install -d debian/tmp/usr/share/doc/bochs/docs-html
+ 	mv debian/tmp/usr/share/bochs/*.html debian/tmp/usr/share/bochs/00README debian/tmp/usr/share/bochs/undercon.gif debian/tmp/usr/share/doc/bochs/docs-html
+ 	install -d debian/tmp/usr/share/bochs
+ 	uudecode demodisk.img.uu -o debian/tmp/usr/share/bochs/demodisk.img
+ 	chmod a+rw debian/tmp/usr/share/bochs/demodisk.img
+ # Must have debmake installed for this to work. Otherwise please copy
+ # /usr/bin/debstd into the debian directory and change debstd to debian/debstd
+ 	debstd README 
+ 	dpkg-gencontrol -isp
+ 	chown -R root.root debian/tmp
+ 	chmod -R go=rX debian/tmp
+ 	dpkg --build debian/tmp ..
+ 
+ define checkdir
+ 	test -f debian/rules
+ endef
+ 
+ binary: binary-indep binary-arch
+ 
+ checkroot:
+ 	$(checkdir)
+ 	test root = "`whoami`"
+ 
+ .PHONY: binary binary-arch binary-indep clean checkroot
diff -crN clean-bochs-2000-03-25/debian/substvars bochs-goswin/debian/substvars
*** clean-bochs-2000-03-25/debian/substvars	Wed Dec 31 19:00:00 1969
--- bochs-goswin/debian/substvars	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1 ----
+ shlibs:Depends=libc6.1 (>= 2.1.2-1), libstdc++2.10, xlib6g (>= 3.3.6-4)
diff -crN clean-bochs-2000-03-25/debug/Makefile.in bochs-goswin/debug/Makefile.in
*** clean-bochs-2000-03-25/debug/Makefile.in	Sat Mar 25 22:48:29 2000
--- bochs-goswin/debug/Makefile.in	Mon Oct  9 23:21:10 2000
***************
*** 76,82 ****
  
  $(BX_OBJS): $(BX_INCLUDES)
  
- 
  clean:
  	@RMCOMMAND@ *.o
  	@RMCOMMAND@ libdebug.a
--- 76,81 ----
diff -crN clean-bochs-2000-03-25/debug/lexer.c bochs-goswin/debug/lexer.c
*** clean-bochs-2000-03-25/debug/lexer.c	Mon Nov  1 20:17:09 1999
--- bochs-goswin/debug/lexer.c	Wed Dec 31 19:00:00 1969
***************
*** 1,2229 ****
- #define yy_create_buffer bx_create_buffer
- #define yy_delete_buffer bx_delete_buffer
- #define yy_scan_buffer bx_scan_buffer
- #define yy_scan_string bx_scan_string
- #define yy_scan_bytes bx_scan_bytes
- #define yy_flex_debug bx_flex_debug
- #define yy_init_buffer bx_init_buffer
- #define yy_flush_buffer bx_flush_buffer
- #define yy_load_buffer_state bx_load_buffer_state
- #define yy_switch_to_buffer bx_switch_to_buffer
- #define yyin bxin
- #define yyleng bxleng
- #define yylex bxlex
- #define yyout bxout
- #define yyrestart bxrestart
- #define yytext bxtext
- #define yywrap bxwrap
- 
- /* A lexical scanner generated by flex */
- 
- /* Scanner skeleton version:
-  * $Header: /home/volker/Archiv/bochs-cvs-rsync-20110222/bochs/patches/patch.goswin-changes,v 1.1.4.1 2001-05-16 06:58:56 bdenney Exp $
-  */
- 
- #define FLEX_SCANNER
- #define YY_FLEX_MAJOR_VERSION 2
- #define YY_FLEX_MINOR_VERSION 5
- 
- #include <stdio.h>
- 
- 
- /* cfront 1.2 defines "c_plusplus" instead of "__cplusplus" */
- #ifdef c_plusplus
- #ifndef __cplusplus
- #define __cplusplus
- #endif
- #endif
- 
- 
- #ifdef __cplusplus
- 
- #include <stdlib.h>
- #include <unistd.h>
- 
- /* Use prototypes in function declarations. */
- #define YY_USE_PROTOS
- 
- /* The "const" storage-class-modifier is valid. */
- #define YY_USE_CONST
- 
- #else	/* ! __cplusplus */
- 
- #if __STDC__
- 
- #define YY_USE_PROTOS
- #define YY_USE_CONST
- 
- #endif	/* __STDC__ */
- #endif	/* ! __cplusplus */
- 
- #ifdef __TURBOC__
-  #pragma warn -rch
-  #pragma warn -use
- #include <io.h>
- #include <stdlib.h>
- #define YY_USE_CONST
- #define YY_USE_PROTOS
- #endif
- 
- #ifdef YY_USE_CONST
- #define yyconst const
- #else
- #define yyconst
- #endif
- 
- 
- #ifdef YY_USE_PROTOS
- #define YY_PROTO(proto) proto
- #else
- #define YY_PROTO(proto) ()
- #endif
- 
- /* Returned upon end-of-file. */
- #define YY_NULL 0
- 
- /* Promotes a possibly negative, possibly signed char to an unsigned
-  * integer for use as an array index.  If the signed char is negative,
-  * we want to instead treat it as an 8-bit unsigned char, hence the
-  * double cast.
-  */
- #define YY_SC_TO_UI(c) ((unsigned int) (unsigned char) c)
- 
- /* Enter a start condition.  This macro really ought to take a parameter,
-  * but we do it the disgusting crufty way forced on us by the ()-less
-  * definition of BEGIN.
-  */
- #define BEGIN yy_start = 1 + 2 *
- 
- /* Translate the current start state into a value that can be later handed
-  * to BEGIN to return to the state.  The YYSTATE alias is for lex
-  * compatibility.
-  */
- #define YY_START ((yy_start - 1) / 2)
- #define YYSTATE YY_START
- 
- /* Action number for EOF rule of a given start state. */
- #define YY_STATE_EOF(state) (YY_END_OF_BUFFER + state + 1)
- 
- /* Special action meaning "start processing a new file". */
- #define YY_NEW_FILE yyrestart( yyin )
- 
- #define YY_END_OF_BUFFER_CHAR 0
- 
- /* Size of default input buffer. */
- #define YY_BUF_SIZE 16384
- 
- typedef struct yy_buffer_state *YY_BUFFER_STATE;
- 
- extern int yyleng;
- extern FILE *yyin, *yyout;
- 
- #define EOB_ACT_CONTINUE_SCAN 0
- #define EOB_ACT_END_OF_FILE 1
- #define EOB_ACT_LAST_MATCH 2
- 
- /* The funky do-while in the following #define is used to turn the definition
-  * int a single C statement (which needs a semi-colon terminator).  This
-  * avoids problems with code like:
-  *
-  * 	if ( condition_holds )
-  *		yyless( 5 );
-  *	else
-  *		do_something_else();
-  *
-  * Prior to using the do-while the compiler would get upset at the
-  * "else" because it interpreted the "if" statement as being all
-  * done when it reached the ';' after the yyless() call.
-  */
- 
- /* Return all but the first 'n' matched characters back to the input stream. */
- 
- #define yyless(n) \
- 	do \
- 		{ \
- 		/* Undo effects of setting up yytext. */ \
- 		*yy_cp = yy_hold_char; \
- 		YY_RESTORE_YY_MORE_OFFSET \
- 		yy_c_buf_p = yy_cp = yy_bp + n - YY_MORE_ADJ; \
- 		YY_DO_BEFORE_ACTION; /* set up yytext again */ \
- 		} \
- 	while ( 0 )
- 
- #define unput(c) yyunput( c, yytext_ptr )
- 
- /* The following is because we cannot portably get our hands on size_t
-  * (without autoconf's help, which isn't available because we want
-  * flex-generated scanners to compile on their own).
-  */
- typedef unsigned int yy_size_t;
- 
- 
- struct yy_buffer_state
- 	{
- 	FILE *yy_input_file;
- 
- 	char *yy_ch_buf;		/* input buffer */
- 	char *yy_buf_pos;		/* current position in input buffer */
- 
- 	/* Size of input buffer in bytes, not including room for EOB
- 	 * characters.
- 	 */
- 	yy_size_t yy_buf_size;
- 
- 	/* Number of characters read into yy_ch_buf, not including EOB
- 	 * characters.
- 	 */
- 	int yy_n_chars;
- 
- 	/* Whether we "own" the buffer - i.e., we know we created it,
- 	 * and can realloc() it to grow it, and should free() it to
- 	 * delete it.
- 	 */
- 	int yy_is_our_buffer;
- 
- 	/* Whether this is an "interactive" input source; if so, and
- 	 * if we're using stdio for input, then we want to use getc()
- 	 * instead of fread(), to make sure we stop fetching input after
- 	 * each newline.
- 	 */
- 	int yy_is_interactive;
- 
- 	/* Whether we're considered to be at the beginning of a line.
- 	 * If so, '^' rules will be active on the next match, otherwise
- 	 * not.
- 	 */
- 	int yy_at_bol;
- 
- 	/* Whether to try to fill the input buffer when we reach the
- 	 * end of it.
- 	 */
- 	int yy_fill_buffer;
- 
- 	int yy_buffer_status;
- #define YY_BUFFER_NEW 0
- #define YY_BUFFER_NORMAL 1
- 	/* When an EOF's been seen but there's still some text to process
- 	 * then we mark the buffer as YY_EOF_PENDING, to indicate that we
- 	 * shouldn't try reading from the input source any more.  We might
- 	 * still have a bunch of tokens to match, though, because of
- 	 * possible backing-up.
- 	 *
- 	 * When we actually see the EOF, we change the status to "new"
- 	 * (via yyrestart()), so that the user can continue scanning by
- 	 * just pointing yyin at a new input file.
- 	 */
- #define YY_BUFFER_EOF_PENDING 2
- 	};
- 
- static YY_BUFFER_STATE yy_current_buffer = 0;
- 
- /* We provide macros for accessing buffer states in case in the
-  * future we want to put the buffer states in a more general
-  * "scanner state".
-  */
- #define YY_CURRENT_BUFFER yy_current_buffer
- 
- 
- /* yy_hold_char holds the character lost when yytext is formed. */
- static char yy_hold_char;
- 
- static int yy_n_chars;		/* number of characters read into yy_ch_buf */
- 
- 
- int yyleng;
- 
- /* Points to current character in buffer. */
- static char *yy_c_buf_p = (char *) 0;
- static int yy_init = 1;		/* whether we need to initialize */
- static int yy_start = 0;	/* start state number */
- 
- /* Flag which is used to allow yywrap()'s to do buffer switches
-  * instead of setting up a fresh yyin.  A bit of a hack ...
-  */
- static int yy_did_buffer_switch_on_eof;
- 
- void yyrestart YY_PROTO(( FILE *input_file ));
- 
- void yy_switch_to_buffer YY_PROTO(( YY_BUFFER_STATE new_buffer ));
- void yy_load_buffer_state YY_PROTO(( void ));
- YY_BUFFER_STATE yy_create_buffer YY_PROTO(( FILE *file, int size ));
- void yy_delete_buffer YY_PROTO(( YY_BUFFER_STATE b ));
- void yy_init_buffer YY_PROTO(( YY_BUFFER_STATE b, FILE *file ));
- void yy_flush_buffer YY_PROTO(( YY_BUFFER_STATE b ));
- #define YY_FLUSH_BUFFER yy_flush_buffer( yy_current_buffer )
- 
- YY_BUFFER_STATE yy_scan_buffer YY_PROTO(( char *base, yy_size_t size ));
- YY_BUFFER_STATE yy_scan_string YY_PROTO(( yyconst char *yy_str ));
- YY_BUFFER_STATE yy_scan_bytes YY_PROTO(( yyconst char *bytes, int len ));
- 
- static void *yy_flex_alloc YY_PROTO(( yy_size_t ));
- static void *yy_flex_realloc YY_PROTO(( void *, yy_size_t ));
- static void yy_flex_free YY_PROTO(( void * ));
- 
- #define yy_new_buffer yy_create_buffer
- 
- #define yy_set_interactive(is_interactive) \
- 	{ \
- 	if ( ! yy_current_buffer ) \
- 		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE ); \
- 	yy_current_buffer->yy_is_interactive = is_interactive; \
- 	}
- 
- #define yy_set_bol(at_bol) \
- 	{ \
- 	if ( ! yy_current_buffer ) \
- 		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE ); \
- 	yy_current_buffer->yy_at_bol = at_bol; \
- 	}
- 
- #define YY_AT_BOL() (yy_current_buffer->yy_at_bol)
- 
- typedef unsigned char YY_CHAR;
- FILE *yyin = (FILE *) 0, *yyout = (FILE *) 0;
- typedef int yy_state_type;
- extern char *yytext;
- #define yytext_ptr yytext
- 
- static yy_state_type yy_get_previous_state YY_PROTO(( void ));
- static yy_state_type yy_try_NUL_trans YY_PROTO(( yy_state_type current_state ));
- static int yy_get_next_buffer YY_PROTO(( void ));
- static void yy_fatal_error YY_PROTO(( yyconst char msg[] ));
- 
- /* Done after the current pattern has been matched and before the
-  * corresponding action - sets up yytext.
-  */
- #define YY_DO_BEFORE_ACTION \
- 	yytext_ptr = yy_bp; \
- 	yyleng = (int) (yy_cp - yy_bp); \
- 	yy_hold_char = *yy_cp; \
- 	*yy_cp = '\0'; \
- 	yy_c_buf_p = yy_cp;
- 
- #define YY_NUM_RULES 98
- #define YY_END_OF_BUFFER 99
- static yyconst short int yy_accept[334] =
-     {   0,
-         0,    0,   99,   97,    1,   95,   97,   96,   97,   97,
-        93,   93,   97,   20,    7,   27,   97,   97,   97,   97,
-        97,   97,   97,   97,   29,   97,   11,   97,   97,   97,
-        97,   30,    1,    0,   86,   96,   94,   89,   88,   91,
-        93,   92,    0,    0,    0,    0,    0,   78,    0,    0,
-         0,    0,   81,    0,   79,    0,    0,   82,    0,   83,
-         0,    0,   14,    0,    0,    0,    0,    0,    4,   16,
-         0,    0,    0,    0,    0,    0,    0,   56,    0,    0,
-        10,   80,    0,    0,    0,    0,    0,    0,    0,   12,
-         0,    0,    0,   31,   94,   87,   90,   42,    0,    0,
- 
-         6,   26,    0,    0,    3,   45,   36,    0,    0,    0,
-         0,    0,    0,    0,   37,    0,    0,    0,    0,   44,
-         5,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-         0,    0,    0,    0,   57,    2,    0,    0,    0,    0,
-        43,    0,    0,    0,    0,   85,    0,    0,    0,    0,
-         0,    0,    0,    0,    0,    0,    0,   52,    0,    0,
-         0,    0,   18,    0,    0,    0,    0,    0,    0,    0,
-         0,    0,    0,    0,    0,    0,   28,   64,    0,    0,
-         0,    0,    0,   67,    0,    9,   48,    0,   35,    0,
-         0,    0,    0,    0,    0,    0,   19,    0,    0,    0,
- 
-        23,   39,    0,    0,    0,    0,    0,    0,    0,    0,
-        41,    0,    0,    0,    0,    0,   50,    0,   55,   33,
-         0,    0,   49,    0,    0,   47,    8,    0,    0,    0,
-         0,   62,   70,   65,    0,    0,   25,    0,    0,    0,
-         0,    0,   69,    0,   15,    0,   51,   60,   17,    0,
-         0,    0,    0,    0,   58,    0,    0,    0,    0,    0,
-         0,    0,   13,    0,    0,    0,    0,    0,    0,    0,
-         0,    0,   34,   76,    0,    0,   21,    0,   38,   32,
-         0,    0,    0,   63,    0,   66,    0,    0,   24,    0,
-         0,    0,    0,   59,    0,    0,   74,    0,    0,   53,
- 
-        77,    0,    0,    0,    0,    0,    0,    0,    0,   22,
-         0,   54,    0,    0,    0,    0,   46,    0,    0,    0,
-         0,   72,   40,    0,   84,    0,   61,    0,   73,   75,
-        68,   71,    0
-     } ;
- 
- static yyconst int yy_ec[256] =
-     {   0,
-         1,    1,    1,    1,    1,    1,    1,    1,    2,    3,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    2,    1,    4,    5,    6,    1,    1,    1,    1,
-         1,    1,    1,    1,    7,    1,    8,    9,   10,   11,
-        10,   10,   10,   10,   10,   12,   12,    1,    1,    1,
-         1,    1,    1,    1,   13,   13,   13,   13,   13,   13,
-        14,   14,   14,   14,   14,   15,   14,   14,   14,   14,
-        14,   14,   14,   14,   14,   14,   14,   14,   14,   14,
-         1,    1,    1,    1,   16,    1,   17,   18,   19,   20,
- 
-        21,   22,   23,   24,   25,   14,   26,   27,   28,   29,
-        30,   31,   32,   33,   34,   35,   36,   37,   38,   39,
-        40,   14,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
- 
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1
-     } ;
- 
- static yyconst int yy_meta[41] =
-     {   0,
-         1,    1,    2,    1,    1,    1,    1,    1,    3,    3,
-         3,    3,    4,    5,    5,    5,    4,    6,    6,    6,
-         4,    4,    7,    7,    7,    5,    5,    5,    5,    7,
-         5,    5,    5,    7,    7,    7,    5,    7,    7,    5
-     } ;
- 
- static yyconst short int yy_base[341] =
-     {   0,
-         0,    0,  389,  390,  386,  390,  383,    0,    0,   32,
-        36,   43,  366,  352,   26,   36,  350,   33,   35,   44,
-        50,   48,   52,   58,  347,  361,   76,   54,  352,   72,
-        71,  349,  377,  374,  390,    0,    0,   96,    0,  108,
-       115,  390,    0,  357,  355,  346,  355,  390,  346,   99,
-       355,  346,  390,  342,  390,  335,  335,  390,  337,  390,
-        64,  334,  332,  347,  328,  342,  334,  338,  390,  326,
-       329,  317,  339,   84,  330,   71,  112,  337,  318,  322,
-       390,  390,  117,  333,  321,  323,  331,  309,  319,  312,
-       309,  322,  317,  390,    0,  390,    0,  308,  323,  304,
- 
-       390,  317,  315,  301,  318,  390,  390,  299,  302,  297,
-       312,  312,  299,  293,  390,  306,  306,  301,  303,  390,
-       390,  302,  302,  310,  280,  290,  295,  289,  283,  280,
-       294,  283,  287,  290,  390,   97,  272,  276,  277,  276,
-       390,  287,  284,  285,  286,  390,  281,  282,  267,  264,
-       291,  271,  271,  260,  287,  253,  258,  390,  275,  283,
-       268,  271,  390,  254,  269,   82,  251,  266,  266,  257,
-       254,  262,  244,  245,  256,  236,  390,  390,  242,  240,
-       238,  253,  243,  390,  235,  244,  390,  261,  390,  246,
-       231,  248,  240,  242,  241,  236,  390,  231,  238,  230,
- 
-       390,  223,  237,  233,  247,  226,  216,  225,  216,  216,
-       390,  217,  221,  217,  215,  227,  236,  225,  390,  390,
-       221,  205,  390,  208,  217,  390,  390,  120,  230,  217,
-       209,  390,  390,  390,  205,  197,  390,  211,  210,  199,
-       199,  209,  390,  199,  390,  186,  390,  390,  390,  202,
-       201,  204,  188,  193,  390,  199,  183,  190,  186,  195,
-       185,  190,  390,  191,  191,  183,  182,  173,  175,  183,
-       185,  177,  390,  390,  178,  168,  390,  169,  390,  390,
-       165,  172,   93,  390,  169,  390,  168,  179,  390,  158,
-       174,  165,  175,  390,  120,  158,  390,  161,  168,  390,
- 
-       390,  156,  161,  169,  155,  138,  132,  136,  127,  390,
-       118,  390,  110,  128,  112,  118,  390,  116,  116,  112,
-       100,  390,  390,   82,  390,   65,  390,   26,  390,  390,
-       390,  390,  390,  153,  160,  164,  169,  174,  176,  181
-     } ;
- 
- static yyconst short int yy_def[341] =
-     {   0,
-       333,    1,  333,  333,  333,  333,  334,  335,  336,  337,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  334,  333,  335,  338,  337,  339,  333,
-       333,  333,  340,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  338,  333,  340,  333,  333,  333,
- 
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
- 
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
- 
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,    0,  333,  333,  333,  333,  333,  333,  333
-     } ;
- 
- static yyconst short int yy_nxt[431] =
-     {   0,
-         4,    5,    6,    7,    8,    9,    4,   10,   11,   12,
-        12,   12,    4,    4,    4,    4,   13,   14,   15,   16,
-        17,   18,   19,    4,   20,    4,   21,   22,    4,   23,
-        24,   25,   26,   27,   28,   29,   30,   31,   32,    4,
-        38,   38,   38,   38,   40,   40,   40,   41,  332,   56,
-        42,   41,   41,   41,   41,   46,   49,   42,   47,   48,
-        50,   59,   57,   51,   65,   52,   58,   63,   60,   53,
-        86,   54,   61,   68,   43,   70,   62,   66,   71,   64,
-        69,   72,   89,   67,   73,  113,   87,   91,  209,   90,
-        74,  129,   75,   78,   92,  130,   79,  114,  331,   80,
- 
-        81,  330,  210,   93,   38,   38,   38,   38,  126,   82,
-        83,   84,  182,  127,  299,   85,   40,   40,   40,   41,
-       103,  300,   42,   41,   41,   41,   41,  183,  131,   42,
-       132,  104,  105,  138,  133,  106,  308,  139,  259,  329,
-       328,  327,  326,  325,  324,  134,  140,  260,  323,  322,
-       321,  320,  309,   34,  319,   34,   34,   34,   34,   34,
-        36,  318,   36,   36,   36,   36,   36,   37,   37,   37,
-        37,   39,  317,  316,   39,   39,   95,   95,   95,   95,
-        95,   96,   96,   97,   97,  315,   97,  314,  313,  312,
-       311,  310,  307,  306,  305,  304,  303,  302,  301,  298,
- 
-       297,  296,  295,  294,  293,  292,  291,  290,  289,  288,
-       287,  286,  285,  284,  283,  282,  281,  280,  279,  278,
-       277,  276,  275,  274,  273,  272,  271,  270,  269,  268,
-       267,  266,  265,  264,  263,  262,  261,  258,  257,  256,
-       255,  254,  253,  252,  251,  250,  249,  248,  247,  246,
-       245,  244,  243,  242,  241,  240,  239,  238,  237,  236,
-       235,  234,  233,  232,  231,  230,  229,  228,  227,  226,
-       225,  224,  223,  222,  221,  220,  219,  218,  217,  216,
-       215,  214,  213,  212,  211,  208,  207,  206,  205,  204,
-       203,  202,  201,  200,  199,  198,  197,  196,  195,  194,
- 
-       193,  192,  191,  190,  189,  188,  187,  186,  185,  184,
-       181,  180,  179,  178,  177,  176,  175,  174,  173,  172,
-       171,  170,  169,  168,  167,  166,  165,  164,  163,  162,
-       161,  160,  159,  158,  157,  156,  155,  154,  153,  152,
-       151,  150,  149,  148,  147,  146,  145,  144,  143,  142,
-       141,  137,  136,  135,  128,  125,  124,  123,  122,  121,
-       120,  119,  118,  117,  116,  115,  112,  111,  110,  109,
-       108,  107,  102,  101,  100,   99,   98,   35,   33,   94,
-        88,   77,   76,   55,   45,   44,   35,   33,  333,    3,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
- 
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333
-     } ;
- 
- static yyconst short int yy_chk[431] =
-     {   0,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-         1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-        10,   10,   10,   10,   11,   11,   11,   11,  328,   18,
-        11,   12,   12,   12,   12,   15,   16,   12,   15,   15,
-        16,   19,   18,   16,   22,   16,   18,   21,   19,   16,
-        28,   16,   20,   23,   11,   24,   20,   22,   24,   21,
-        23,   24,   30,   22,   24,   61,   28,   31,  166,   30,
-        24,   76,   24,   27,   31,   76,   27,   61,  326,   27,
- 
-        27,  324,  166,   31,   38,   38,   38,   38,   74,   27,
-        27,   27,  136,   74,  283,   27,   40,   40,   40,   40,
-        50,  283,   40,   41,   41,   41,   41,  136,   77,   41,
-        77,   50,   50,   83,   77,   50,  295,   83,  228,  321,
-       320,  319,  318,  316,  315,   77,   83,  228,  314,  313,
-       311,  309,  295,  334,  308,  334,  334,  334,  334,  334,
-       335,  307,  335,  335,  335,  335,  335,  336,  336,  336,
-       336,  337,  306,  305,  337,  337,  338,  338,  338,  338,
-       338,  339,  339,  340,  340,  304,  340,  303,  302,  299,
-       298,  296,  293,  292,  291,  290,  288,  287,  285,  282,
- 
-       281,  278,  276,  275,  272,  271,  270,  269,  268,  267,
-       266,  265,  264,  262,  261,  260,  259,  258,  257,  256,
-       254,  253,  252,  251,  250,  246,  244,  242,  241,  240,
-       239,  238,  236,  235,  231,  230,  229,  225,  224,  222,
-       221,  218,  217,  216,  215,  214,  213,  212,  210,  209,
-       208,  207,  206,  205,  204,  203,  202,  200,  199,  198,
-       196,  195,  194,  193,  192,  191,  190,  188,  186,  185,
-       183,  182,  181,  180,  179,  176,  175,  174,  173,  172,
-       171,  170,  169,  168,  167,  165,  164,  162,  161,  160,
-       159,  157,  156,  155,  154,  153,  152,  151,  150,  149,
- 
-       148,  147,  145,  144,  143,  142,  140,  139,  138,  137,
-       134,  133,  132,  131,  130,  129,  128,  127,  126,  125,
-       124,  123,  122,  119,  118,  117,  116,  114,  113,  112,
-       111,  110,  109,  108,  105,  104,  103,  102,  100,   99,
-        98,   93,   92,   91,   90,   89,   88,   87,   86,   85,
-        84,   80,   79,   78,   75,   73,   72,   71,   70,   68,
-        67,   66,   65,   64,   63,   62,   59,   57,   56,   54,
-        52,   51,   49,   47,   46,   45,   44,   34,   33,   32,
-        29,   26,   25,   17,   14,   13,    7,    5,    3,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
- 
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333,
-       333,  333,  333,  333,  333,  333,  333,  333,  333,  333
-     } ;
- 
- static yy_state_type yy_last_accepting_state;
- static char *yy_last_accepting_cpos;
- 
- /* The intent behind this definition is that it'll catch
-  * any uses of REJECT which flex missed.
-  */
- #define REJECT reject_used_but_not_detected
- #define yymore() yymore_used_but_not_detected
- #define YY_MORE_ADJ 0
- #define YY_RESTORE_YY_MORE_OFFSET
- char *yytext;
- #line 1 "lexer.l"
- #define INITIAL 0
- #line 2 "lexer.l"
- #include <stdlib.h>
- #include <string.h>
- #include "debug.h"
- #include "parser.h"
- 
- int bx_yyinput(char *buf, int max_size);
- #undef YY_INPUT
- #define YY_INPUT(buf, ret, max_size) (ret = bx_yyinput(buf, max_size))
- 
- static char    *lex_input_ptr = NULL;
- static unsigned lex_input_size = 0;
- 
- /* Macros after this point can all be overridden by user definitions in
-  * section 1.
-  */
- 
- #ifndef YY_SKIP_YYWRAP
- #ifdef __cplusplus
- extern "C" int yywrap YY_PROTO(( void ));
- #else
- extern int yywrap YY_PROTO(( void ));
- #endif
- #endif
- 
- #ifndef YY_NO_UNPUT
- static void yyunput YY_PROTO(( int c, char *buf_ptr ));
- #endif
- 
- #ifndef yytext_ptr
- static void yy_flex_strncpy YY_PROTO(( char *, yyconst char *, int ));
- #endif
- 
- #ifdef YY_NEED_STRLEN
- static int yy_flex_strlen YY_PROTO(( yyconst char * ));
- #endif
- 
- #ifndef YY_NO_INPUT
- #ifdef __cplusplus
- static int yyinput YY_PROTO(( void ));
- #else
- static int input YY_PROTO(( void ));
- #endif
- #endif
- 
- #if YY_STACK_USED
- static int yy_start_stack_ptr = 0;
- static int yy_start_stack_depth = 0;
- static int *yy_start_stack = 0;
- #ifndef YY_NO_PUSH_STATE
- static void yy_push_state YY_PROTO(( int new_state ));
- #endif
- #ifndef YY_NO_POP_STATE
- static void yy_pop_state YY_PROTO(( void ));
- #endif
- #ifndef YY_NO_TOP_STATE
- static int yy_top_state YY_PROTO(( void ));
- #endif
- 
- #else
- #define YY_NO_PUSH_STATE 1
- #define YY_NO_POP_STATE 1
- #define YY_NO_TOP_STATE 1
- #endif
- 
- #ifdef YY_MALLOC_DECL
- YY_MALLOC_DECL
- #else
- #if __STDC__
- #ifndef __cplusplus
- #include <stdlib.h>
- #endif
- #else
- /* Just try to get by without declaring the routines.  This will fail
-  * miserably on non-ANSI systems for which sizeof(size_t) != sizeof(int)
-  * or sizeof(void*) != sizeof(int).
-  */
- #endif
- #endif
- 
- /* Amount of stuff to slurp up with each read. */
- #ifndef YY_READ_BUF_SIZE
- #define YY_READ_BUF_SIZE 8192
- #endif
- 
- /* Copy whatever the last rule matched to the standard output. */
- 
- #ifndef ECHO
- /* This used to be an fputs(), but since the string might contain NUL's,
-  * we now use fwrite().
-  */
- #define ECHO (void) fwrite( yytext, yyleng, 1, yyout )
- #endif
- 
- /* Gets input and stuffs it into "buf".  number of characters read, or YY_NULL,
-  * is returned in "result".
-  */
- #ifndef YY_INPUT
- #define YY_INPUT(buf,result,max_size) \
- 	if ( yy_current_buffer->yy_is_interactive ) \
- 		{ \
- 		int c = '*', n; \
- 		for ( n = 0; n < max_size && \
- 			     (c = getc( yyin )) != EOF && c != '\n'; ++n ) \
- 			buf[n] = (char) c; \
- 		if ( c == '\n' ) \
- 			buf[n++] = (char) c; \
- 		if ( c == EOF && ferror( yyin ) ) \
- 			YY_FATAL_ERROR( "input in flex scanner failed" ); \
- 		result = n; \
- 		} \
- 	else if ( ((result = fread( buf, 1, max_size, yyin )) == 0) \
- 		  && ferror( yyin ) ) \
- 		YY_FATAL_ERROR( "input in flex scanner failed" );
- #endif
- 
- /* No semi-colon after return; correct usage is to write "yyterminate();" -
-  * we don't want an extra ';' after the "return" because that will cause
-  * some compilers to complain about unreachable statements.
-  */
- #ifndef yyterminate
- #define yyterminate() return YY_NULL
- #endif
- 
- /* Number of entries by which start-condition stack grows. */
- #ifndef YY_START_STACK_INCR
- #define YY_START_STACK_INCR 25
- #endif
- 
- /* Report a fatal error. */
- #ifndef YY_FATAL_ERROR
- #define YY_FATAL_ERROR(msg) yy_fatal_error( msg )
- #endif
- 
- /* Default declaration of generated scanner - a define so the user can
-  * easily add parameters.
-  */
- #ifndef YY_DECL
- #define YY_DECL int yylex YY_PROTO(( void ))
- #endif
- 
- /* Code executed at the beginning of each rule, after yytext and yyleng
-  * have been set up.
-  */
- #ifndef YY_USER_ACTION
- #define YY_USER_ACTION
- #endif
- 
- /* Code executed at the end of each rule. */
- #ifndef YY_BREAK
- #define YY_BREAK break;
- #endif
- 
- #define YY_RULE_SETUP \
- 	YY_USER_ACTION
- 
- YY_DECL
- 	{
- 	register yy_state_type yy_current_state;
- 	register char *yy_cp, *yy_bp;
- 	register int yy_act;
- 
- #line 16 "lexer.l"
- 
- 
- 	if ( yy_init )
- 		{
- 		yy_init = 0;
- 
- #ifdef YY_USER_INIT
- 		YY_USER_INIT;
- #endif
- 
- 		if ( ! yy_start )
- 			yy_start = 1;	/* first start state */
- 
- 		if ( ! yyin )
- 			yyin = stdin;
- 
- 		if ( ! yyout )
- 			yyout = stdout;
- 
- 		if ( ! yy_current_buffer )
- 			yy_current_buffer =
- 				yy_create_buffer( yyin, YY_BUF_SIZE );
- 
- 		yy_load_buffer_state();
- 		}
- 
- 	while ( 1 )		/* loops until end-of-file is reached */
- 		{
- 		yy_cp = yy_c_buf_p;
- 
- 		/* Support of yytext. */
- 		*yy_cp = yy_hold_char;
- 
- 		/* yy_bp points to the position in yy_ch_buf of the start of
- 		 * the current run.
- 		 */
- 		yy_bp = yy_cp;
- 
- 		yy_current_state = yy_start;
- yy_match:
- 		do
- 			{
- 			register YY_CHAR yy_c = yy_ec[YY_SC_TO_UI(*yy_cp)];
- 			if ( yy_accept[yy_current_state] )
- 				{
- 				yy_last_accepting_state = yy_current_state;
- 				yy_last_accepting_cpos = yy_cp;
- 				}
- 			while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
- 				{
- 				yy_current_state = (int) yy_def[yy_current_state];
- 				if ( yy_current_state >= 334 )
- 					yy_c = yy_meta[(unsigned int) yy_c];
- 				}
- 			yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
- 			++yy_cp;
- 			}
- 		while ( yy_base[yy_current_state] != 390 );
- 
- yy_find_action:
- 		yy_act = yy_accept[yy_current_state];
- 		if ( yy_act == 0 )
- 			{ /* have to back up */
- 			yy_cp = yy_last_accepting_cpos;
- 			yy_current_state = yy_last_accepting_state;
- 			yy_act = yy_accept[yy_current_state];
- 			}
- 
- 		YY_DO_BEFORE_ACTION;
- 
- 
- do_action:	/* This label is used only to access EOF actions. */
- 
- 
- 		switch ( yy_act )
- 	{ /* beginning of action switch */
- 			case 0: /* must back up */
- 			/* undo the effects of YY_DO_BEFORE_ACTION */
- 			*yy_cp = yy_hold_char;
- 			yy_cp = yy_last_accepting_cpos;
- 			yy_current_state = yy_last_accepting_state;
- 			goto yy_find_action;
- 
- case 1:
- YY_RULE_SETUP
- #line 17 "lexer.l"
- ; // eat up whitespace
- 	YY_BREAK
- case 2:
- YY_RULE_SETUP
- #line 18 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SET); }
- 	YY_BREAK
- case 3:
- YY_RULE_SETUP
- #line 19 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DIS); }
- 	YY_BREAK
- case 4:
- YY_RULE_SETUP
- #line 20 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_ON); }
- 	YY_BREAK
- case 5:
- YY_RULE_SETUP
- #line 21 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_OFF); }
- 	YY_BREAK
- case 6:
- YY_RULE_SETUP
- #line 22 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_CRC); }
- 	YY_BREAK
- case 7:
- YY_RULE_SETUP
- #line 23 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_CONTINUE); }
- 	YY_BREAK
- case 8:
- #line 25 "lexer.l"
- case 9:
- #line 26 "lexer.l"
- case 10:
- #line 27 "lexer.l"
- case 11:
- YY_RULE_SETUP
- #line 27 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_STEPN); }
- 	YY_BREAK
- case 12:
- YY_RULE_SETUP
- #line 28 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_VBREAKPOINT); }
- 	YY_BREAK
- case 13:
- YY_RULE_SETUP
- #line 29 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_VBREAKPOINT); }
- 	YY_BREAK
- case 14:
- YY_RULE_SETUP
- #line 30 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_LBREAKPOINT); }
- 	YY_BREAK
- case 15:
- YY_RULE_SETUP
- #line 31 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_LBREAKPOINT); }
- 	YY_BREAK
- case 16:
- YY_RULE_SETUP
- #line 32 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PBREAKPOINT); }
- 	YY_BREAK
- case 17:
- YY_RULE_SETUP
- #line 33 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PBREAKPOINT); }
- 	YY_BREAK
- case 18:
- YY_RULE_SETUP
- #line 34 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_INFO); }
- 	YY_BREAK
- case 19:
- YY_RULE_SETUP
- #line 35 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PBREAKPOINT); }
- 	YY_BREAK
- case 20:
- YY_RULE_SETUP
- #line 36 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PBREAKPOINT); }
- 	YY_BREAK
- case 21:
- YY_RULE_SETUP
- #line 37 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PROGRAM); }
- 	YY_BREAK
- case 22:
- YY_RULE_SETUP
- #line 38 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_REGISTERS); }
- 	YY_BREAK
- case 23:
- YY_RULE_SETUP
- #line 39 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DIRTY); }
- 	YY_BREAK
- case 24:
- YY_RULE_SETUP
- #line 40 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DUMP_CPU); }
- 	YY_BREAK
- case 25:
- YY_RULE_SETUP
- #line 41 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DEL_BREAKPOINT); }
- 	YY_BREAK
- case 26:
- YY_RULE_SETUP
- #line 42 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DEL_BREAKPOINT); }
- 	YY_BREAK
- case 27:
- YY_RULE_SETUP
- #line 43 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DEL_BREAKPOINT); }
- 	YY_BREAK
- case 28:
- YY_RULE_SETUP
- #line 44 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_QUIT); }
- 	YY_BREAK
- case 29:
- YY_RULE_SETUP
- #line 45 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_QUIT); }
- 	YY_BREAK
- case 30:
- YY_RULE_SETUP
- #line 46 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_EXAMINE); }
- 	YY_BREAK
- case 31:
- YY_RULE_SETUP
- #line 47 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_EXAMINE); }
- 	YY_BREAK
- case 32:
- YY_RULE_SETUP
- #line 48 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SETPMEM); }
- 	YY_BREAK
- case 33:
- YY_RULE_SETUP
- #line 49 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_QUERY); }
- 	YY_BREAK
- case 34:
- YY_RULE_SETUP
- #line 50 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PENDING); }
- 	YY_BREAK
- case 35:
- YY_RULE_SETUP
- #line 51 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_TAKE); }
- 	YY_BREAK
- case 36:
- YY_RULE_SETUP
- #line 52 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DMA); }
- 	YY_BREAK
- case 37:
- YY_RULE_SETUP
- #line 53 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_IRQ); }
- 	YY_BREAK
- case 38:
- YY_RULE_SETUP
- #line 54 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SET_CPU); }
- 	YY_BREAK
- case 39:
- #line 56 "lexer.l"
- case 40:
- YY_RULE_SETUP
- #line 56 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DISASSEMBLE); }
- 	YY_BREAK
- case 41:
- YY_RULE_SETUP
- #line 57 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_MATHS); }
- 	YY_BREAK
- case 42:
- YY_RULE_SETUP
- #line 58 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_ADD); }
- 	YY_BREAK
- case 43:
- YY_RULE_SETUP
- #line 59 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SUB); }
- 	YY_BREAK
- case 44:
- YY_RULE_SETUP
- #line 60 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_MUL); }
- 	YY_BREAK
- case 45:
- YY_RULE_SETUP
- #line 61 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DIV); }
- 	YY_BREAK
- case 46:
- YY_RULE_SETUP
- #line 62 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_INSTRUMENT); }
- 	YY_BREAK
- case 47:
- YY_RULE_SETUP
- #line 63 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_START); }
- 	YY_BREAK
- case 48:
- YY_RULE_SETUP
- #line 64 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_STOP); }
- 	YY_BREAK
- case 49:
- YY_RULE_SETUP
- #line 65 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_RESET); }
- 	YY_BREAK
- case 50:
- YY_RULE_SETUP
- #line 66 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PRINT); }
- 	YY_BREAK
- case 51:
- YY_RULE_SETUP
- #line 67 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_LOADER); }
- 	YY_BREAK
- case 52:
- YY_RULE_SETUP
- #line 68 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DOIT); }
- 	YY_BREAK
- case 53:
- YY_RULE_SETUP
- #line 69 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_TRACEON); }
- 	YY_BREAK
- case 54:
- YY_RULE_SETUP
- #line 70 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_TRACEOFF); }
- 	YY_BREAK
- case 55:
- YY_RULE_SETUP
- #line 71 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PTIME); }
- 	YY_BREAK
- case 56:
- YY_RULE_SETUP
- #line 72 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_TIMEBP); }
- 	YY_BREAK
- case 57:
- YY_RULE_SETUP
- #line 73 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_TIMEBP_ABSOLUTE); }
- 	YY_BREAK
- case 58:
- YY_RULE_SETUP
- #line 74 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_RECORD); }
- 	YY_BREAK
- case 59:
- YY_RULE_SETUP
- #line 75 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PLAYBACK); }
- 	YY_BREAK
- case 60:
- YY_RULE_SETUP
- #line 76 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_MODEBP); }
- 	YY_BREAK
- case 61:
- YY_RULE_SETUP
- #line 77 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PRINT_STACK); }
- 	YY_BREAK
- case 62:
- YY_RULE_SETUP
- #line 78 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_WATCH); }
- 	YY_BREAK
- case 63:
- YY_RULE_SETUP
- #line 79 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_UNWATCH); }
- 	YY_BREAK
- case 64:
- YY_RULE_SETUP
- #line 80 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_READ); }
- 	YY_BREAK
- case 65:
- YY_RULE_SETUP
- #line 81 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_WRITE); }
- 	YY_BREAK
- case 66:
- YY_RULE_SETUP
- #line 82 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_CONTINUE); }
- 	YY_BREAK
- case 67:
- YY_RULE_SETUP
- #line 83 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SHOW); }
- 	YY_BREAK
- case 68:
- YY_RULE_SETUP
- #line 84 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SYMBOL); }
- 	YY_BREAK
- case 69:
- YY_RULE_SETUP
- #line 85 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_GLOBAL); }
- 	YY_BREAK
- case 70:
- YY_RULE_SETUP
- #line 86 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_WHERE); }
- 	YY_BREAK
- case 71:
- YY_RULE_SETUP
- #line 87 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PRINT_STRING); }
- 	YY_BREAK
- case 72:
- YY_RULE_SETUP
- #line 88 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DIFF_MEMORY); }
- 	YY_BREAK
- case 73:
- YY_RULE_SETUP
- #line 89 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SYNC_MEMORY); }
- 	YY_BREAK
- case 74:
- YY_RULE_SETUP
- #line 90 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SYNC_CPU); }
- 	YY_BREAK
- case 75:
- YY_RULE_SETUP
- #line 91 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_FAST_FORWARD); }
- 	YY_BREAK
- case 76:
- YY_RULE_SETUP
- #line 92 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_PHY_2_LOG); }
- 	YY_BREAK
- case 77:
- YY_RULE_SETUP
- #line 93 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_INFO_ADDRESS); }
- 	YY_BREAK
- case 78:
- YY_RULE_SETUP
- #line 94 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_CS); }
- 	YY_BREAK
- case 79:
- YY_RULE_SETUP
- #line 95 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_ES); }
- 	YY_BREAK
- case 80:
- YY_RULE_SETUP
- #line 96 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SS); }
- 	YY_BREAK
- case 81:
- YY_RULE_SETUP
- #line 97 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_DS); }
- 	YY_BREAK
- case 82:
- YY_RULE_SETUP
- #line 98 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_FS); }
- 	YY_BREAK
- case 83:
- YY_RULE_SETUP
- #line 99 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_GS); }
- 	YY_BREAK
- case 84:
- YY_RULE_SETUP
- #line 100 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_ALWAYS_CHECK); }
- 	YY_BREAK
- case 85:
- YY_RULE_SETUP
- #line 101 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_V2L); }
- 	YY_BREAK
- case 86:
- YY_RULE_SETUP
- #line 102 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_STRING); }
- 	YY_BREAK
- case 87:
- YY_RULE_SETUP
- #line 103 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_XFORMAT); }
- 	YY_BREAK
- case 88:
- YY_RULE_SETUP
- #line 104 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_XFORMAT); }
- 	YY_BREAK
- case 89:
- YY_RULE_SETUP
- #line 105 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_XFORMAT); }
- 	YY_BREAK
- case 90:
- YY_RULE_SETUP
- #line 106 "lexer.l"
- { bxlval.uval = strtoul(bxtext+2, NULL, 16); return(BX_TOKEN_NUMERIC); }
- 	YY_BREAK
- case 91:
- YY_RULE_SETUP
- #line 107 "lexer.l"
- { bxlval.uval = strtoul(bxtext+1, NULL, 8); return(BX_TOKEN_NUMERIC); }
- 	YY_BREAK
- case 92:
- YY_RULE_SETUP
- #line 108 "lexer.l"
- { bxlval.ulval = strtoull(bxtext, NULL, 10); return(BX_TOKEN_LONG_NUMERIC); }
- 	YY_BREAK
- case 93:
- YY_RULE_SETUP
- #line 109 "lexer.l"
- { bxlval.uval = strtoul(bxtext, NULL, 10); return(BX_TOKEN_NUMERIC); }
- 	YY_BREAK
- case 94:
- YY_RULE_SETUP
- #line 110 "lexer.l"
- { bxlval.sval = strdup(bxtext); return(BX_TOKEN_SYMBOLNAME); }
- 	YY_BREAK
- case 95:
- YY_RULE_SETUP
- #line 111 "lexer.l"
- { return('\n'); }
- 	YY_BREAK
- case 96:
- YY_RULE_SETUP
- #line 112 "lexer.l"
- ; // eat up comments '//'
- 	YY_BREAK
- case 97:
- YY_RULE_SETUP
- #line 113 "lexer.l"
- { return(bxtext[0]); }
- 	YY_BREAK
- case 98:
- YY_RULE_SETUP
- #line 114 "lexer.l"
- ECHO;
- 	YY_BREAK
- case YY_STATE_EOF(INITIAL):
- 	yyterminate();
- 
- 	case YY_END_OF_BUFFER:
- 		{
- 		/* Amount of text matched not including the EOB char. */
- 		int yy_amount_of_matched_text = (int) (yy_cp - yytext_ptr) - 1;
- 
- 		/* Undo the effects of YY_DO_BEFORE_ACTION. */
- 		*yy_cp = yy_hold_char;
- 		YY_RESTORE_YY_MORE_OFFSET
- 
- 		if ( yy_current_buffer->yy_buffer_status == YY_BUFFER_NEW )
- 			{
- 			/* We're scanning a new file or input source.  It's
- 			 * possible that this happened because the user
- 			 * just pointed yyin at a new source and called
- 			 * yylex().  If so, then we have to assure
- 			 * consistency between yy_current_buffer and our
- 			 * globals.  Here is the right place to do so, because
- 			 * this is the first action (other than possibly a
- 			 * back-up) that will match for the new input source.
- 			 */
- 			yy_n_chars = yy_current_buffer->yy_n_chars;
- 			yy_current_buffer->yy_input_file = yyin;
- 			yy_current_buffer->yy_buffer_status = YY_BUFFER_NORMAL;
- 			}
- 
- 		/* Note that here we test for yy_c_buf_p "<=" to the position
- 		 * of the first EOB in the buffer, since yy_c_buf_p will
- 		 * already have been incremented past the NUL character
- 		 * (since all states make transitions on EOB to the
- 		 * end-of-buffer state).  Contrast this with the test
- 		 * in input().
- 		 */
- 		if ( yy_c_buf_p <= &yy_current_buffer->yy_ch_buf[yy_n_chars] )
- 			{ /* This was really a NUL. */
- 			yy_state_type yy_next_state;
- 
- 			yy_c_buf_p = yytext_ptr + yy_amount_of_matched_text;
- 
- 			yy_current_state = yy_get_previous_state();
- 
- 			/* Okay, we're now positioned to make the NUL
- 			 * transition.  We couldn't have
- 			 * yy_get_previous_state() go ahead and do it
- 			 * for us because it doesn't know how to deal
- 			 * with the possibility of jamming (and we don't
- 			 * want to build jamming into it because then it
- 			 * will run more slowly).
- 			 */
- 
- 			yy_next_state = yy_try_NUL_trans( yy_current_state );
- 
- 			yy_bp = yytext_ptr + YY_MORE_ADJ;
- 
- 			if ( yy_next_state )
- 				{
- 				/* Consume the NUL. */
- 				yy_cp = ++yy_c_buf_p;
- 				yy_current_state = yy_next_state;
- 				goto yy_match;
- 				}
- 
- 			else
- 				{
- 				yy_cp = yy_c_buf_p;
- 				goto yy_find_action;
- 				}
- 			}
- 
- 		else switch ( yy_get_next_buffer() )
- 			{
- 			case EOB_ACT_END_OF_FILE:
- 				{
- 				yy_did_buffer_switch_on_eof = 0;
- 
- 				if ( yywrap() )
- 					{
- 					/* Note: because we've taken care in
- 					 * yy_get_next_buffer() to have set up
- 					 * yytext, we can now set up
- 					 * yy_c_buf_p so that if some total
- 					 * hoser (like flex itself) wants to
- 					 * call the scanner after we return the
- 					 * YY_NULL, it'll still work - another
- 					 * YY_NULL will get returned.
- 					 */
- 					yy_c_buf_p = yytext_ptr + YY_MORE_ADJ;
- 
- 					yy_act = YY_STATE_EOF(YY_START);
- 					goto do_action;
- 					}
- 
- 				else
- 					{
- 					if ( ! yy_did_buffer_switch_on_eof )
- 						YY_NEW_FILE;
- 					}
- 				break;
- 				}
- 
- 			case EOB_ACT_CONTINUE_SCAN:
- 				yy_c_buf_p =
- 					yytext_ptr + yy_amount_of_matched_text;
- 
- 				yy_current_state = yy_get_previous_state();
- 
- 				yy_cp = yy_c_buf_p;
- 				yy_bp = yytext_ptr + YY_MORE_ADJ;
- 				goto yy_match;
- 
- 			case EOB_ACT_LAST_MATCH:
- 				yy_c_buf_p =
- 				&yy_current_buffer->yy_ch_buf[yy_n_chars];
- 
- 				yy_current_state = yy_get_previous_state();
- 
- 				yy_cp = yy_c_buf_p;
- 				yy_bp = yytext_ptr + YY_MORE_ADJ;
- 				goto yy_find_action;
- 			}
- 		break;
- 		}
- 
- 	default:
- 		YY_FATAL_ERROR(
- 			"fatal flex scanner internal error--no action found" );
- 	} /* end of action switch */
- 		} /* end of scanning one token */
- 	} /* end of yylex */
- 
- 
- /* yy_get_next_buffer - try to read in a new buffer
-  *
-  * Returns a code representing an action:
-  *	EOB_ACT_LAST_MATCH -
-  *	EOB_ACT_CONTINUE_SCAN - continue scanning from current position
-  *	EOB_ACT_END_OF_FILE - end of file
-  */
- 
- static int yy_get_next_buffer()
- 	{
- 	register char *dest = yy_current_buffer->yy_ch_buf;
- 	register char *source = yytext_ptr;
- 	register int number_to_move, i;
- 	int ret_val;
- 
- 	if ( yy_c_buf_p > &yy_current_buffer->yy_ch_buf[yy_n_chars + 1] )
- 		YY_FATAL_ERROR(
- 		"fatal flex scanner internal error--end of buffer missed" );
- 
- 	if ( yy_current_buffer->yy_fill_buffer == 0 )
- 		{ /* Don't try to fill the buffer, so this is an EOF. */
- 		if ( yy_c_buf_p - yytext_ptr - YY_MORE_ADJ == 1 )
- 			{
- 			/* We matched a single character, the EOB, so
- 			 * treat this as a final EOF.
- 			 */
- 			return EOB_ACT_END_OF_FILE;
- 			}
- 
- 		else
- 			{
- 			/* We matched some text prior to the EOB, first
- 			 * process it.
- 			 */
- 			return EOB_ACT_LAST_MATCH;
- 			}
- 		}
- 
- 	/* Try to read more data. */
- 
- 	/* First move last chars to start of buffer. */
- 	number_to_move = (int) (yy_c_buf_p - yytext_ptr) - 1;
- 
- 	for ( i = 0; i < number_to_move; ++i )
- 		*(dest++) = *(source++);
- 
- 	if ( yy_current_buffer->yy_buffer_status == YY_BUFFER_EOF_PENDING )
- 		/* don't do the read, it's not guaranteed to return an EOF,
- 		 * just force an EOF
- 		 */
- 		yy_current_buffer->yy_n_chars = yy_n_chars = 0;
- 
- 	else
- 		{
- 		int num_to_read =
- 			yy_current_buffer->yy_buf_size - number_to_move - 1;
- 
- 		while ( num_to_read <= 0 )
- 			{ /* Not enough room in the buffer - grow it. */
- #ifdef YY_USES_REJECT
- 			YY_FATAL_ERROR(
- "input buffer overflow, can't enlarge buffer because scanner uses REJECT" );
- #else
- 
- 			/* just a shorter name for the current buffer */
- 			YY_BUFFER_STATE b = yy_current_buffer;
- 
- 			int yy_c_buf_p_offset =
- 				(int) (yy_c_buf_p - b->yy_ch_buf);
- 
- 			if ( b->yy_is_our_buffer )
- 				{
- 				int new_size = b->yy_buf_size * 2;
- 
- 				if ( new_size <= 0 )
- 					b->yy_buf_size += b->yy_buf_size / 8;
- 				else
- 					b->yy_buf_size *= 2;
- 
- 				b->yy_ch_buf = (char *)
- 					/* Include room in for 2 EOB chars. */
- 					yy_flex_realloc( (void *) b->yy_ch_buf,
- 							 b->yy_buf_size + 2 );
- 				}
- 			else
- 				/* Can't grow it, we don't own it. */
- 				b->yy_ch_buf = 0;
- 
- 			if ( ! b->yy_ch_buf )
- 				YY_FATAL_ERROR(
- 				"fatal error - scanner input buffer overflow" );
- 
- 			yy_c_buf_p = &b->yy_ch_buf[yy_c_buf_p_offset];
- 
- 			num_to_read = yy_current_buffer->yy_buf_size -
- 						number_to_move - 1;
- #endif
- 			}
- 
- 		if ( num_to_read > YY_READ_BUF_SIZE )
- 			num_to_read = YY_READ_BUF_SIZE;
- 
- 		/* Read in more data. */
- 		YY_INPUT( (&yy_current_buffer->yy_ch_buf[number_to_move]),
- 			yy_n_chars, num_to_read );
- 
- 		yy_current_buffer->yy_n_chars = yy_n_chars;
- 		}
- 
- 	if ( yy_n_chars == 0 )
- 		{
- 		if ( number_to_move == YY_MORE_ADJ )
- 			{
- 			ret_val = EOB_ACT_END_OF_FILE;
- 			yyrestart( yyin );
- 			}
- 
- 		else
- 			{
- 			ret_val = EOB_ACT_LAST_MATCH;
- 			yy_current_buffer->yy_buffer_status =
- 				YY_BUFFER_EOF_PENDING;
- 			}
- 		}
- 
- 	else
- 		ret_val = EOB_ACT_CONTINUE_SCAN;
- 
- 	yy_n_chars += number_to_move;
- 	yy_current_buffer->yy_ch_buf[yy_n_chars] = YY_END_OF_BUFFER_CHAR;
- 	yy_current_buffer->yy_ch_buf[yy_n_chars + 1] = YY_END_OF_BUFFER_CHAR;
- 
- 	yytext_ptr = &yy_current_buffer->yy_ch_buf[0];
- 
- 	return ret_val;
- 	}
- 
- 
- /* yy_get_previous_state - get the state just before the EOB char was reached */
- 
- static yy_state_type yy_get_previous_state()
- 	{
- 	register yy_state_type yy_current_state;
- 	register char *yy_cp;
- 
- 	yy_current_state = yy_start;
- 
- 	for ( yy_cp = yytext_ptr + YY_MORE_ADJ; yy_cp < yy_c_buf_p; ++yy_cp )
- 		{
- 		register YY_CHAR yy_c = (*yy_cp ? yy_ec[YY_SC_TO_UI(*yy_cp)] : 1);
- 		if ( yy_accept[yy_current_state] )
- 			{
- 			yy_last_accepting_state = yy_current_state;
- 			yy_last_accepting_cpos = yy_cp;
- 			}
- 		while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
- 			{
- 			yy_current_state = (int) yy_def[yy_current_state];
- 			if ( yy_current_state >= 334 )
- 				yy_c = yy_meta[(unsigned int) yy_c];
- 			}
- 		yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
- 		}
- 
- 	return yy_current_state;
- 	}
- 
- 
- /* yy_try_NUL_trans - try to make a transition on the NUL character
-  *
-  * synopsis
-  *	next_state = yy_try_NUL_trans( current_state );
-  */
- 
- #ifdef YY_USE_PROTOS
- static yy_state_type yy_try_NUL_trans( yy_state_type yy_current_state )
- #else
- static yy_state_type yy_try_NUL_trans( yy_current_state )
- yy_state_type yy_current_state;
- #endif
- 	{
- 	register int yy_is_jam;
- 	register char *yy_cp = yy_c_buf_p;
- 
- 	register YY_CHAR yy_c = 1;
- 	if ( yy_accept[yy_current_state] )
- 		{
- 		yy_last_accepting_state = yy_current_state;
- 		yy_last_accepting_cpos = yy_cp;
- 		}
- 	while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
- 		{
- 		yy_current_state = (int) yy_def[yy_current_state];
- 		if ( yy_current_state >= 334 )
- 			yy_c = yy_meta[(unsigned int) yy_c];
- 		}
- 	yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
- 	yy_is_jam = (yy_current_state == 333);
- 
- 	return yy_is_jam ? 0 : yy_current_state;
- 	}
- 
- 
- #ifndef YY_NO_UNPUT
- #ifdef YY_USE_PROTOS
- static void yyunput( int c, register char *yy_bp )
- #else
- static void yyunput( c, yy_bp )
- int c;
- register char *yy_bp;
- #endif
- 	{
- 	register char *yy_cp = yy_c_buf_p;
- 
- 	/* undo effects of setting up yytext */
- 	*yy_cp = yy_hold_char;
- 
- 	if ( yy_cp < yy_current_buffer->yy_ch_buf + 2 )
- 		{ /* need to shift things up to make room */
- 		/* +2 for EOB chars. */
- 		register int number_to_move = yy_n_chars + 2;
- 		register char *dest = &yy_current_buffer->yy_ch_buf[
- 					yy_current_buffer->yy_buf_size + 2];
- 		register char *source =
- 				&yy_current_buffer->yy_ch_buf[number_to_move];
- 
- 		while ( source > yy_current_buffer->yy_ch_buf )
- 			*--dest = *--source;
- 
- 		yy_cp += (int) (dest - source);
- 		yy_bp += (int) (dest - source);
- 		yy_current_buffer->yy_n_chars =
- 			yy_n_chars = yy_current_buffer->yy_buf_size;
- 
- 		if ( yy_cp < yy_current_buffer->yy_ch_buf + 2 )
- 			YY_FATAL_ERROR( "flex scanner push-back overflow" );
- 		}
- 
- 	*--yy_cp = (char) c;
- 
- 
- 	yytext_ptr = yy_bp;
- 	yy_hold_char = *yy_cp;
- 	yy_c_buf_p = yy_cp;
- 	}
- #endif	/* ifndef YY_NO_UNPUT */
- 
- 
- #ifdef __cplusplus
- static int yyinput()
- #else
- static int input()
- #endif
- 	{
- 	int c;
- 
- 	*yy_c_buf_p = yy_hold_char;
- 
- 	if ( *yy_c_buf_p == YY_END_OF_BUFFER_CHAR )
- 		{
- 		/* yy_c_buf_p now points to the character we want to return.
- 		 * If this occurs *before* the EOB characters, then it's a
- 		 * valid NUL; if not, then we've hit the end of the buffer.
- 		 */
- 		if ( yy_c_buf_p < &yy_current_buffer->yy_ch_buf[yy_n_chars] )
- 			/* This was really a NUL. */
- 			*yy_c_buf_p = '\0';
- 
- 		else
- 			{ /* need more input */
- 			int offset = yy_c_buf_p - yytext_ptr;
- 			++yy_c_buf_p;
- 
- 			switch ( yy_get_next_buffer() )
- 				{
- 				case EOB_ACT_LAST_MATCH:
- 					/* This happens because yy_g_n_b()
- 					 * sees that we've accumulated a
- 					 * token and flags that we need to
- 					 * try matching the token before
- 					 * proceeding.  But for input(),
- 					 * there's no matching to consider.
- 					 * So convert the EOB_ACT_LAST_MATCH
- 					 * to EOB_ACT_END_OF_FILE.
- 					 */
- 
- 					/* Reset buffer status. */
- 					yyrestart( yyin );
- 
- 					/* fall through */
- 
- 				case EOB_ACT_END_OF_FILE:
- 					{
- 					if ( yywrap() )
- 						return EOF;
- 
- 					if ( ! yy_did_buffer_switch_on_eof )
- 						YY_NEW_FILE;
- #ifdef __cplusplus
- 					return yyinput();
- #else
- 					return input();
- #endif
- 					}
- 
- 				case EOB_ACT_CONTINUE_SCAN:
- 					yy_c_buf_p = yytext_ptr + offset;
- 					break;
- 				}
- 			}
- 		}
- 
- 	c = *(unsigned char *) yy_c_buf_p;	/* cast for 8-bit char's */
- 	*yy_c_buf_p = '\0';	/* preserve yytext */
- 	yy_hold_char = *++yy_c_buf_p;
- 
- 
- 	return c;
- 	}
- 
- 
- #ifdef YY_USE_PROTOS
- void yyrestart( FILE *input_file )
- #else
- void yyrestart( input_file )
- FILE *input_file;
- #endif
- 	{
- 	if ( ! yy_current_buffer )
- 		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE );
- 
- 	yy_init_buffer( yy_current_buffer, input_file );
- 	yy_load_buffer_state();
- 	}
- 
- 
- #ifdef YY_USE_PROTOS
- void yy_switch_to_buffer( YY_BUFFER_STATE new_buffer )
- #else
- void yy_switch_to_buffer( new_buffer )
- YY_BUFFER_STATE new_buffer;
- #endif
- 	{
- 	if ( yy_current_buffer == new_buffer )
- 		return;
- 
- 	if ( yy_current_buffer )
- 		{
- 		/* Flush out information for old buffer. */
- 		*yy_c_buf_p = yy_hold_char;
- 		yy_current_buffer->yy_buf_pos = yy_c_buf_p;
- 		yy_current_buffer->yy_n_chars = yy_n_chars;
- 		}
- 
- 	yy_current_buffer = new_buffer;
- 	yy_load_buffer_state();
- 
- 	/* We don't actually know whether we did this switch during
- 	 * EOF (yywrap()) processing, but the only time this flag
- 	 * is looked at is after yywrap() is called, so it's safe
- 	 * to go ahead and always set it.
- 	 */
- 	yy_did_buffer_switch_on_eof = 1;
- 	}
- 
- 
- #ifdef YY_USE_PROTOS
- void yy_load_buffer_state( void )
- #else
- void yy_load_buffer_state()
- #endif
- 	{
- 	yy_n_chars = yy_current_buffer->yy_n_chars;
- 	yytext_ptr = yy_c_buf_p = yy_current_buffer->yy_buf_pos;
- 	yyin = yy_current_buffer->yy_input_file;
- 	yy_hold_char = *yy_c_buf_p;
- 	}
- 
- 
- #ifdef YY_USE_PROTOS
- YY_BUFFER_STATE yy_create_buffer( FILE *file, int size )
- #else
- YY_BUFFER_STATE yy_create_buffer( file, size )
- FILE *file;
- int size;
- #endif
- 	{
- 	YY_BUFFER_STATE b;
- 
- 	b = (YY_BUFFER_STATE) yy_flex_alloc( sizeof( struct yy_buffer_state ) );
- 	if ( ! b )
- 		YY_FATAL_ERROR( "out of dynamic memory in yy_create_buffer()" );
- 
- 	b->yy_buf_size = size;
- 
- 	/* yy_ch_buf has to be 2 characters longer than the size given because
- 	 * we need to put in 2 end-of-buffer characters.
- 	 */
- 	b->yy_ch_buf = (char *) yy_flex_alloc( b->yy_buf_size + 2 );
- 	if ( ! b->yy_ch_buf )
- 		YY_FATAL_ERROR( "out of dynamic memory in yy_create_buffer()" );
- 
- 	b->yy_is_our_buffer = 1;
- 
- 	yy_init_buffer( b, file );
- 
- 	return b;
- 	}
- 
- 
- #ifdef YY_USE_PROTOS
- void yy_delete_buffer( YY_BUFFER_STATE b )
- #else
- void yy_delete_buffer( b )
- YY_BUFFER_STATE b;
- #endif
- 	{
- 	if ( ! b )
- 		return;
- 
- 	if ( b == yy_current_buffer )
- 		yy_current_buffer = (YY_BUFFER_STATE) 0;
- 
- 	if ( b->yy_is_our_buffer )
- 		yy_flex_free( (void *) b->yy_ch_buf );
- 
- 	yy_flex_free( (void *) b );
- 	}
- 
- 
- #ifndef YY_ALWAYS_INTERACTIVE
- #ifndef YY_NEVER_INTERACTIVE
- extern int isatty YY_PROTO(( int ));
- #endif
- #endif
- 
- #ifdef YY_USE_PROTOS
- void yy_init_buffer( YY_BUFFER_STATE b, FILE *file )
- #else
- void yy_init_buffer( b, file )
- YY_BUFFER_STATE b;
- FILE *file;
- #endif
- 
- 
- 	{
- 	yy_flush_buffer( b );
- 
- 	b->yy_input_file = file;
- 	b->yy_fill_buffer = 1;
- 
- #if YY_ALWAYS_INTERACTIVE
- 	b->yy_is_interactive = 1;
- #else
- #if YY_NEVER_INTERACTIVE
- 	b->yy_is_interactive = 0;
- #else
- 	b->yy_is_interactive = file ? (isatty( fileno(file) ) > 0) : 0;
- #endif
- #endif
- 	}
- 
- 
- #ifdef YY_USE_PROTOS
- void yy_flush_buffer( YY_BUFFER_STATE b )
- #else
- void yy_flush_buffer( b )
- YY_BUFFER_STATE b;
- #endif
- 
- 	{
- 	if ( ! b )
- 		return;
- 
- 	b->yy_n_chars = 0;
- 
- 	/* We always need two end-of-buffer characters.  The first causes
- 	 * a transition to the end-of-buffer state.  The second causes
- 	 * a jam in that state.
- 	 */
- 	b->yy_ch_buf[0] = YY_END_OF_BUFFER_CHAR;
- 	b->yy_ch_buf[1] = YY_END_OF_BUFFER_CHAR;
- 
- 	b->yy_buf_pos = &b->yy_ch_buf[0];
- 
- 	b->yy_at_bol = 1;
- 	b->yy_buffer_status = YY_BUFFER_NEW;
- 
- 	if ( b == yy_current_buffer )
- 		yy_load_buffer_state();
- 	}
- 
- 
- #ifndef YY_NO_SCAN_BUFFER
- #ifdef YY_USE_PROTOS
- YY_BUFFER_STATE yy_scan_buffer( char *base, yy_size_t size )
- #else
- YY_BUFFER_STATE yy_scan_buffer( base, size )
- char *base;
- yy_size_t size;
- #endif
- 	{
- 	YY_BUFFER_STATE b;
- 
- 	if ( size < 2 ||
- 	     base[size-2] != YY_END_OF_BUFFER_CHAR ||
- 	     base[size-1] != YY_END_OF_BUFFER_CHAR )
- 		/* They forgot to leave room for the EOB's. */
- 		return 0;
- 
- 	b = (YY_BUFFER_STATE) yy_flex_alloc( sizeof( struct yy_buffer_state ) );
- 	if ( ! b )
- 		YY_FATAL_ERROR( "out of dynamic memory in yy_scan_buffer()" );
- 
- 	b->yy_buf_size = size - 2;	/* "- 2" to take care of EOB's */
- 	b->yy_buf_pos = b->yy_ch_buf = base;
- 	b->yy_is_our_buffer = 0;
- 	b->yy_input_file = 0;
- 	b->yy_n_chars = b->yy_buf_size;
- 	b->yy_is_interactive = 0;
- 	b->yy_at_bol = 1;
- 	b->yy_fill_buffer = 0;
- 	b->yy_buffer_status = YY_BUFFER_NEW;
- 
- 	yy_switch_to_buffer( b );
- 
- 	return b;
- 	}
- #endif
- 
- 
- #ifndef YY_NO_SCAN_STRING
- #ifdef YY_USE_PROTOS
- YY_BUFFER_STATE yy_scan_string( yyconst char *yy_str )
- #else
- YY_BUFFER_STATE yy_scan_string( yy_str )
- yyconst char *yy_str;
- #endif
- 	{
- 	int len;
- 	for ( len = 0; yy_str[len]; ++len )
- 		;
- 
- 	return yy_scan_bytes( yy_str, len );
- 	}
- #endif
- 
- 
- #ifndef YY_NO_SCAN_BYTES
- #ifdef YY_USE_PROTOS
- YY_BUFFER_STATE yy_scan_bytes( yyconst char *bytes, int len )
- #else
- YY_BUFFER_STATE yy_scan_bytes( bytes, len )
- yyconst char *bytes;
- int len;
- #endif
- 	{
- 	YY_BUFFER_STATE b;
- 	char *buf;
- 	yy_size_t n;
- 	int i;
- 
- 	/* Get memory for full buffer, including space for trailing EOB's. */
- 	n = len + 2;
- 	buf = (char *) yy_flex_alloc( n );
- 	if ( ! buf )
- 		YY_FATAL_ERROR( "out of dynamic memory in yy_scan_bytes()" );
- 
- 	for ( i = 0; i < len; ++i )
- 		buf[i] = bytes[i];
- 
- 	buf[len] = buf[len+1] = YY_END_OF_BUFFER_CHAR;
- 
- 	b = yy_scan_buffer( buf, n );
- 	if ( ! b )
- 		YY_FATAL_ERROR( "bad buffer in yy_scan_bytes()" );
- 
- 	/* It's okay to grow etc. this buffer, and we should throw it
- 	 * away when we're done.
- 	 */
- 	b->yy_is_our_buffer = 1;
- 
- 	return b;
- 	}
- #endif
- 
- 
- #ifndef YY_NO_PUSH_STATE
- #ifdef YY_USE_PROTOS
- static void yy_push_state( int new_state )
- #else
- static void yy_push_state( new_state )
- int new_state;
- #endif
- 	{
- 	if ( yy_start_stack_ptr >= yy_start_stack_depth )
- 		{
- 		yy_size_t new_size;
- 
- 		yy_start_stack_depth += YY_START_STACK_INCR;
- 		new_size = yy_start_stack_depth * sizeof( int );
- 
- 		if ( ! yy_start_stack )
- 			yy_start_stack = (int *) yy_flex_alloc( new_size );
- 
- 		else
- 			yy_start_stack = (int *) yy_flex_realloc(
- 					(void *) yy_start_stack, new_size );
- 
- 		if ( ! yy_start_stack )
- 			YY_FATAL_ERROR(
- 			"out of memory expanding start-condition stack" );
- 		}
- 
- 	yy_start_stack[yy_start_stack_ptr++] = YY_START;
- 
- 	BEGIN(new_state);
- 	}
- #endif
- 
- 
- #ifndef YY_NO_POP_STATE
- static void yy_pop_state()
- 	{
- 	if ( --yy_start_stack_ptr < 0 )
- 		YY_FATAL_ERROR( "start-condition stack underflow" );
- 
- 	BEGIN(yy_start_stack[yy_start_stack_ptr]);
- 	}
- #endif
- 
- 
- #ifndef YY_NO_TOP_STATE
- static int yy_top_state()
- 	{
- 	return yy_start_stack[yy_start_stack_ptr - 1];
- 	}
- #endif
- 
- #ifndef YY_EXIT_FAILURE
- #define YY_EXIT_FAILURE 2
- #endif
- 
- #ifdef YY_USE_PROTOS
- static void yy_fatal_error( yyconst char msg[] )
- #else
- static void yy_fatal_error( msg )
- char msg[];
- #endif
- 	{
- 	(void) fprintf( stderr, "%s\n", msg );
- 	exit( YY_EXIT_FAILURE );
- 	}
- 
- 
- 
- /* Redefine yyless() so it works in section 3 code. */
- 
- #undef yyless
- #define yyless(n) \
- 	do \
- 		{ \
- 		/* Undo effects of setting up yytext. */ \
- 		yytext[yyleng] = yy_hold_char; \
- 		yy_c_buf_p = yytext + n; \
- 		yy_hold_char = *yy_c_buf_p; \
- 		*yy_c_buf_p = '\0'; \
- 		yyleng = n; \
- 		} \
- 	while ( 0 )
- 
- 
- /* Internal utility routines. */
- 
- #ifndef yytext_ptr
- #ifdef YY_USE_PROTOS
- static void yy_flex_strncpy( char *s1, yyconst char *s2, int n )
- #else
- static void yy_flex_strncpy( s1, s2, n )
- char *s1;
- yyconst char *s2;
- int n;
- #endif
- 	{
- 	register int i;
- 	for ( i = 0; i < n; ++i )
- 		s1[i] = s2[i];
- 	}
- #endif
- 
- #ifdef YY_NEED_STRLEN
- #ifdef YY_USE_PROTOS
- static int yy_flex_strlen( yyconst char *s )
- #else
- static int yy_flex_strlen( s )
- yyconst char *s;
- #endif
- 	{
- 	register int n;
- 	for ( n = 0; s[n]; ++n )
- 		;
- 
- 	return n;
- 	}
- #endif
- 
- 
- #ifdef YY_USE_PROTOS
- static void *yy_flex_alloc( yy_size_t size )
- #else
- static void *yy_flex_alloc( size )
- yy_size_t size;
- #endif
- 	{
- 	return (void *) malloc( size );
- 	}
- 
- #ifdef YY_USE_PROTOS
- static void *yy_flex_realloc( void *ptr, yy_size_t size )
- #else
- static void *yy_flex_realloc( ptr, size )
- void *ptr;
- yy_size_t size;
- #endif
- 	{
- 	/* The cast to (char *) in the following accommodates both
- 	 * implementations that use char* generic pointers, and those
- 	 * that use void* generic pointers.  It works with the latter
- 	 * because both ANSI C and C++ allow castless assignment from
- 	 * any pointer type to void*, and deal with argument conversions
- 	 * as though doing an assignment.
- 	 */
- 	return (void *) realloc( (char *) ptr, size );
- 	}
- 
- #ifdef YY_USE_PROTOS
- static void yy_flex_free( void *ptr )
- #else
- static void yy_flex_free( ptr )
- void *ptr;
- #endif
- 	{
- 	free( ptr );
- 	}
- 
- #if YY_MAIN
- int main()
- 	{
- 	yylex();
- 	return 0;
- 	}
- #endif
- #line 114 "lexer.l"
- 
- 
- // [A-Za-z_][A-Za-z0-9_]*   { bxlval.sval = strdup(bxtext); return(BX_TOKEN_GENERIC); }
- 
-   int
- bx_yyinput(char *buf, int max_size)
- {
-   int len;
- 
-   if (lex_input_size == 0) {
-     fprintf(stderr, "lex: no characters in string input buffer.\n");
-     exit(1);
-     }
- 
-   len = strlen(lex_input_ptr);
-   if (len > max_size)
-     max_size = len;
- 
-   memcpy(buf, lex_input_ptr, max_size);
-   lex_input_size -= max_size;
- 
-   return(max_size);
- }
- 
- 
-   void
- bx_add_lex_input(char *buf)
- {
-   lex_input_ptr  = buf;
-   lex_input_size = strlen(buf);
- 
-   // Since we're parsing from strings, flush out
-   // all current buffer state, so the next read
-   // requests from yyinput
- 
-   bx_flush_buffer( YY_CURRENT_BUFFER );
- }
--- 0 ----
diff -crN clean-bochs-2000-03-25/debug/parser.c bochs-goswin/debug/parser.c
*** clean-bochs-2000-03-25/debug/parser.c	Mon Nov  1 20:17:09 1999
--- bochs-goswin/debug/parser.c	Wed Dec 31 19:00:00 1969
***************
*** 1,1309 ****
- #ifndef lint
- static char yysccsid[] = "@(#)yaccpar	1.9 (Berkeley) 02/21/93";
- #endif
- #define YYBYACC 1
- #define YYMAJOR 1
- #define YYMINOR 9
- #define yyclearin (yychar=(-1))
- #define yyerrok (yyerrflag=0)
- #define YYRECOVERING (yyerrflag!=0)
- #define yyparse bxparse
- #define yylex bxlex
- #define yyerror bxerror
- #define yychar bxchar
- #define yyval bxval
- #define yylval bxlval
- #define yydebug bxdebug
- #define yynerrs bxnerrs
- #define yyerrflag bxerrflag
- #define yyss bxss
- #define yyssp bxssp
- #define yyvs bxvs
- #define yyvsp bxvsp
- #define yylhs bxlhs
- #define yylen bxlen
- #define yydefred bxdefred
- #define yydgoto bxdgoto
- #define yysindex bxsindex
- #define yyrindex bxrindex
- #define yygindex bxgindex
- #define yytable bxtable
- #define yycheck bxcheck
- #define yyname bxname
- #define yyrule bxrule
- #define YYPREFIX "bx"
- #line 2 "parser.y"
- #include <stdio.h>
- #include <stdlib.h>
- #include "debug.h"
- /* %left '-' '+'*/
- /* %left '*' '/'*/
- /* %right*/
- /* %nonassoc UMINUS*/
- #line 12 "parser.y"
- typedef union {
-   char    *sval;
-   Bit32u   uval;
-   Bit64u   ulval;
-   } YYSTYPE;
- #line 50 "y.tab.c"
- #define BX_TOKEN_CONTINUE 257
- #define BX_TOKEN_STEPN 258
- #define BX_TOKEN_NEXT_STEP 259
- #define BX_TOKEN_SET 260
- #define BX_TOKEN_VBREAKPOINT 261
- #define BX_TOKEN_LBREAKPOINT 262
- #define BX_TOKEN_PBREAKPOINT 263
- #define BX_TOKEN_DEL_BREAKPOINT 264
- #define BX_TOKEN_INFO 265
- #define BX_TOKEN_QUIT 266
- #define BX_TOKEN_PROGRAM 267
- #define BX_TOKEN_REGISTERS 268
- #define BX_TOKEN_DIRTY 269
- #define BX_TOKEN_EXAMINE 270
- #define BX_TOKEN_XFORMAT 271
- #define BX_TOKEN_SETPMEM 272
- #define BX_TOKEN_SYMBOLNAME 273
- #define BX_TOKEN_QUERY 274
- #define BX_TOKEN_PENDING 275
- #define BX_TOKEN_TAKE 276
- #define BX_TOKEN_DMA 277
- #define BX_TOKEN_IRQ 278
- #define BX_TOKEN_DUMP_CPU 279
- #define BX_TOKEN_SET_CPU 280
- #define BX_TOKEN_DIS 281
- #define BX_TOKEN_ON 282
- #define BX_TOKEN_OFF 283
- #define BX_TOKEN_DISASSEMBLE 284
- #define BX_TOKEN_INSTRUMENT 285
- #define BX_TOKEN_START 286
- #define BX_TOKEN_STOP 287
- #define BX_TOKEN_RESET 288
- #define BX_TOKEN_PRINT 289
- #define BX_TOKEN_LOADER 290
- #define BX_TOKEN_STRING 291
- #define BX_TOKEN_DOIT 292
- #define BX_TOKEN_CRC 293
- #define BX_TOKEN_TRACEON 294
- #define BX_TOKEN_TRACEOFF 295
- #define BX_TOKEN_PTIME 296
- #define BX_TOKEN_TIMEBP_ABSOLUTE 297
- #define BX_TOKEN_TIMEBP 298
- #define BX_TOKEN_RECORD 299
- #define BX_TOKEN_PLAYBACK 300
- #define BX_TOKEN_MODEBP 301
- #define BX_TOKEN_PRINT_STACK 302
- #define BX_TOKEN_WATCH 303
- #define BX_TOKEN_UNWATCH 304
- #define BX_TOKEN_READ 305
- #define BX_TOKEN_WRITE 306
- #define BX_TOKEN_SHOW 307
- #define BX_TOKEN_SYMBOL 308
- #define BX_TOKEN_GLOBAL 309
- #define BX_TOKEN_WHERE 310
- #define BX_TOKEN_PRINT_STRING 311
- #define BX_TOKEN_DIFF_MEMORY 312
- #define BX_TOKEN_SYNC_MEMORY 313
- #define BX_TOKEN_SYNC_CPU 314
- #define BX_TOKEN_FAST_FORWARD 315
- #define BX_TOKEN_PHY_2_LOG 316
- #define BX_TOKEN_NUMERIC 317
- #define BX_TOKEN_LONG_NUMERIC 318
- #define BX_TOKEN_INFO_ADDRESS 319
- #define BX_TOKEN_CS 320
- #define BX_TOKEN_ES 321
- #define BX_TOKEN_SS 322
- #define BX_TOKEN_DS 323
- #define BX_TOKEN_FS 324
- #define BX_TOKEN_GS 325
- #define BX_TOKEN_ALWAYS_CHECK 326
- #define BX_TOKEN_MATHS 327
- #define BX_TOKEN_ADD 328
- #define BX_TOKEN_SUB 329
- #define BX_TOKEN_MUL 330
- #define BX_TOKEN_DIV 331
- #define BX_TOKEN_V2L 332
- #define YYERRCODE 256
- short bxlhs[] = {                                        -1,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,   34,   34,   34,   34,   34,
-    34,   34,   34,   34,   34,    1,    1,    1,    1,    1,
-     1,   24,   24,   25,   26,   27,   27,   30,   30,   23,
-    21,   22,   28,   28,   29,   29,   29,   29,   29,   29,
-    29,   29,   31,   31,   31,   32,   33,    2,    3,    3,
-     4,    4,    4,    5,    5,    5,    5,    5,    5,    5,
-     6,    6,    6,    6,    7,    8,    9,   10,   10,   10,
-    10,   11,   12,   13,   13,   13,   14,   15,   16,   16,
-    16,   16,   17,   18,   19,   20,   20,   20,   20,   20,
-    35,
- };
- short bxlen[] = {                                         2,
-     1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-     1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-     1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
-     1,    1,    1,    1,    1,    2,    3,    3,    3,    3,
-     3,    3,    5,    4,    4,    1,    1,    1,    1,    1,
-     1,    3,    3,    3,    3,    3,    2,    3,    2,    2,
-     2,    2,    2,    3,    3,    3,    2,    2,    4,    4,
-     4,    4,    3,    4,    5,    2,    3,    2,    2,    3,
-     4,    4,    5,    2,    5,    2,    3,    2,    3,    4,
-     3,    3,    3,    3,    2,    3,    2,    4,    3,    3,
-     2,    5,    3,    3,    4,    3,    2,    4,    3,    3,
-     3,    3,    3,    3,    4,    5,    5,    5,    5,    3,
-     5,
- };
- short bxdefred[] = {                                      0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,   35,    0,    1,    2,    3,    4,
-     5,    6,    7,    8,    9,   10,   11,   12,   13,   14,
-    15,   16,   17,   18,   19,   20,   21,   22,   23,   24,
-    25,   26,   27,   28,   29,   30,   31,   32,   33,   34,
-    78,    0,   79,    0,    0,    0,   84,    0,   86,    0,
-    88,    0,    0,    0,    0,    0,    0,   97,    0,    0,
-   101,    0,    0,    0,    0,   95,  107,    0,    0,    0,
-     0,    0,    0,    0,    0,   61,   62,   60,    0,    0,
-     0,    0,    0,   57,    0,   63,    0,    0,    0,    0,
-    67,    0,    0,   68,    0,   59,    0,    0,   76,    0,
-    36,    0,    0,    0,    0,    0,    0,   46,   47,   48,
-    49,   50,   51,    0,    0,    0,    0,    0,    0,    0,
-     0,   80,    0,    0,    0,    0,   87,   89,    0,   96,
-    91,   92,   93,   94,    0,   99,  100,    0,  103,    0,
-   104,  106,    0,  109,  110,  111,  112,  113,  114,    0,
-    53,   52,   54,   55,   56,   64,   66,   65,    0,    0,
-     0,    0,   58,    0,   73,    0,   77,   37,   38,   39,
-    40,   41,   42,    0,    0,    0,  120,    0,    0,    0,
-     0,    0,    0,   81,   82,    0,   90,   98,    0,  105,
-   108,  115,   69,   71,   70,   72,   74,    0,    0,   44,
-    45,    0,    0,    0,    0,    0,   83,   85,  102,   75,
-    43,  116,  117,  118,  119,  121,
- };
- short bxdgoto[] = {                                      46,
-   154,   47,   48,   49,   50,   51,   52,   53,   54,   55,
-    56,   57,   58,   59,   60,   61,   62,   63,   64,   65,
-    66,   67,   68,   69,   70,   71,   72,   73,   74,   75,
-    76,   77,   78,   79,   80,
- };
- short bxsindex[] = {                                    -10,
-     3,   -7, -263,   -5,   -4,   -9, -300, -247,    9,   -6,
-  -291, -246, -254,   18,   28, -262, -252, -235, -260, -259,
-    49,   50,   51, -256, -255, -227, -226,    4,   -3,   20,
-    15,    5, -282,   56, -250,   58, -251, -233, -248, -245,
-  -277, -244, -289, -277,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,   60,    0,   10, -231,   16,    0,   65,    0,   66,
-     0, -240,   68,   69,   70,   71,   72,    0,   -2,   73,
-     0, -232,   74,    1,   76,    0,    0, -230,   78,   79,
-    80,   81,   82,   83, -223,    0,    0,    0,   85,   86,
-    87,   88,   89,    0,   90,    0,   91,   92, -214, -213,
-     0, -212, -211,    0,   97,    0,    2, -183,    0,   99,
-     0,  100,  101,  102,  103,  104,  105,    0,    0,    0,
-     0,    0,    0,   59, -229,  106, -199, -198, -197, -196,
-    64,    0, -194,  114,  115, -191,    0,    0,  117,    0,
-     0,    0,    0,    0,  118,    0,    0, -188,    0,  120,
-     0,    0,  121,    0,    0,    0,    0,    0,    0,  122,
-     0,    0,    0,    0,    0,    0,    0,    0,  123,  124,
-   125,  126,    0,  127,    0, -179,    0,    0,    0,    0,
-     0,    0,    0, -178,  130,  131,    0, -175, -174, -173,
-  -172, -171,  137,    0,    0,  138,    0,    0,  139,    0,
-     0,    0,    0,    0,    0,    0,    0,  140,  141,    0,
-     0,  142,  143,  144,  145,  146,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,
- };
- short bxrindex[] = {                                      0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,
- };
- short bxgindex[] = {                                      0,
-   113,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,
- };
- #define YYTABLESIZE 326
- short bxtable[] = {                                      45,
-    91,  156,   83,  101,   87,   89,  126,  176,  137,   84,
-   181,  205,   81,  124,  136,   94,   93,   85,   98,   95,
-    96,   97,  104,  105,  134,  102,  138,  106,  103,  131,
-   142,  143,   92,  109,  110,  111,  112,  107,  157,  158,
-   159,  160,  148,  149,  150,  151,  152,  153,  144,  145,
-   164,  165,  215,  216,  108,  113,  114,  115,  116,  117,
-   118,  119,  120,  121,  122,  139,  140,  141,  146,  162,
-   163,  147,  155,  166,  167,  168,  169,  170,  171,  172,
-   173,  174,  177,  179,  178,  182,  183,  184,  185,  186,
-   187,  188,  189,  190,  191,  192,  193,  194,  195,  196,
-   197,  198,  199,  200,  201,  202,  203,  206,  207,  208,
-   209,  210,  211,  212,  213,  217,  214,  218,  219,  220,
-   221,  222,  223,  224,  225,  226,  227,  228,  229,  230,
-   231,  232,  233,  234,  235,  236,  237,  238,  239,  240,
-   241,  242,  243,  244,  245,  246,  247,  248,  249,  250,
-   251,  252,  253,  254,  255,  256,  161,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
-     0,    0,    0,    0,    0,    0,    1,    2,    0,    3,
-     4,    5,    6,    7,    8,    9,    0,    0,    0,   10,
-     0,   11,    0,   12,   99,   13,    0,    0,   14,   15,
-     0,    0,    0,   16,   17,    0,  127,    0,    0,   18,
-     0,   19,   20,   21,   22,   23,   24,   25,   26,   27,
-    28,   29,   30,   31,  123,  135,   32,   33,    0,   34,
-    35,   36,   37,   38,   39,   40,  128,   90,   41,   82,
-   100,   86,   88,  125,  175,   42,   43,  180,  204,  132,
-   133,   44,    0,    0,  129,  130,
- };
- short bxcheck[] = {                                      10,
-    10,  291,   10,   10,   10,   10,   10,   10,  291,  273,
-    10,   10,   10,   10,   10,  263,  317,  281,   10,  267,
-   268,  269,  277,  278,   10,  317,  309,   10,  275,   10,
-   282,  283,   42,  286,  287,  288,  289,   10,  328,  329,
-   330,  331,  320,  321,  322,  323,  324,  325,  282,  283,
-   282,  283,  282,  283,  317,  291,  317,  317,   10,   10,
-    10,  318,  318,  291,  291,   10,  317,   10,  317,   10,
-    61,  317,  317,   58,   10,   10,  317,   10,   10,   10,
-    10,   10,   10,   10,  317,   10,  317,   10,   10,   10,
-    10,   10,   10,  317,   10,   10,   10,   10,   10,   10,
-    10,   10,  317,  317,  317,  317,   10,  291,   10,   10,
-    10,   10,   10,   10,   10,   10,   58,  317,  317,  317,
-   317,   58,  317,   10,   10,  317,   10,   10,  317,   10,
-    10,   10,   10,   10,   10,   10,   10,  317,  317,   10,
-    10,  317,  317,  317,  317,  317,   10,   10,   10,   10,
-    10,   10,   10,   10,   10,   10,   44,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
-    -1,   -1,   -1,   -1,   -1,   -1,  257,  258,   -1,  260,
-   261,  262,  263,  264,  265,  266,   -1,   -1,   -1,  270,
-    -1,  272,   -1,  274,  271,  276,   -1,   -1,  279,  280,
-    -1,   -1,   -1,  284,  285,   -1,  257,   -1,   -1,  290,
-    -1,  292,  293,  294,  295,  296,  297,  298,  299,  300,
-   301,  302,  303,  304,  291,  291,  307,  308,   -1,  310,
-   311,  312,  313,  314,  315,  316,  287,  317,  319,  317,
-   317,  317,  317,  317,  317,  326,  327,  317,  317,  305,
-   306,  332,   -1,   -1,  305,  306,
- };
- #define YYFINAL 46
- #ifndef YYDEBUG
- #define YYDEBUG 0
- #endif
- #define YYMAXTOKEN 332
- #if YYDEBUG
- char *bxname[] = {
- "end-of-file",0,0,0,0,0,0,0,0,0,"'\\n'",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
- 0,0,0,0,0,0,0,0,0,0,0,"'*'",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"':'",0,0,"'='",0,0,0,
- 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
- 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
- 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
- 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
- 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
- "BX_TOKEN_CONTINUE","BX_TOKEN_STEPN","BX_TOKEN_NEXT_STEP","BX_TOKEN_SET",
- "BX_TOKEN_VBREAKPOINT","BX_TOKEN_LBREAKPOINT","BX_TOKEN_PBREAKPOINT",
- "BX_TOKEN_DEL_BREAKPOINT","BX_TOKEN_INFO","BX_TOKEN_QUIT","BX_TOKEN_PROGRAM",
- "BX_TOKEN_REGISTERS","BX_TOKEN_DIRTY","BX_TOKEN_EXAMINE","BX_TOKEN_XFORMAT",
- "BX_TOKEN_SETPMEM","BX_TOKEN_SYMBOLNAME","BX_TOKEN_QUERY","BX_TOKEN_PENDING",
- "BX_TOKEN_TAKE","BX_TOKEN_DMA","BX_TOKEN_IRQ","BX_TOKEN_DUMP_CPU",
- "BX_TOKEN_SET_CPU","BX_TOKEN_DIS","BX_TOKEN_ON","BX_TOKEN_OFF",
- "BX_TOKEN_DISASSEMBLE","BX_TOKEN_INSTRUMENT","BX_TOKEN_START","BX_TOKEN_STOP",
- "BX_TOKEN_RESET","BX_TOKEN_PRINT","BX_TOKEN_LOADER","BX_TOKEN_STRING",
- "BX_TOKEN_DOIT","BX_TOKEN_CRC","BX_TOKEN_TRACEON","BX_TOKEN_TRACEOFF",
- "BX_TOKEN_PTIME","BX_TOKEN_TIMEBP_ABSOLUTE","BX_TOKEN_TIMEBP","BX_TOKEN_RECORD",
- "BX_TOKEN_PLAYBACK","BX_TOKEN_MODEBP","BX_TOKEN_PRINT_STACK","BX_TOKEN_WATCH",
- "BX_TOKEN_UNWATCH","BX_TOKEN_READ","BX_TOKEN_WRITE","BX_TOKEN_SHOW",
- "BX_TOKEN_SYMBOL","BX_TOKEN_GLOBAL","BX_TOKEN_WHERE","BX_TOKEN_PRINT_STRING",
- "BX_TOKEN_DIFF_MEMORY","BX_TOKEN_SYNC_MEMORY","BX_TOKEN_SYNC_CPU",
- "BX_TOKEN_FAST_FORWARD","BX_TOKEN_PHY_2_LOG","BX_TOKEN_NUMERIC",
- "BX_TOKEN_LONG_NUMERIC","BX_TOKEN_INFO_ADDRESS","BX_TOKEN_CS","BX_TOKEN_ES",
- "BX_TOKEN_SS","BX_TOKEN_DS","BX_TOKEN_FS","BX_TOKEN_GS","BX_TOKEN_ALWAYS_CHECK",
- "BX_TOKEN_MATHS","BX_TOKEN_ADD","BX_TOKEN_SUB","BX_TOKEN_MUL","BX_TOKEN_DIV",
- "BX_TOKEN_V2L",
- };
- char *bxrule[] = {
- "$accept : command",
- "command : continue_command",
- "command : stepN_command",
- "command : set_command",
- "command : breakpoint_command",
- "command : info_command",
- "command : dump_cpu_command",
- "command : delete_command",
- "command : quit_command",
- "command : examine_command",
- "command : setpmem_command",
- "command : query_command",
- "command : take_command",
- "command : set_cpu_command",
- "command : disassemble_command",
- "command : instrument_command",
- "command : loader_command",
- "command : doit_command",
- "command : crc_command",
- "command : maths_command",
- "command : trace_on_command",
- "command : trace_off_command",
- "command : ptime_command",
- "command : timebp_command",
- "command : record_command",
- "command : playback_command",
- "command : modebp_command",
- "command : print_stack_command",
- "command : watch_point_command",
- "command : show_command",
- "command : symbol_command",
- "command : where_command",
- "command : print_string_command",
- "command : cosim_commands",
- "command : v2l_command",
- "command : '\\n'",
- "cosim_commands : BX_TOKEN_DIFF_MEMORY '\\n'",
- "cosim_commands : BX_TOKEN_SYNC_MEMORY BX_TOKEN_ON '\\n'",
- "cosim_commands : BX_TOKEN_SYNC_MEMORY BX_TOKEN_OFF '\\n'",
- "cosim_commands : BX_TOKEN_SYNC_CPU BX_TOKEN_ON '\\n'",
- "cosim_commands : BX_TOKEN_SYNC_CPU BX_TOKEN_OFF '\\n'",
- "cosim_commands : BX_TOKEN_FAST_FORWARD BX_TOKEN_NUMERIC '\\n'",
- "cosim_commands : BX_TOKEN_PHY_2_LOG BX_TOKEN_NUMERIC '\\n'",
- "cosim_commands : BX_TOKEN_INFO_ADDRESS segment_register ':' BX_TOKEN_NUMERIC '\\n'",
- "cosim_commands : BX_TOKEN_ALWAYS_CHECK BX_TOKEN_NUMERIC BX_TOKEN_ON '\\n'",
- "cosim_commands : BX_TOKEN_ALWAYS_CHECK BX_TOKEN_NUMERIC BX_TOKEN_OFF '\\n'",
- "segment_register : BX_TOKEN_CS",
- "segment_register : BX_TOKEN_ES",
- "segment_register : BX_TOKEN_SS",
- "segment_register : BX_TOKEN_DS",
- "segment_register : BX_TOKEN_FS",
- "segment_register : BX_TOKEN_GS",
- "timebp_command : BX_TOKEN_TIMEBP BX_TOKEN_LONG_NUMERIC '\\n'",
- "timebp_command : BX_TOKEN_TIMEBP_ABSOLUTE BX_TOKEN_LONG_NUMERIC '\\n'",
- "record_command : BX_TOKEN_RECORD BX_TOKEN_STRING '\\n'",
- "playback_command : BX_TOKEN_PLAYBACK BX_TOKEN_STRING '\\n'",
- "modebp_command : BX_TOKEN_MODEBP BX_TOKEN_STRING '\\n'",
- "modebp_command : BX_TOKEN_MODEBP '\\n'",
- "show_command : BX_TOKEN_SHOW BX_TOKEN_STRING '\\n'",
- "show_command : BX_TOKEN_SHOW '\\n'",
- "ptime_command : BX_TOKEN_PTIME '\\n'",
- "trace_on_command : BX_TOKEN_TRACEON '\\n'",
- "trace_off_command : BX_TOKEN_TRACEOFF '\\n'",
- "print_stack_command : BX_TOKEN_PRINT_STACK '\\n'",
- "print_stack_command : BX_TOKEN_PRINT_STACK BX_TOKEN_NUMERIC '\\n'",
- "watch_point_command : BX_TOKEN_WATCH BX_TOKEN_STOP '\\n'",
- "watch_point_command : BX_TOKEN_WATCH BX_TOKEN_CONTINUE '\\n'",
- "watch_point_command : BX_TOKEN_WATCH '\\n'",
- "watch_point_command : BX_TOKEN_UNWATCH '\\n'",
- "watch_point_command : BX_TOKEN_WATCH BX_TOKEN_READ BX_TOKEN_NUMERIC '\\n'",
- "watch_point_command : BX_TOKEN_UNWATCH BX_TOKEN_READ BX_TOKEN_NUMERIC '\\n'",
- "watch_point_command : BX_TOKEN_WATCH BX_TOKEN_WRITE BX_TOKEN_NUMERIC '\\n'",
- "watch_point_command : BX_TOKEN_UNWATCH BX_TOKEN_WRITE BX_TOKEN_NUMERIC '\\n'",
- "symbol_command : BX_TOKEN_SYMBOL BX_TOKEN_STRING '\\n'",
- "symbol_command : BX_TOKEN_SYMBOL BX_TOKEN_STRING BX_TOKEN_NUMERIC '\\n'",
- "symbol_command : BX_TOKEN_SYMBOL BX_TOKEN_GLOBAL BX_TOKEN_STRING BX_TOKEN_NUMERIC '\\n'",
- "where_command : BX_TOKEN_WHERE '\\n'",
- "print_string_command : BX_TOKEN_PRINT_STRING BX_TOKEN_NUMERIC '\\n'",
- "continue_command : BX_TOKEN_CONTINUE '\\n'",
- "stepN_command : BX_TOKEN_STEPN '\\n'",
- "stepN_command : BX_TOKEN_STEPN BX_TOKEN_NUMERIC '\\n'",
- "set_command : BX_TOKEN_SET BX_TOKEN_DIS BX_TOKEN_ON '\\n'",
- "set_command : BX_TOKEN_SET BX_TOKEN_DIS BX_TOKEN_OFF '\\n'",
- "set_command : BX_TOKEN_SET BX_TOKEN_SYMBOLNAME '=' BX_TOKEN_NUMERIC '\\n'",
- "breakpoint_command : BX_TOKEN_VBREAKPOINT '\\n'",
- "breakpoint_command : BX_TOKEN_VBREAKPOINT BX_TOKEN_NUMERIC ':' BX_TOKEN_NUMERIC '\\n'",
- "breakpoint_command : BX_TOKEN_LBREAKPOINT '\\n'",
- "breakpoint_command : BX_TOKEN_LBREAKPOINT BX_TOKEN_NUMERIC '\\n'",
- "breakpoint_command : BX_TOKEN_PBREAKPOINT '\\n'",
- "breakpoint_command : BX_TOKEN_PBREAKPOINT BX_TOKEN_NUMERIC '\\n'",
- "breakpoint_command : BX_TOKEN_PBREAKPOINT '*' BX_TOKEN_NUMERIC '\\n'",
- "info_command : BX_TOKEN_INFO BX_TOKEN_PBREAKPOINT '\\n'",
- "info_command : BX_TOKEN_INFO BX_TOKEN_PROGRAM '\\n'",
- "info_command : BX_TOKEN_INFO BX_TOKEN_REGISTERS '\\n'",
- "info_command : BX_TOKEN_INFO BX_TOKEN_DIRTY '\\n'",
- "dump_cpu_command : BX_TOKEN_DUMP_CPU '\\n'",
- "delete_command : BX_TOKEN_DEL_BREAKPOINT BX_TOKEN_NUMERIC '\\n'",
- "quit_command : BX_TOKEN_QUIT '\\n'",
- "examine_command : BX_TOKEN_EXAMINE BX_TOKEN_XFORMAT BX_TOKEN_NUMERIC '\\n'",
- "examine_command : BX_TOKEN_EXAMINE BX_TOKEN_XFORMAT '\\n'",
- "examine_command : BX_TOKEN_EXAMINE BX_TOKEN_NUMERIC '\\n'",
- "examine_command : BX_TOKEN_EXAMINE '\\n'",
- "setpmem_command : BX_TOKEN_SETPMEM BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "query_command : BX_TOKEN_QUERY BX_TOKEN_PENDING '\\n'",
- "take_command : BX_TOKEN_TAKE BX_TOKEN_DMA '\\n'",
- "take_command : BX_TOKEN_TAKE BX_TOKEN_DMA BX_TOKEN_NUMERIC '\\n'",
- "take_command : BX_TOKEN_TAKE BX_TOKEN_IRQ '\\n'",
- "set_cpu_command : BX_TOKEN_SET_CPU '\\n'",
- "disassemble_command : BX_TOKEN_DISASSEMBLE BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "instrument_command : BX_TOKEN_INSTRUMENT BX_TOKEN_START '\\n'",
- "instrument_command : BX_TOKEN_INSTRUMENT BX_TOKEN_STOP '\\n'",
- "instrument_command : BX_TOKEN_INSTRUMENT BX_TOKEN_RESET '\\n'",
- "instrument_command : BX_TOKEN_INSTRUMENT BX_TOKEN_PRINT '\\n'",
- "loader_command : BX_TOKEN_LOADER BX_TOKEN_STRING '\\n'",
- "doit_command : BX_TOKEN_DOIT BX_TOKEN_NUMERIC '\\n'",
- "crc_command : BX_TOKEN_CRC BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "maths_command : BX_TOKEN_MATHS BX_TOKEN_ADD BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "maths_command : BX_TOKEN_MATHS BX_TOKEN_SUB BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "maths_command : BX_TOKEN_MATHS BX_TOKEN_MUL BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "maths_command : BX_TOKEN_MATHS BX_TOKEN_DIV BX_TOKEN_NUMERIC BX_TOKEN_NUMERIC '\\n'",
- "maths_command : BX_TOKEN_MATHS BX_TOKEN_STRING '\\n'",
- "v2l_command : BX_TOKEN_V2L segment_register ':' BX_TOKEN_NUMERIC '\\n'",
- };
- #endif
- #ifdef YYSTACKSIZE
- #undef YYMAXDEPTH
- #define YYMAXDEPTH YYSTACKSIZE
- #else
- #ifdef YYMAXDEPTH
- #define YYSTACKSIZE YYMAXDEPTH
- #else
- #define YYSTACKSIZE 500
- #define YYMAXDEPTH 500
- #endif
- #endif
- int yydebug;
- int yynerrs;
- int yyerrflag;
- int yychar;
- short *yyssp;
- YYSTYPE *yyvsp;
- YYSTYPE yyval;
- YYSTYPE yylval;
- short yyss[YYSTACKSIZE];
- YYSTYPE yyvs[YYSTACKSIZE];
- #define yystacksize YYSTACKSIZE
- #define YYABORT goto yyabort
- #define YYREJECT goto yyabort
- #define YYACCEPT goto yyaccept
- #define YYERROR goto yyerrlab
- int
- yyparse()
- {
-     register int yym, yyn, yystate;
- #if YYDEBUG
-     register char *yys;
-     extern char *getenv();
- 
-     if (yys = getenv("YYDEBUG"))
-     {
-         yyn = *yys;
-         if (yyn >= '0' && yyn <= '9')
-             yydebug = yyn - '0';
-     }
- #endif
- 
-     yynerrs = 0;
-     yyerrflag = 0;
-     yychar = (-1);
- 
-     yyssp = yyss;
-     yyvsp = yyvs;
-     *yyssp = yystate = 0;
- 
- yyloop:
-     if (yyn = yydefred[yystate]) goto yyreduce;
-     if (yychar < 0)
-     {
-         if ((yychar = yylex()) < 0) yychar = 0;
- #if YYDEBUG
-         if (yydebug)
-         {
-             yys = 0;
-             if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
-             if (!yys) yys = "illegal-symbol";
-             printf("%sdebug: state %d, reading %d (%s)\n",
-                     YYPREFIX, yystate, yychar, yys);
-         }
- #endif
-     }
-     if ((yyn = yysindex[yystate]) && (yyn += yychar) >= 0 &&
-             yyn <= YYTABLESIZE && yycheck[yyn] == yychar)
-     {
- #if YYDEBUG
-         if (yydebug)
-             printf("%sdebug: state %d, shifting to state %d\n",
-                     YYPREFIX, yystate, yytable[yyn]);
- #endif
-         if (yyssp >= yyss + yystacksize - 1)
-         {
-             goto yyoverflow;
-         }
-         *++yyssp = yystate = yytable[yyn];
-         *++yyvsp = yylval;
-         yychar = (-1);
-         if (yyerrflag > 0)  --yyerrflag;
-         goto yyloop;
-     }
-     if ((yyn = yyrindex[yystate]) && (yyn += yychar) >= 0 &&
-             yyn <= YYTABLESIZE && yycheck[yyn] == yychar)
-     {
-         yyn = yytable[yyn];
-         goto yyreduce;
-     }
-     if (yyerrflag) goto yyinrecovery;
- #ifdef lint
-     goto yynewerror;
- #endif
- yynewerror:
-     yyerror("syntax error");
- #ifdef lint
-     goto yyerrlab;
- #endif
- yyerrlab:
-     ++yynerrs;
- yyinrecovery:
-     if (yyerrflag < 3)
-     {
-         yyerrflag = 3;
-         for (;;)
-         {
-             if ((yyn = yysindex[*yyssp]) && (yyn += YYERRCODE) >= 0 &&
-                     yyn <= YYTABLESIZE && yycheck[yyn] == YYERRCODE)
-             {
- #if YYDEBUG
-                 if (yydebug)
-                     printf("%sdebug: state %d, error recovery shifting\
-  to state %d\n", YYPREFIX, *yyssp, yytable[yyn]);
- #endif
-                 if (yyssp >= yyss + yystacksize - 1)
-                 {
-                     goto yyoverflow;
-                 }
-                 *++yyssp = yystate = yytable[yyn];
-                 *++yyvsp = yylval;
-                 goto yyloop;
-             }
-             else
-             {
- #if YYDEBUG
-                 if (yydebug)
-                     printf("%sdebug: error recovery discarding state %d\n",
-                             YYPREFIX, *yyssp);
- #endif
-                 if (yyssp <= yyss) goto yyabort;
-                 --yyssp;
-                 --yyvsp;
-             }
-         }
-     }
-     else
-     {
-         if (yychar == 0) goto yyabort;
- #if YYDEBUG
-         if (yydebug)
-         {
-             yys = 0;
-             if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
-             if (!yys) yys = "illegal-symbol";
-             printf("%sdebug: state %d, error recovery discards token %d (%s)\n",
-                     YYPREFIX, yystate, yychar, yys);
-         }
- #endif
-         yychar = (-1);
-         goto yyloop;
-     }
- yyreduce:
- #if YYDEBUG
-     if (yydebug)
-         printf("%sdebug: state %d, reducing by rule %d (%s)\n",
-                 YYPREFIX, yystate, yyn, yyrule[yyn]);
- #endif
-     yym = yylen[yyn];
-     yyval = yyvsp[1-yym];
-     switch (yyn)
-     {
- case 35:
- #line 137 "parser.y"
- {
-       }
- break;
- case 36:
- #line 143 "parser.y"
- {
- 		bx_dbg_diff_memory();
- 		free(yyvsp[-1].sval);
- 	}
- break;
- case 37:
- #line 148 "parser.y"
- {
- 		bx_dbg_sync_memory(1);
- 		free(yyvsp[-2].sval); free(yyvsp[-1].sval);
- 	}
- break;
- case 38:
- #line 153 "parser.y"
- {
- 		bx_dbg_sync_memory(0);
- 		free(yyvsp[-2].sval); free(yyvsp[-1].sval);
- 	}
- break;
- case 39:
- #line 158 "parser.y"
- {
- 		bx_dbg_sync_cpu(1);
- 		free(yyvsp[-2].sval); free(yyvsp[-1].sval);
- 	}
- break;
- case 40:
- #line 163 "parser.y"
- {
- 		bx_dbg_sync_cpu(0);
- 		free(yyvsp[-2].sval); free(yyvsp[-1].sval);
- 	}
- break;
- case 41:
- #line 168 "parser.y"
- {
- 		free(yyvsp[-2].sval);
- 		bx_dbg_fast_forward(yyvsp[-1].uval);
- 	}
- break;
- case 42:
- #line 173 "parser.y"
- {
- 	}
- break;
- case 43:
- #line 176 "parser.y"
- {
- 		free(yyvsp[-4].sval);
- 		bx_dbg_info_address(yyvsp[-3].uval, yyvsp[-1].uval);
-         }
- break;
- case 44:
- #line 181 "parser.y"
- {
-         }
- break;
- case 45:
- #line 184 "parser.y"
- {
-         }
- break;
- case 46:
- #line 189 "parser.y"
- { yyval.uval = 1; }
- break;
- case 47:
- #line 190 "parser.y"
- { yyval.uval = 0; }
- break;
- case 48:
- #line 191 "parser.y"
- { yyval.uval = 2; }
- break;
- case 49:
- #line 192 "parser.y"
- { yyval.uval = 3; }
- break;
- case 50:
- #line 193 "parser.y"
- { yyval.uval = 4; }
- break;
- case 51:
- #line 194 "parser.y"
- { yyval.uval = 5; }
- break;
- case 52:
- #line 199 "parser.y"
- {
-         bx_dbg_timebp_command(0, yyvsp[-1].ulval);
- 	free(yyvsp[-2].sval);
- 	}
- break;
- case 53:
- #line 204 "parser.y"
- {
-         bx_dbg_timebp_command(1, yyvsp[-1].ulval);
- 	free(yyvsp[-2].sval);
- 	}
- break;
- case 54:
- #line 212 "parser.y"
- {
-           bx_dbg_record_command(yyvsp[-1].sval);
-           free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-           }
- break;
- case 55:
- #line 220 "parser.y"
- {
-           bx_dbg_playback_command(yyvsp[-1].sval);
-           free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-           }
- break;
- case 56:
- #line 228 "parser.y"
- {
-           bx_dbg_modebp_command(yyvsp[-1].sval);
-           free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-           }
- break;
- case 57:
- #line 233 "parser.y"
- {
-           bx_dbg_modebp_command(0);
-           free(yyvsp[-1].sval);
-           }
- break;
- case 58:
- #line 241 "parser.y"
- {
-           bx_dbg_show_command(yyvsp[-1].sval);
-           free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-           }
- break;
- case 59:
- #line 246 "parser.y"
- {
-           bx_dbg_show_command(0);
-           free(yyvsp[-1].sval);
-           }
- break;
- case 60:
- #line 254 "parser.y"
- {
-         bx_dbg_ptime_command();
-         free(yyvsp[-1].sval);
- 	}
- break;
- case 61:
- #line 262 "parser.y"
- {
-         bx_dbg_trace_on_command();
-         free(yyvsp[-1].sval);
- 	}
- break;
- case 62:
- #line 270 "parser.y"
- {
-         bx_dbg_trace_off_command();
-         free(yyvsp[-1].sval);
- 	}
- break;
- case 63:
- #line 278 "parser.y"
- {
-           bx_dbg_print_stack_command(16);
-           free(yyvsp[-1].sval);
- 	  }
- break;
- case 64:
- #line 283 "parser.y"
- {
-           bx_dbg_print_stack_command(yyvsp[-1].uval);
-           free(yyvsp[-2].sval);
- 	  }
- break;
- case 65:
- #line 291 "parser.y"
- {
-           watchpoint_continue = 0;
- 	  fprintf(stderr, "Will stop on watch points\n");
-           free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-           }
- break;
- case 66:
- #line 297 "parser.y"
- {
-           watchpoint_continue = 1;
-           fprintf(stderr, "Will not stop on watch points (they will still be logged)\n");
-           free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-           }
- break;
- case 67:
- #line 303 "parser.y"
- {
-           bx_dbg_watch(-1, 0);
-           free(yyvsp[-1].sval);
-           }
- break;
- case 68:
- #line 308 "parser.y"
- {
-           bx_dbg_unwatch(-1, 0);
-           free(yyvsp[-1].sval);
-           }
- break;
- case 69:
- #line 313 "parser.y"
- {
-           bx_dbg_watch(1, yyvsp[-1].uval);
-           free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-           }
- break;
- case 70:
- #line 318 "parser.y"
- {
-           bx_dbg_unwatch(1, yyvsp[-1].uval);
-           free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-           }
- break;
- case 71:
- #line 323 "parser.y"
- {
-           bx_dbg_watch(0, yyvsp[-1].uval);
-           free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-           }
- break;
- case 72:
- #line 328 "parser.y"
- {
-           bx_dbg_unwatch(0, yyvsp[-1].uval);
-           free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-           }
- break;
- case 73:
- #line 336 "parser.y"
- {
- 	bx_dbg_symbol_command(yyvsp[-1].sval, 0, 0);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 74:
- #line 341 "parser.y"
- {
- 	bx_dbg_symbol_command(yyvsp[-2].sval, 0, yyvsp[-1].uval);
-         free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-         }
- break;
- case 75:
- #line 346 "parser.y"
- {
- 	bx_dbg_symbol_command(yyvsp[-2].sval, 1, yyvsp[-1].uval);
-         free(yyvsp[-4].sval); free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-         }
- break;
- case 76:
- #line 354 "parser.y"
- {
-         bx_dbg_where_command();
-         free(yyvsp[-1].sval);
-         }
- break;
- case 77:
- #line 362 "parser.y"
- {
-         bx_dbg_print_string_command(yyvsp[-1].uval);
-         free(yyvsp[-2].sval);
-         }
- break;
- case 78:
- #line 370 "parser.y"
- {
-         bx_dbg_continue_command();
-         free(yyvsp[-1].sval);
-         }
- break;
- case 79:
- #line 378 "parser.y"
- {
-         bx_dbg_stepN_command(1);
-         free(yyvsp[-1].sval);
-         }
- break;
- case 80:
- #line 383 "parser.y"
- {
-         bx_dbg_stepN_command(yyvsp[-1].uval);
-         free(yyvsp[-2].sval);
-         }
- break;
- case 81:
- #line 391 "parser.y"
- {
-         bx_dbg_set_command(yyvsp[-3].sval, yyvsp[-2].sval, yyvsp[-1].sval);
-         free(yyvsp[-3].sval); free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 82:
- #line 396 "parser.y"
- {
-         bx_dbg_set_command(yyvsp[-3].sval, yyvsp[-2].sval, yyvsp[-1].sval);
-         free(yyvsp[-3].sval); free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 83:
- #line 401 "parser.y"
- {
-         bx_dbg_set_symbol_command(yyvsp[-3].sval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval); free(yyvsp[-3].sval);
-         }
- break;
- case 84:
- #line 409 "parser.y"
- {
-         bx_dbg_vbreakpoint_command(0, 0, 0);
-         free(yyvsp[-1].sval);
-         }
- break;
- case 85:
- #line 414 "parser.y"
- {
-         bx_dbg_vbreakpoint_command(1, yyvsp[-3].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval);
-         }
- break;
- case 86:
- #line 419 "parser.y"
- {
-         bx_dbg_lbreakpoint_command(0, 0);
-         free(yyvsp[-1].sval);
-         }
- break;
- case 87:
- #line 424 "parser.y"
- {
-         bx_dbg_lbreakpoint_command(1, yyvsp[-1].uval);
-         free(yyvsp[-2].sval);
-         }
- break;
- case 88:
- #line 429 "parser.y"
- {
-         bx_dbg_pbreakpoint_command(0, 0);
-         free(yyvsp[-1].sval);
-         }
- break;
- case 89:
- #line 434 "parser.y"
- {
-         bx_dbg_pbreakpoint_command(1, yyvsp[-1].uval);
-         free(yyvsp[-2].sval);
-         }
- break;
- case 90:
- #line 439 "parser.y"
- {
-         bx_dbg_pbreakpoint_command(1, yyvsp[-1].uval);
-         free(yyvsp[-3].sval);
-         }
- break;
- case 91:
- #line 447 "parser.y"
- {
-         bx_dbg_info_bpoints_command();
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 92:
- #line 452 "parser.y"
- {
-         bx_dbg_info_program_command();
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 93:
- #line 457 "parser.y"
- {
-         bx_dbg_info_registers_command();
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 94:
- #line 462 "parser.y"
- {
-         bx_dbg_info_dirty_command();
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 95:
- #line 470 "parser.y"
- {
-         bx_dbg_dump_cpu_command();
-         free(yyvsp[-1].sval);
-         }
- break;
- case 96:
- #line 478 "parser.y"
- {
-         bx_dbg_del_breakpoint_command(yyvsp[-1].uval);
-         free(yyvsp[-2].sval);
-         }
- break;
- case 97:
- #line 486 "parser.y"
- {
- 	  bx_dbg_quit_command();
- 	  free(yyvsp[-1].sval);
-         }
- break;
- case 98:
- #line 495 "parser.y"
- {
-         bx_dbg_examine_command(yyvsp[-3].sval, yyvsp[-2].sval,1, yyvsp[-1].uval,1, 0);
- #if BX_NUM_SIMULATORS >= 2
-         bx_dbg_examine_command(yyvsp[-3].sval, yyvsp[-2].sval,1, yyvsp[-1].uval,1, 1);
- #endif
-         free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-         }
- break;
- case 99:
- #line 503 "parser.y"
- {
-         bx_dbg_examine_command(yyvsp[-2].sval, yyvsp[-1].sval,1, 0,0, 0);
- #if BX_NUM_SIMULATORS >= 2
-         bx_dbg_examine_command(yyvsp[-2].sval, yyvsp[-1].sval,1, 0,0, 1);
- #endif
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 100:
- #line 511 "parser.y"
- {
-         /*FIXME HanishKVC This method of hunting thro all the */
-         /*      simulators may be better than using 2 calls if */
-         /*      BX_NUM_SIMULATORS greater than or equal to 2 as */
-         /*      done for other cases of BX_TOKEN_EXAMINE*/
-         int iCurSim; 
-         for(iCurSim = 0; iCurSim < BX_NUM_SIMULATORS; iCurSim++)
-         {
-           bx_dbg_examine_command(yyvsp[-2].sval, NULL,0, yyvsp[-1].uval,1, iCurSim);
-         }
-         free(yyvsp[-2].sval);
-         }
- break;
- case 101:
- #line 524 "parser.y"
- {
-         /*FIXME HanishKVC This method of hunting thro all the */
-         /*      simulators may be better than using 2 calls if */
-         /*      BX_NUM_SIMULATORS greater than or equal to 2 as */
-         /*      done for other cases of BX_TOKEN_EXAMINE*/
-         int iCurSim; 
-         for(iCurSim = 0; iCurSim < BX_NUM_SIMULATORS; iCurSim++)
-         {
-           bx_dbg_examine_command(yyvsp[-1].sval, NULL,0, 0,0, iCurSim);
-         }
-         free(yyvsp[-1].sval);
-         }
- break;
- case 102:
- #line 540 "parser.y"
- {
-         bx_dbg_setpmem_command(yyvsp[-3].uval, yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval);
-         }
- break;
- case 103:
- #line 548 "parser.y"
- {
-         bx_dbg_query_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 104:
- #line 556 "parser.y"
- {
-         bx_dbg_take_command(yyvsp[-1].sval, 1);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 105:
- #line 561 "parser.y"
- {
-         bx_dbg_take_command(yyvsp[-2].sval, yyvsp[-1].uval);
-         free(yyvsp[-3].sval); free(yyvsp[-2].sval);
-         }
- break;
- case 106:
- #line 566 "parser.y"
- {
-         bx_dbg_take_command(yyvsp[-1].sval, 1);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 107:
- #line 574 "parser.y"
- {
-         bx_dbg_set_cpu_command();
-         free(yyvsp[-1].sval);
-         }
- break;
- case 108:
- #line 582 "parser.y"
- {
-         bx_dbg_disassemble_command(yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-3].sval);
-         }
- break;
- case 109:
- #line 590 "parser.y"
- {
-         bx_dbg_instrument_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 110:
- #line 595 "parser.y"
- {
-         bx_dbg_instrument_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 111:
- #line 600 "parser.y"
- {
-         bx_dbg_instrument_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 112:
- #line 605 "parser.y"
- {
-         bx_dbg_instrument_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 113:
- #line 613 "parser.y"
- {
-         bx_dbg_loader_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 114:
- #line 621 "parser.y"
- {
-         bx_dbg_doit_command(yyvsp[-1].uval);
-         free(yyvsp[-2].sval);
-         }
- break;
- case 115:
- #line 629 "parser.y"
- {
-         bx_dbg_crc_command(yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-3].sval);
-         }
- break;
- case 116:
- #line 637 "parser.y"
- {
-         bx_dbg_maths_command(yyvsp[-3].sval, yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval); free(yyvsp[-3].sval);
-         }
- break;
- case 117:
- #line 642 "parser.y"
- {
-         bx_dbg_maths_command(yyvsp[-3].sval, yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval); free(yyvsp[-3].sval);
-         }
- break;
- case 118:
- #line 647 "parser.y"
- {
-         bx_dbg_maths_command(yyvsp[-3].sval, yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval); free(yyvsp[-3].sval);
-         }
- break;
- case 119:
- #line 652 "parser.y"
- {
-         bx_dbg_maths_command(yyvsp[-3].sval, yyvsp[-2].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval); free(yyvsp[-3].sval);
-         }
- break;
- case 120:
- #line 657 "parser.y"
- {
-         bx_dbg_maths_expression_command(yyvsp[-1].sval);
-         free(yyvsp[-2].sval); free(yyvsp[-1].sval);
-         }
- break;
- case 121:
- #line 664 "parser.y"
- {
-         bx_dbg_v2l_command(yyvsp[-3].uval, yyvsp[-1].uval);
-         free(yyvsp[-4].sval);
-         }
- break;
- #line 1254 "y.tab.c"
-     }
-     yyssp -= yym;
-     yystate = *yyssp;
-     yyvsp -= yym;
-     yym = yylhs[yyn];
-     if (yystate == 0 && yym == 0)
-     {
- #if YYDEBUG
-         if (yydebug)
-             printf("%sdebug: after reduction, shifting from state 0 to\
-  state %d\n", YYPREFIX, YYFINAL);
- #endif
-         yystate = YYFINAL;
-         *++yyssp = YYFINAL;
-         *++yyvsp = yyval;
-         if (yychar < 0)
-         {
-             if ((yychar = yylex()) < 0) yychar = 0;
- #if YYDEBUG
-             if (yydebug)
-             {
-                 yys = 0;
-                 if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
-                 if (!yys) yys = "illegal-symbol";
-                 printf("%sdebug: state %d, reading %d (%s)\n",
-                         YYPREFIX, YYFINAL, yychar, yys);
-             }
- #endif
-         }
-         if (yychar == 0) goto yyaccept;
-         goto yyloop;
-     }
-     if ((yyn = yygindex[yym]) && (yyn += yystate) >= 0 &&
-             yyn <= YYTABLESIZE && yycheck[yyn] == yystate)
-         yystate = yytable[yyn];
-     else
-         yystate = yydgoto[yym];
- #if YYDEBUG
-     if (yydebug)
-         printf("%sdebug: after reduction, shifting from state %d \
- to state %d\n", YYPREFIX, *yyssp, yystate);
- #endif
-     if (yyssp >= yyss + yystacksize - 1)
-     {
-         goto yyoverflow;
-     }
-     *++yyssp = yystate;
-     *++yyvsp = yyval;
-     goto yyloop;
- yyoverflow:
-     yyerror("yacc stack overflow");
- yyabort:
-     return (1);
- yyaccept:
-     return (0);
- }
--- 0 ----
diff -crN clean-bochs-2000-03-25/docs-html/Makefile.am bochs-goswin/docs-html/Makefile.am
*** clean-bochs-2000-03-25/docs-html/Makefile.am	Wed Dec 31 19:00:00 1969
--- bochs-goswin/docs-html/Makefile.am	Mon Oct  9 23:17:04 2000
***************
*** 0 ****
--- 1,30 ----
+ man_MANS = bochs.1
+ EXTRA_DIST = $(man_MANS)
+ 
+ pkgdata_DATA =	00README \
+ 		3rdparty.license.html \
+ 		DOS.html \
+ 		Linux.html \
+ 		Minix.html \
+ 		OldWindows95.html \
+ 		Windows31.html \
+ 		Windows95.html \
+ 		changelog.html \
+ 		codingguidelines.html \
+ 		configure.html \
+ 		construction.html \
+ 		cosimulation.html \
+ 		debugger.html \
+ 		developers.html \
+ 		faq.html \
+ 		features.html \
+ 		fpu.html \
+ 		guestNT.html \
+ 		index.html \
+ 		install.html \
+ 		instrumentation.html \
+ 		mtools.html \
+ 		sound.html \
+ 		undercon.gif \
+ 		whatisbochs.html \
+ 		win32.html \
diff -crN clean-bochs-2000-03-25/docs-html/bochs.1 bochs-goswin/docs-html/bochs.1
*** clean-bochs-2000-03-25/docs-html/bochs.1	Wed Dec 31 19:00:00 1969
--- bochs-goswin/docs-html/bochs.1	Mon Oct  9 23:17:04 2000
***************
*** 0 ****
--- 1,37 ----
+ .TH BOCHS 1
+ .SH NAME
+ Bochs x86 PC emulator
+ .SH SYNOPSIS
+ .B bochs
+ .I "[options] ..."
+ .SH "DESCRIPTION"
+ .BR Bochs
+ is a portable x86 PC emulation software package that emulates
+ enough of the x86 CPU, related AT hardware, and BIOS to run Linux,
+ BSD, Minix 2.0, and other OS's, all on your workstation.
+ 
+ Bochs was commercial software until MandrakeSoft bought it for Linux
+ and made it Free Software on March 22nd 2000 under the
+ .BR LPGL .
+ 
+ The main documentation is provided as html files and should be in
+ .BR /usr/share/doc/bochs/doc-html/
+ but has not (yet) been updated to the license change.
+ 
+ .SH OPTIONS
+ Are there any options? I'm to lazy to check, so look at the html doku
+ and tell me.
+ 
+ .SH BUGS
+ The last time I tried the
+ .B Debian Potato Boot-floppies
+ did not work with Bochs because Bochs can't handle some new feature of
+ the kernel. You might succeed when using a different kernel, but you
+ might also fail. If you find the exact kernel option that makes bochs
+ fail please tell me.
+ 
+ .SH AUTHOR
+ This manual page was written by Goswin Brederlow
+ <goswin.brederlow@student.uni-tuebingen.de>, for the Debian GNU/Linux
+ system. I've taken extracts from the html dokumentation and changed
+ some to avoid some trademarks.
diff -crN clean-bochs-2000-03-25/docs-html/bochs.bin.1 bochs-goswin/docs-html/bochs.bin.1
*** clean-bochs-2000-03-25/docs-html/bochs.bin.1	Wed Dec 31 19:00:00 1969
--- bochs-goswin/docs-html/bochs.bin.1	Mon Oct  9 23:17:04 2000
***************
*** 0 ****
--- 1,37 ----
+ .TH BOCHS 1
+ .SH NAME
+ Bochs x86 PC emulator
+ .SH SYNOPSIS
+ .B bochs
+ .I "[options] ..."
+ .SH "DESCRIPTION"
+ .BR Bochs
+ is a portable x86 PC emulation software package that emulates
+ enough of the x86 CPU, related AT hardware, and BIOS to run Linux,
+ BSD, Minix 2.0, and other OS's, all on your workstation.
+ 
+ Bochs was commercial software until MandrakeSoft bought it for Linux
+ and made it Free Software on March 22nd 2000 under the
+ .BR LPGL .
+ 
+ The main documentation is provided as html files and should be in
+ .BR /usr/share/doc/bochs/doc-html/
+ but has not (yet) been updated to the license change.
+ 
+ .SH OPTIONS
+ Are there any options? I'm to lazy to check, so look at the html doku
+ and tell me.
+ 
+ .SH BUGS
+ The last time I tried the
+ .B Debian Potato Boot-floppies
+ did not work with Bochs because Bochs can't handle some new feature of
+ the kernel. You might succeed when using a different kernel, but you
+ might also fail. If you find the exact kernel option that makes bochs
+ fail please tell me.
+ 
+ .SH AUTHOR
+ This manual page was written by Goswin Brederlow
+ <goswin.brederlow@student.uni-tuebingen.de>, for the Debian GNU/Linux
+ system. I've taken extracts from the html dokumentation and changed
+ some to avoid some trademarks.
diff -crN clean-bochs-2000-03-25/font/Makefile.am bochs-goswin/font/Makefile.am
*** clean-bochs-2000-03-25/font/Makefile.am	Wed Dec 31 19:00:00 1969
--- bochs-goswin/font/Makefile.am	Mon Oct  9 22:53:32 2000
***************
*** 0 ****
--- 1,6 ----
+ pkgdata_DATA = vga.pcf hercules.bdf fonts.dir
+ 
+ CLEANFILES = fonts.dir
+ 
+ fonts.dir:
+ 	mkfontdir
diff -crN clean-bochs-2000-03-25/fpu/Makefile.in bochs-goswin/fpu/Makefile.in
*** clean-bochs-2000-03-25/fpu/Makefile.in	Sat Mar 25 22:50:11 2000
--- bochs-goswin/fpu/Makefile.in	Mon Oct  9 22:53:32 2000
***************
*** 86,91 ****
--- 86,93 ----
  .c.o:
  	$(CC) @DASH@c $(CFLAGS) $(FPU_FLAGS) $(BX_INCDIRS) $< @OFP@$@
  
+ all: libfpu.a
+ install:
  
  libfpu.a: $(OBJS)
  	@RMCOMMAND@ libfpu.a
***************
*** 98,102 ****
--- 100,105 ----
  	@RMCOMMAND@ *.o
  	@RMCOMMAND@ *.a
  
+ distclean: dist-clean
  dist-clean: clean
  	@RMCOMMAND@ Makefile
diff -crN clean-bochs-2000-03-25/gui/Makefile.in bochs-goswin/gui/Makefile.in
*** clean-bochs-2000-03-25/gui/Makefile.in	Sat Mar 25 22:48:51 2000
--- bochs-goswin/gui/Makefile.in	Wed Dec 31 19:00:00 1969
***************
*** 1,87 ****
- # Copyright (C) 2000  MandrakeSoft S.A.
- #
- #   MandrakeSoft S.A.
- #   43, rue d'Aboukir
- #   75002 Paris - France
- #   http://www.linux-mandrake.com/
- #   http://www.mandrakesoft.com/
- #
- # This library is free software; you can redistribute it and/or
- # modify it under the terms of the GNU Lesser General Public
- # License as published by the Free Software Foundation; either
- # version 2 of the License, or (at your option) any later version.
- #
- # This library is distributed in the hope that it will be useful,
- # but WITHOUT ANY WARRANTY; without even the implied warranty of
- # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- # Lesser General Public License for more details.
- #
- # You should have received a copy of the GNU Lesser General Public
- # License along with this library; if not, write to the Free Software
- # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
- 
- # Makefile for the gui component of bochs
- 
- 
- @SUFFIX_LINE@
- 
- 
- SHELL = /bin/sh
- 
- @SET_MAKE@
- 
- CXX = @CXX@
- CXXFLAGS = @CXXFLAGS@
- 
- LDFLAGS = @LDFLAGS@
- LIBS = @LIBS@
- X_CFLAGS = @X_CFLAGS@
- BEOS_CFLAGS = -Wno-multichar
- RANLIB = @RANLIB@
- 
- GUI_OBJS_X11  = x.o
- GUI_OBJS_BEOS = beos.o
- GUI_OBJS_WIN32 = win32.o
- GUI_OBJS_MACOS = macintosh.o
- GUI_OBJS_NOGUI = nogui.o
- GUI_OBJS = gui.o @GUI_OBJS@
- 
- BX_INCDIRS = -I.. -I../iodev -I../@INSTRUMENT_DIR@
- LOCAL_CXXFLAGS =
- 
- #
- # -------- end configurable options --------------------------
- #
- 
- BX_GUI_OBJS = $(GUI_OBJS)
- 
- 
- BX_INCLUDES = iodev.h
- 
- .@CPP_SUFFIX@.o:
- 	$(CXX) @DASH@c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
- 
- 
- 
- libgui.a: $(BX_GUI_OBJS)
- 	@RMCOMMAND@ libgui.a
- 	@MAKELIB@ $(BX_GUI_OBJS)
- 	$(RANLIB) libgui.a
- 
- beos.o: beos.@CPP_SUFFIX@
- 	$(CXX) -c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(BX_INCDIRS) $(BEOS_CFLAGS) beos.@CPP_SUFFIX@
- 
- x.o: x.@CPP_SUFFIX@
- 	$(CXX) -c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(BX_INCDIRS) $(X_CFLAGS) x.@CPP_SUFFIX@
- 
- x.cc: gui.h
- 
- beos.cc: gui.h
- 
- 
- clean:
- 	@RMCOMMAND@ *.o
- 	@RMCOMMAND@ *.a
- 
- dist-clean: clean
- 	@RMCOMMAND@ Makefile
--- 0 ----
diff -crN clean-bochs-2000-03-25/gui/x.cc bochs-goswin/gui/x.cc
*** clean-bochs-2000-03-25/gui/x.cc	Sat Mar 25 22:43:36 2000
--- bochs-goswin/gui/x.cc	Mon Oct  9 23:10:07 2000
***************
*** 20,25 ****
--- 20,26 ----
  //  License along with this library; if not, write to the Free Software
  //  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
  
+ #include "bochs.h"
  
  extern "C" {
  #include <X11/Xlib.h>
***************
*** 29,35 ****
  #include <X11/keysym.h>
  }
  
- #include "bochs.h"
  #include "icon_bochs.h"
  
  
--- 30,35 ----
diff -crN clean-bochs-2000-03-25/instrument/Makefile.am bochs-goswin/instrument/Makefile.am
*** clean-bochs-2000-03-25/instrument/Makefile.am	Wed Dec 31 19:00:00 1969
--- bochs-goswin/instrument/Makefile.am	Mon Oct  9 23:21:10 2000
***************
*** 0 ****
--- 1 ----
+ SUBDIRS = stubs
diff -crN clean-bochs-2000-03-25/instrument/stubs/Makefile.in bochs-goswin/instrument/stubs/Makefile.in
*** clean-bochs-2000-03-25/instrument/stubs/Makefile.in	Sat Mar 25 22:49:27 2000
--- bochs-goswin/instrument/stubs/Makefile.in	Mon Oct  9 23:24:55 2000
***************
*** 57,63 ****
  .c.o:
  	$(CC) -c $(CFLAGS) $(BX_INCDIRS) @CFP@$< @OFP@$@
  
! 
  
  libinstrument.a: $(BX_OBJS)
  	@RMCOMMAND@ libinstrument.a
--- 57,63 ----
  .c.o:
  	$(CC) -c $(CFLAGS) $(BX_INCDIRS) @CFP@$< @OFP@$@
  
! all:
  
  libinstrument.a: $(BX_OBJS)
  	@RMCOMMAND@ libinstrument.a
***************
*** 66,75 ****
--- 66,77 ----
  
  $(BX_OBJS): $(BX_INCLUDES)
  
+ install:
  
  clean:
  	@RMCOMMAND@ *.o
  	@RMCOMMAND@ *.a
  
+ distclean: dist-clean
  dist-clean: clean
  	@RMCOMMAND@ Makefile
diff -crN clean-bochs-2000-03-25/iodev/Makefile.in bochs-goswin/iodev/Makefile.in
*** clean-bochs-2000-03-25/iodev/Makefile.in	Sat Mar 25 22:49:40 2000
--- bochs-goswin/iodev/Makefile.in	Mon Oct  9 23:04:59 2000
***************
*** 79,85 ****
  .@CPP_SUFFIX@.o:
  	$(CXX) @DASH@c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
  
! 
  
  libiodev.a: $(BX_OBJS)
  	@RMCOMMAND@ libiodev.a
--- 79,86 ----
  .@CPP_SUFFIX@.o:
  	$(CXX) @DASH@c $(CXXFLAGS) $(LOCAL_CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
  
! all: libiodev.a
! install:
  
  libiodev.a: $(BX_OBJS)
  	@RMCOMMAND@ libiodev.a
***************
*** 93,97 ****
--- 94,99 ----
  	@RMCOMMAND@ *.o
  	@RMCOMMAND@ *.a
  
+ distclean: dist-clean
  dist-clean: clean
  	@RMCOMMAND@ Makefile
diff -crN clean-bochs-2000-03-25/iodev/floppy.cc bochs-goswin/iodev/floppy.cc
*** clean-bochs-2000-03-25/iodev/floppy.cc	Sat Mar 25 22:28:49 2000
--- bochs-goswin/iodev/floppy.cc	Mon Oct  9 23:04:59 2000
***************
*** 1162,1174 ****
    // open media file (image file or device)
  #ifdef macintosh
    media->fd = 0;
!   if (strcmp(bx_options.floppya.path, SuperDrive))
  #endif
      media->fd = open(path, O_RDWR
  #ifdef O_BINARY
                     | O_BINARY
  #endif
                    );
  
    if (media->fd < 0) {
      //perror("floppy open of a:\n");
--- 1162,1184 ----
    // open media file (image file or device)
  #ifdef macintosh
    media->fd = 0;
!   if (strcmp(bx_options.floppya.path, SuperDrive)) {
  #endif
      media->fd = open(path, O_RDWR
  #ifdef O_BINARY
                     | O_BINARY
  #endif
                    );
+     if (media->fd < 0) {
+       media->fd = open(path, O_RDONLY
+ #ifdef O_BINARY
+ 		       | O_BINARY
+ #endif
+ 	      );
+     }
+ #ifdef macintosh
+   }
+ #endif
  
    if (media->fd < 0) {
      //perror("floppy open of a:\n");
diff -crN clean-bochs-2000-03-25/iodev/harddrv.cc bochs-goswin/iodev/harddrv.cc
*** clean-bochs-2000-03-25/iodev/harddrv.cc	Sat Mar 25 22:28:49 2000
--- bochs-goswin/iodev/harddrv.cc	Mon Oct  9 23:04:59 2000
***************
*** 23,29 ****
  
  #include "bochs.h"
  
- 
  #define INDEX_PULSE_CYCLE 10
  
  #define PACKET_SIZE 12
--- 23,28 ----
***************
*** 310,317 ****
                BX_SELECTED_CONTROLLER.status.drq = 0;
                }
              else { /* read next one into controller buffer */
!               unsigned long logical_sector;
!               int ret;
  
                BX_SELECTED_CONTROLLER.status.drq = 1;
                BX_SELECTED_CONTROLLER.status.seek_complete = 1;
--- 309,316 ----
                BX_SELECTED_CONTROLLER.status.drq = 0;
                }
              else { /* read next one into controller buffer */
! 	      off64_t /* unsigned long */ logical_sector;
!               off64_t /* int */ ret;
  
                BX_SELECTED_CONTROLLER.status.drq = 1;
                BX_SELECTED_CONTROLLER.status.seek_complete = 1;
***************
*** 321,327 ****
  	      ret = BX_SELECTED_HD.hard_drive->lseek(logical_sector * 512, SEEK_SET);
  
                if (ret < 0)
!                 bx_panic("disk: could lseek() hard drive image file\n");
  	      ret = BX_SELECTED_HD.hard_drive->read((bx_ptr_t) BX_SELECTED_CONTROLLER.buffer, 512);
                if (ret < 512) {
                  bx_printf("logical sector was %u\n", (unsigned) logical_sector);
--- 320,326 ----
  	      ret = BX_SELECTED_HD.hard_drive->lseek(logical_sector * 512, SEEK_SET);
  
                if (ret < 0)
!                 bx_panic("disk1: could lseek() hard drive image file\n");
  	      ret = BX_SELECTED_HD.hard_drive->read((bx_ptr_t) BX_SELECTED_CONTROLLER.buffer, 512);
                if (ret < 512) {
                  bx_printf("logical sector was %u\n", (unsigned) logical_sector);
***************
*** 601,608 ****
  #else
    UNUSED(this_ptr);
  #endif  // !BX_USE_HD_SMF
!   unsigned long logical_sector;
!   int ret;
    Boolean prev_control_reset;
  
    if (io_len==2 && address!=0x1f0) {
--- 600,607 ----
  #else
    UNUSED(this_ptr);
  #endif  // !BX_USE_HD_SMF
!   off64_t /* unsigned long */ logical_sector;
!   off64_t /* int */ ret;
    Boolean prev_control_reset;
  
    if (io_len==2 && address!=0x1f0) {
***************
*** 651,664 ****
  
            /* if buffer completely writtten */
            if (BX_SELECTED_CONTROLLER.buffer_index >= 512) {
!             unsigned long logical_sector;
!             int ret;
  
  	    logical_sector = calculate_logical_address();
  
  	    ret = BX_SELECTED_HD.hard_drive->lseek(logical_sector * 512, SEEK_SET);
              if (ret < 0)
!               bx_panic("disk: could lseek() hard drive image file\n");
  
  	    ret = BX_SELECTED_HD.hard_drive->write((bx_ptr_t) BX_SELECTED_CONTROLLER.buffer, 512);
              if (ret < 512)
--- 650,663 ----
  
            /* if buffer completely writtten */
            if (BX_SELECTED_CONTROLLER.buffer_index >= 512) {
! 	    off64_t /* unsigned long */ logical_sector;
!             off64_t /* int */ ret;
  
  	    logical_sector = calculate_logical_address();
  
  	    ret = BX_SELECTED_HD.hard_drive->lseek(logical_sector * 512, SEEK_SET);
              if (ret < 0)
!               bx_panic("disk2: could lseek() hard drive image file\n");
  
  	    ret = BX_SELECTED_HD.hard_drive->write((bx_ptr_t) BX_SELECTED_CONTROLLER.buffer, 512);
              if (ret < 512)
***************
*** 1278,1284 ****
  	  ret = BX_SELECTED_HD.hard_drive->lseek(logical_sector * 512, SEEK_SET);
  
            if (ret < 0) {
!             bx_panic("disk: could not lseek() hard drive image file\n");
              }
  
  	  ret = BX_SELECTED_HD.hard_drive->read((bx_ptr_t) BX_SELECTED_CONTROLLER.buffer, 512);
--- 1277,1283 ----
  	  ret = BX_SELECTED_HD.hard_drive->lseek(logical_sector * 512, SEEK_SET);
  
            if (ret < 0) {
!             bx_panic("disk3: could not lseek() hard drive image file\n");
              }
  
  	  ret = BX_SELECTED_HD.hard_drive->read((bx_ptr_t) BX_SELECTED_CONTROLLER.buffer, 512);
***************
*** 1621,1635 ****
  
  #define assert(i) do { if (!((i))) bx_panic("assertion on line %d", __LINE__); } while (0)
  
!   Bit32u
  bx_hard_drive_c::calculate_logical_address()
  {
!       Bit32u logical_sector;
  
        if (BX_SELECTED_CONTROLLER.lba_mode)
! 	    logical_sector = ((Bit32u)BX_SELECTED_CONTROLLER.head_no) << 24 |
! 		  ((Bit32u)BX_SELECTED_CONTROLLER.cylinder_no) << 8 |
! 		  (Bit32u)BX_SELECTED_CONTROLLER.sector_no;
        else
  	    logical_sector = (BX_SELECTED_CONTROLLER.cylinder_no * BX_SELECTED_HD.hard_drive->heads *
  			      BX_SELECTED_HD.hard_drive->sectors) +
--- 1620,1634 ----
  
  #define assert(i) do { if (!((i))) bx_panic("assertion on line %d", __LINE__); } while (0)
  
!   off64_t
  bx_hard_drive_c::calculate_logical_address()
  {
!       off64_t logical_sector;
  
        if (BX_SELECTED_CONTROLLER.lba_mode)
! 	    logical_sector = ((off64_t)BX_SELECTED_CONTROLLER.head_no) << 24 |
! 		  ((off64_t)BX_SELECTED_CONTROLLER.cylinder_no) << 8 |
! 		  (off64_t)BX_SELECTED_CONTROLLER.sector_no;
        else
  	    logical_sector = (BX_SELECTED_CONTROLLER.cylinder_no * BX_SELECTED_HD.hard_drive->heads *
  			      BX_SELECTED_HD.hard_drive->sectors) +
***************
*** 1649,1655 ****
        BX_SELECTED_CONTROLLER.sector_count--;
  
        if (BX_SELECTED_CONTROLLER.lba_mode) {
! 	    Bit32u current_address = calculate_logical_address();
  	    current_address++;
  	    BX_SELECTED_CONTROLLER.head_no = (current_address >> 24) & 0xf;
  	    BX_SELECTED_CONTROLLER.cylinder_no = (current_address >> 8) & 0xffff;
--- 1648,1654 ----
        BX_SELECTED_CONTROLLER.sector_count--;
  
        if (BX_SELECTED_CONTROLLER.lba_mode) {
! 	    off64_t current_address = calculate_logical_address();
  	    current_address++;
  	    BX_SELECTED_CONTROLLER.head_no = (current_address >> 24) & 0xf;
  	    BX_SELECTED_CONTROLLER.cylinder_no = (current_address >> 8) & 0xffff;
***************
*** 2276,2284 ****
        }
  }
  
! off_t default_image_t::lseek (off_t offset, int whence)
  {
!       return ::lseek(fd, offset, whence);
  }
  
  ssize_t default_image_t::read (void* buf, size_t count)
--- 2275,2289 ----
        }
  }
  
! off64_t default_image_t::lseek (off64_t offset, int whence)
  {
!       off64_t res = ::lseek64(fd, offset, whence);
! 
!       if (res == off64_t(-1)) {
! 	      bx_printf("lseek(%ld, %d) failed with %ld\n",
! 			offset, whence, res);
!       }
!       return res;
  }
  
  ssize_t default_image_t::read (void* buf, size_t count)
diff -crN clean-bochs-2000-03-25/iodev/harddrv.h bochs-goswin/iodev/harddrv.h
*** clean-bochs-2000-03-25/iodev/harddrv.h	Sat Mar 25 22:35:31 2000
--- bochs-goswin/iodev/harddrv.h	Mon Oct  9 23:04:59 2000
***************
*** 20,26 ****
  //  License along with this library; if not, write to the Free Software
  //  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
  
- 
  typedef enum _sense {
        SENSE_NONE = 0, SENSE_NOT_READY = 2, SENSE_ILLEGAL_REQUEST = 5
  } sense_t;
--- 20,25 ----
***************
*** 45,51 ****
  
        // Position ourselves. Return the resulting offset from the
        // beginning of the file.
!       virtual off_t lseek (off_t offset, int whence) = 0;
  
        // Read count bytes to the buffer buf. Return the number of
        // bytes read (count).
--- 44,50 ----
  
        // Position ourselves. Return the resulting offset from the
        // beginning of the file.
!       virtual off64_t lseek (off64_t offset, int whence) = 0;
  
        // Read count bytes to the buffer buf. Return the number of
        // bytes read (count).
***************
*** 71,77 ****
  
        // Position ourselves. Return the resulting offset from the
        // beginning of the file.
!       off_t lseek (off_t offset, int whence);
  
        // Read count bytes to the buffer buf. Return the number of
        // bytes read (count).
--- 70,76 ----
  
        // Position ourselves. Return the resulting offset from the
        // beginning of the file.
!       off64_t lseek (off64_t offset, int whence);
  
        // Read count bytes to the buffer buf. Return the number of
        // bytes read (count).
***************
*** 219,225 ****
  
  private:
  
!   BX_HD_SMF Bit32u calculate_logical_address();
    BX_HD_SMF void increment_address();
    BX_HD_SMF void identify_drive(unsigned drive);
    BX_HD_SMF void identify_ATAPI_drive(unsigned drive);
--- 218,224 ----
  
  private:
  
!   BX_HD_SMF off64_t calculate_logical_address();
    BX_HD_SMF void increment_address();
    BX_HD_SMF void identify_drive(unsigned drive);
    BX_HD_SMF void identify_ATAPI_drive(unsigned drive);
diff -crN clean-bochs-2000-03-25/iodev/keyboard.cc bochs-goswin/iodev/keyboard.cc
*** clean-bochs-2000-03-25/iodev/keyboard.cc	Sat Mar 25 22:28:49 2000
--- bochs-goswin/iodev/keyboard.cc	Mon Oct  9 23:04:59 2000
***************
*** 505,511 ****
            break;
  
          case 0xd3: // write mouse output buffer
!           bx_panic("KBD: io write 0x64: command = 0xD3(write mouse outb)\n");
            BX_KEY_THIS s.kbd_controller.expecting_port60h = 1;
            break;
  
--- 505,512 ----
            break;
  
          case 0xd3: // write mouse output buffer
! 	  //bx_panic("KBD: io write 0x64: command = 0xD3(write mouse outb)\n");
!           bx_printf("KBD: io write 0x64: command = 0xD3(write mouse outb)\n");
            BX_KEY_THIS s.kbd_controller.expecting_port60h = 1;
            break;
  
diff -crN clean-bochs-2000-03-25/main.cc bochs-goswin/main.cc
*** clean-bochs-2000-03-25/main.cc	Sat Mar 25 22:23:20 2000
--- bochs-goswin/main.cc	Mon Oct  9 23:02:47 2000
***************
*** 366,376 ****
  
      fd = fopen(bochsrc_path, "r");
      if (!fd) {
!       fprintf(stderr, "could not open file '%s'.\n", bochsrc_path);
!       // no file used, nothing left to do.  This is now valid,
!       // as you can pass everything on the command line.
!       return;
        }
      else
        bx_printf("using rc file '%s'.\n", bochsrc_path);
      }
--- 366,386 ----
  
      fd = fopen(bochsrc_path, "r");
      if (!fd) {
!       fprintf(stderr, "could not open file '%s', trying /etc/bochsrc.\n",
! 	      bochsrc_path);
! 
!       strcpy(bochsrc_path, "/etc/bochsrc");
!       
!       fd = fopen(bochsrc_path, "r");
!       if (!fd) {
! 	fprintf(stderr, "could not open file '%s'.\n", bochsrc_path);
! 	// no file used, nothing left to do.  This is now valid,
! 	// as you can pass everything on the command line.
! 	return;
        }
+       else
+ 	bx_printf("using rc file '%s'.\n", bochsrc_path);      
+     }
      else
        bx_printf("using rc file '%s'.\n", bochsrc_path);
      }
***************
*** 450,456 ****
    if (params[0][0] == '#') return; /* comment */
    else if (!strcmp(params[0], "floppya")) {
      for (i=1; i<num_params; i++) {
!       if (!strncmp(params[i], "1_44=", 5)) {
          strcpy(bx_options.floppya.path, &params[i][5]);
          bx_options.floppya.type = BX_FLOPPY_1_44;
          }
--- 460,470 ----
    if (params[0][0] == '#') return; /* comment */
    else if (!strcmp(params[0], "floppya")) {
      for (i=1; i<num_params; i++) {
!       if (!strncmp(params[i], "2_88=", 5)) {
!         strcpy(bx_options.floppya.path, &params[i][5]);
!         bx_options.floppya.type = BX_FLOPPY_2_88;
!         }
!       else if (!strncmp(params[i], "1_44=", 5)) {
          strcpy(bx_options.floppya.path, &params[i][5]);
          bx_options.floppya.type = BX_FLOPPY_1_44;
          }
diff -crN clean-bochs-2000-03-25/memory/Makefile.in bochs-goswin/memory/Makefile.in
*** clean-bochs-2000-03-25/memory/Makefile.in	Sat Mar 25 22:49:50 2000
--- bochs-goswin/memory/Makefile.in	Mon Oct  9 23:10:07 2000
***************
*** 49,54 ****
--- 49,56 ----
  .@CPP_SUFFIX@.o:
  	$(CXX) @DASH@c $(CXXFLAGS) $(BX_INCDIRS) @CXXFP@$< @OFP@$@
  
+ all: libmemory.a
+ install:
  
  libmemory.a: $(BX_OBJS)
  	@RMCOMMAND@ libmemory.a
***************
*** 61,65 ****
--- 63,68 ----
  	@RMCOMMAND@ *.o
  	@RMCOMMAND@ *.a
  
+ distclean: dist-clean
  dist-clean: clean
  	@RMCOMMAND@ Makefile
diff -crN clean-bochs-2000-03-25/misc/Makefile.in bochs-goswin/misc/Makefile.in
*** clean-bochs-2000-03-25/misc/Makefile.in	Sat Mar 25 22:49:55 2000
--- bochs-goswin/misc/Makefile.in	Mon Oct  9 23:10:07 2000
***************
*** 43,48 ****
--- 43,49 ----
  
  
  all: make_cmos_image
+ install:
  
  make_cmos_image@EXE@: make_cmos_image.o
  	@LINK@ make_cmos_image.o
***************
*** 51,55 ****
--- 52,57 ----
  	@RMCOMMAND@ *.o
  	@RMCOMMAND@ make_cmos_image@EXE@
  
+ distclean: dist-clean
  dist-clean: clean
  	@RMCOMMAND@ Makefile
Binary files clean-bochs-2000-03-25/misc/sb16/sb16ctrl.exe and bochs-goswin/misc/sb16/sb16ctrl.exe differ
